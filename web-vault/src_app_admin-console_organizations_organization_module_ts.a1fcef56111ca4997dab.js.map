{"version":3,"file":"src_app_admin-console_organizations_organization_module_ts.a1fcef56111ca4997dab.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/../../libs/assets/src/svg/svgs/admin-console.ts","webpack://@bitwarden/web-vault/../../libs/assets/src/svg/svgs/restricted-view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/event.view.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/bulk-collections-dialog/bulk-collections-dialog.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/bulk-collections-dialog/bulk-collections-dialog.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/bulk-collections-dialog/index.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/collection-access-restricted.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-filter/vault-filter.component.ts","webpack://@bitwarden/web-vault/./src/app/vault/individual-vault/vault-filter/components/vault-filter.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-filter/vault-filter.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-filter/vault-filter.service.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-header/vault-header.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-header/vault-header.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault-routing.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/collections/vault.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/guards/org-permissions.guard.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/guards/org-redirect.guard.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/layouts/organization-layout.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/layouts/organization-layout.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/entity-events.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/entity-events.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/group-add-edit.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/group-add-edit.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/groups.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/manage/groups.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/organization-routing.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/organization.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/shared/components/access-selector/index.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/shared/index.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/shared/shared-organization.module.ts","webpack://@bitwarden/web-vault/./src/app/billing/warnings/components/index.ts","webpack://@bitwarden/web-vault/./src/app/billing/warnings/components/tax-id-warning.component.ts","webpack://@bitwarden/web-vault/./src/app/layouts/org-switcher/org-switcher.component.ts","webpack://@bitwarden/web-vault/./src/app/layouts/org-switcher/org-switcher.component.html"],"sourcesContent":["import { svgIcon } from \"../icon-service\";\n\nconst AdminConsoleLogo = svgIcon`\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 12.180000305175781 348.8800048828125 34.650001525878906\" data-asc=\"0.9267578125\" width=\"348.8800048828125\" height=\"34.650001525878906\"><defs/><g fill=\"#ffffff\"><g transform=\"translate(0, 0)\"><path d=\"M16.41 35.13Q18.90 32.45 20.30 29.08Q21.70 25.71 21.70 21.89Q21.70 18.07 19.70 14.40Q19.70 14.06 20.50 13.40Q21.29 12.74 21.85 12.74Q27.25 13.11 30.30 15.91Q33.35 18.70 33.35 23.05Q33.35 25.73 32.09 28.08Q30.83 30.42 28.78 31.98Q24.34 35.30 18.65 35.30Q17.26 35.30 16.41 35.13M13.23 44.70Q13.23 45.04 12.45 45.69Q11.67 46.34 11.08 46.34L0 46.34Q3.34 32.86 4.76 14.97Q4.76 14.65 5.54 14.03Q6.32 13.40 6.88 13.38Q14.70 12.79 18.07 12.79Q14.58 27.76 13.23 44.70ZM65.99 45.36Q61.23 46.39 55.76 46.39Q54.52 44.70 54.52 42.85Q54.52 40.99 55.62 33.44Q56.71 25.88 56.74 23.39Q56.74 23.07 57.54 22.44Q58.35 21.80 58.89 21.80Q64.11 21.80 68.73 23.19Q68.63 23.97 67.43 29.41Q66.24 34.84 66.24 38.12Q66.24 41.41 67.99 43.16Q67.99 43.51 67.31 44.30Q66.63 45.09 65.99 45.36M54.69 21.46Q51.78 23.61 50.28 27.29Q48.78 30.98 48.78 34.53Q48.78 38.09 49.57 40.91Q50.37 43.73 51.71 44.68Q51.71 45.04 50.93 45.69Q50.15 46.34 49.58 46.34Q43.99 46.34 40.61 43.53Q37.23 40.72 37.23 35.86Q37.23 29.83 41.80 25.73Q43.99 23.75 47.33 22.61Q50.66 21.46 54.69 21.46ZM87.92 21.24Q86.52 22.56 86.52 24.02Q86.52 27.44 91.72 31.10Q94.07 32.76 95.39 33.94Q98.34 36.57 98.34 39.66Q98.34 42.75 95.25 44.64Q92.16 46.53 86.60 46.53Q87.23 45.12 87.23 43.97Q87.23 42.82 86.58 41.74Q85.94 40.65 84.91 39.75Q83.89 38.84 82.64 37.93Q81.40 37.01 80.15 36.06Q78.91 35.11 77.88 34.11Q75.56 31.84 75.56 29.20Q75.56 26.29 77.71 24.46Q81.40 21.36 87.92 21.24M91.70 21.31Q95.14 21.31 97.61 22.67Q100.07 24.02 100.07 25.98Q100.07 29.00 94.41 29.69Q94.46 29.52 94.46 29.15Q94.46 27.29 93.29 25.72Q92.11 24.15 90.01 23.19Q90.01 22.80 90.55 22.12Q91.09 21.44 91.70 21.31M82.32 46.44Q81.10 46.53 80.52 46.53Q76.98 46.53 74.63 45.37Q72.29 44.21 72.29 42.36Q72.29 38.62 77.93 37.65Q77.73 38.70 77.77 39.49Q77.81 40.28 78.31 41.05Q78.81 41.82 79.71 42.43Q81.32 43.51 83.72 44.41Q83.72 44.78 83.26 45.50Q82.81 46.22 82.32 46.44ZM117.09 21.24Q115.70 22.56 115.70 24.02Q115.70 27.44 120.90 31.10Q123.24 32.76 124.56 33.94Q127.51 36.57 127.51 39.66Q127.51 42.75 124.43 44.64Q121.34 46.53 115.77 46.53Q116.41 45.12 116.41 43.97Q116.41 42.82 115.76 41.74Q115.11 40.65 114.09 39.75Q113.06 38.84 111.82 37.93Q110.57 37.01 109.33 36.06Q108.08 35.11 107.06 34.11Q104.74 31.84 104.74 29.20Q104.74 26.29 106.88 24.46Q110.57 21.36 117.09 21.24M120.87 21.31Q124.32 21.31 126.78 22.67Q129.25 24.02 129.25 25.98Q129.25 29.00 123.58 29.69Q123.63 29.52 123.63 29.15Q123.63 27.29 122.46 25.72Q121.29 24.15 119.19 23.19Q119.19 22.80 119.73 22.12Q120.26 21.44 120.87 21.31M111.50 46.44Q110.28 46.53 109.69 46.53Q106.15 46.53 103.81 45.37Q101.46 44.21 101.46 42.36Q101.46 38.62 107.10 37.65Q106.91 38.70 106.95 39.49Q106.98 40.28 107.48 41.05Q107.98 41.82 108.89 42.43Q110.50 43.51 112.89 44.41Q112.89 44.78 112.44 45.50Q111.99 46.22 111.50 46.44ZM149.15 12.18Q147.22 13.82 147.22 16.15Q147.22 18.48 148.50 20.81Q149.78 23.14 151.49 24.78Q153.20 26.42 154.14 27.38Q155.08 28.34 156.26 29.70Q157.45 31.05 158.13 32.13Q159.81 34.74 159.81 36.71Q159.81 38.67 159.00 40.36Q158.18 42.04 156.68 43.42Q155.18 44.80 152.84 45.70Q150.51 46.61 147.71 46.73Q148.49 45.61 148.49 44.37Q148.49 43.14 147.97 41.86Q147.46 40.58 146.41 39.11Q144.73 36.74 142.64 34.47Q140.55 32.20 139.73 31.23Q138.92 30.25 137.89 28.76Q135.89 25.88 135.89 22.97Q135.89 20.07 137.67 17.58Q139.45 15.09 142.49 13.65Q145.53 12.21 149.15 12.18M157.28 26.93Q157.28 24.56 156.42 22.05Q154.74 17.14 150.81 14.14Q150.85 13.70 151.64 13.09Q152.42 12.48 152.93 12.48Q154.71 12.48 157.09 13.18Q159.47 13.89 160.86 14.55Q160.99 15.28 160.99 17.10Q160.99 18.92 160.64 21.64Q160.30 24.37 159.81 25.95Q159.67 26.32 158.78 26.62Q157.89 26.93 157.28 26.93M145.58 44.60Q145.29 46.26 144.68 46.83Q142.11 46.83 138.62 46.17Q135.13 45.51 133.54 44.48Q133.52 43.95 133.52 42.94Q133.52 38.18 134.64 33.91Q134.74 33.52 135.47 32.92Q136.21 32.32 136.79 32.32Q137.35 35.01 138.81 37.72Q140.26 40.43 142.10 42.30Q143.95 44.17 145.58 44.60ZM177.78 46.34L166.67 46.34Q170.12 31.54 171.46 14.70Q171.46 14.38 172.25 13.75Q173.05 13.11 173.61 13.11L184.69 13.11Q182.91 20.63 181.67 29.22Q185.03 29.88 185.99 30.25Q185.99 31.76 185.42 32.47Q182.91 32.67 181.13 33.03Q180.37 38.99 179.91 44.73Q179.91 45.04 179.13 45.69Q178.34 46.34 177.78 46.34M195.92 46.34L184.84 46.34Q188.23 31.81 189.62 14.70Q189.62 14.38 190.41 13.75Q191.19 13.11 191.75 13.11L202.83 13.11Q199.44 27.56 198.05 44.73Q198.05 45.04 197.25 45.69Q196.46 46.34 195.92 46.34ZM233.50 46.34L222.14 46.34Q220.24 31.15 217.33 19.97Q218.75 17.09 219.75 14.70Q219.92 14.33 220.64 13.72Q221.36 13.11 221.88 13.11L229.64 13.11Q230.64 20.48 232.34 29.53Q234.03 38.57 235.64 44.73Q235.64 45.04 234.86 45.69Q234.08 46.34 233.50 46.34M213.99 42.02L214.06 44.73Q214.06 45.04 213.27 45.69Q212.48 46.34 211.91 46.34L204.13 46.34Q207.98 39.79 216.09 22.36Q216.31 23.00 216.31 24.13Q216.31 25.27 215.98 27.42Q215.65 29.57 215.14 32.48Q214.62 35.40 214.38 37.21Q217.90 37.74 219.48 38.40Q219.48 39.87 218.99 40.58Q216.46 40.80 213.99 41.24L213.99 42.02ZM269.26 44.73Q269.26 45.04 268.48 45.69Q267.70 46.34 267.14 46.34L260.84 46.34Q258.08 41.33 253.48 34.94Q248.88 28.54 245.09 24.22Q245.41 21.61 246.07 14.70Q246.14 14.36 246.91 13.73Q247.68 13.11 248.19 13.11L254.57 13.11Q257.81 18.82 261.51 23.93Q265.21 29.03 270.14 35.06Q269.51 40.92 269.26 44.73M268.85 30.79Q267.68 24.76 266.71 21.30Q265.75 17.85 264.11 14.70Q264.11 14.38 264.90 13.75Q265.70 13.11 266.28 13.11L274.05 13.11Q272.41 20.17 271.00 29.15Q271.00 29.49 270.21 30.14Q269.43 30.79 268.85 30.79M246.41 28.98Q247.05 34.11 248.14 37.56Q249.24 41.02 251.20 44.73Q251.20 45.04 250.42 45.69Q249.63 46.34 249.05 46.34L241.28 46.34Q242.92 39.23 244.26 30.59Q244.26 30.27 245.06 29.63Q245.85 28.98 246.41 28.98ZM297.05 46.34L285.67 46.34Q289.26 33.37 290.77 14.70Q290.77 14.38 291.56 13.75Q292.36 13.11 292.90 13.11L303.78 13.11Q300.63 26.37 299.19 44.73Q299.19 45.04 298.41 45.69Q297.63 46.34 297.05 46.34M308.47 28.39Q308.47 25.05 307.41 20.97Q306.35 16.89 305.13 15.06Q305.27 13.94 305.86 13.11L313.45 13.11Q312.67 20.46 311.38 26.78Q311.28 27.15 310.19 27.77Q309.11 28.39 308.47 28.39M278.74 28.37Q278.93 25.51 279.66 20.86Q280.40 16.21 280.76 14.84Q280.93 14.36 281.60 13.73Q282.28 13.11 282.71 13.11L290.14 13.11Q287.65 16.09 286.32 18.60Q284.99 21.12 283.75 23.47Q282.52 25.83 281.86 27.05Q281.71 27.32 280.51 27.84Q279.30 28.37 278.74 28.37ZM330.20 46.83Q333.76 43.85 335.51 38.13Q337.26 32.42 337.26 26.11Q337.26 19.80 335.96 14.70Q335.96 14.36 336.76 13.71Q337.55 13.06 338.11 13.06Q341.65 13.75 344.14 16.02Q348.88 20.34 348.88 28.00Q348.88 33.84 345.95 38.53Q342.70 43.77 337.01 45.75Q333.89 46.83 330.20 46.83M335.06 12.48Q331.47 15.48 329.71 21.17Q327.95 26.86 327.95 33.20Q327.95 39.55 329.30 44.58Q329.30 44.92 328.50 45.58Q327.71 46.24 327.12 46.24Q321.75 45.17 318.99 40.87Q316.36 36.74 316.36 31.32Q316.36 25.49 319.29 20.75Q322.51 15.55 328.22 13.57Q331.35 12.48 335.06 12.48Z\"/></g></g></svg>\n`;\n\nexport default AdminConsoleLogo;\n","import { svgIcon } from \"../icon-service\";\n\nexport const RestrictedView = svgIcon`\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"5.52 2.62 110 110\">\n    <path class=\"tw-fill-illustration-bg-secondary\" d=\"M25.518 12.621c0-5.523 4.477-10 10-10h50c5.523 0 10 4.477 10 10v2.5h-70v-2.5Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"M85.518 5.121h-50a7.5 7.5 0 0 0-7.5 7.5h65a7.5 7.5 0 0 0-7.5-7.5Zm-50-2.5c-5.523 0-10 4.477-10 10v2.5h70v-2.5c0-5.523-4.477-10-10-10h-50Z\" clip-rule=\"evenodd\"/>\n    <path class=\"tw-fill-illustration-bg-primary\" d=\"M15.518 22.621c0-5.523 4.477-10 10-10h70c5.523 0 10 4.477 10 10v2.5h-90v-2.5Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"M95.518 15.121h-70a7.5 7.5 0 0 0-7.5 7.5h85a7.5 7.5 0 0 0-7.5-7.5Zm-70-2.5c-5.523 0-10 4.477-10 10v2.5h90v-2.5c0-5.523-4.477-10-10-10h-70Z\" clip-rule=\"evenodd\"/>\n    <path class=\"tw-fill-illustration-bg-tertiary\" d=\"M5.518 32.621c0-5.523 4.477-10 10-10h90c5.523 0 10 4.477 10 10v70c0 5.523-4.477 10-10 10h-90c-5.523 0-10-4.477-10-10v-70Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"M105.518 25.121h-90a7.5 7.5 0 0 0-7.5 7.5v70a7.5 7.5 0 0 0 7.5 7.5h90a7.5 7.5 0 0 0 7.5-7.5v-70a7.5 7.5 0 0 0-7.5-7.5Zm-90-2.5c-5.523 0-10 4.477-10 10v70c0 5.523 4.477 10 10 10h90c5.523 0 10-4.477 10-10v-70c0-5.523-4.477-10-10-10h-90Z\" clip-rule=\"evenodd\"/>\n    <path class=\"tw-fill-illustration-tertiary\" d=\"M95.518 67.621c0 19.33-15.67 35-35 35s-35-15.67-35-35 15.67-35 35-35 35 15.67 35 35Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"M60.518 100.121c17.95 0 32.5-14.55 32.5-32.5s-14.55-32.5-32.5-32.5-32.5 14.55-32.5 32.5 14.55 32.5 32.5 32.5Zm0 2.5c19.33 0 35-15.67 35-35s-15.67-35-35-35-35 15.67-35 35 15.67 35 35 35Z\" clip-rule=\"evenodd\"/>\n    <path class=\"tw-fill-illustration-bg-tertiary\" d=\"m41.092 59.482-6.328 6.378a2.5 2.5 0 0 0 0 3.522l6.328 6.378a27.362 27.362 0 0 0 19.426 8.111 27.362 27.362 0 0 0 19.425-8.11l6.328-6.38a2.5 2.5 0 0 0 0-3.52l-6.328-6.379a27.362 27.362 0 0 0-19.425-8.11 27.362 27.362 0 0 0-19.426 8.11Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"m42.867 61.243-6.328 6.378L42.867 74a24.862 24.862 0 0 0 17.65 7.371c6.617 0 12.967-2.65 17.652-7.371l6.327-6.379-6.327-6.378a24.862 24.862 0 0 0-17.651-7.372 24.862 24.862 0 0 0-17.651 7.372Zm-8.102 4.617 6.327-6.378a27.362 27.362 0 0 1 19.426-8.11 27.362 27.362 0 0 1 19.425 8.11l6.328 6.378a2.5 2.5 0 0 1 0 3.522l-6.328 6.378a27.362 27.362 0 0 1-19.425 8.111 27.362 27.362 0 0 1-19.426-8.11l-6.328-6.38a2.5 2.5 0 0 1 0-3.52Z\" clip-rule=\"evenodd\"/>\n    <path class=\"tw-fill-illustration-bg-primary\" d=\"M71.768 67.621c0 6.213-5.037 11.25-11.25 11.25s-11.25-5.037-11.25-11.25 5.037-11.25 11.25-11.25 11.25 5.037 11.25 11.25Z\"/>\n    <path class=\"tw-fill-illustration-bg-secondary\" d=\"M68.018 67.621a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Z\"/>\n    <path class=\"tw-fill-illustration-outline\" fill-rule=\"evenodd\" d=\"M42.134 49.237a1.25 1.25 0 0 1 1.768 0l35 35a1.25 1.25 0 1 1-1.768 1.768l-35-35a1.25 1.25 0 0 1 0-1.768Z\" clip-rule=\"evenodd\"/>\n  </svg>\n`;\n","import { EventSystemUser, EventType } from \"../../enums\";\n\nexport class EventView {\n  message: string;\n  humanReadableMessage: string;\n  appIcon: string;\n  appName: string;\n  userId: string;\n  userName: string;\n  userEmail: string;\n  date: string;\n  ip: string;\n  type: EventType;\n  installationId: string;\n  systemUser: EventSystemUser;\n  serviceAccountId: string;\n\n  constructor(data: Required<EventView>) {\n    this.message = data.message;\n    this.humanReadableMessage = data.humanReadableMessage;\n    this.appIcon = data.appIcon;\n    this.appName = data.appName;\n    this.userId = data.userId;\n    this.userName = data.userName;\n    this.userEmail = data.userEmail;\n    this.date = data.date;\n    this.ip = data.ip;\n    this.type = data.type;\n    this.installationId = data.installationId;\n    this.systemUser = data.systemUser;\n    this.serviceAccountId = data.serviceAccountId;\n  }\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, Inject, OnDestroy } from \"@angular/core\";\nimport { FormBuilder } from \"@angular/forms\";\nimport { combineLatest, of, Subject, switchMap, takeUntil } from \"rxjs\";\n\nimport {\n  CollectionAdminService,\n  OrganizationUserApiService,\n  CollectionView,\n} from \"@bitwarden/admin-console/common\";\nimport {\n  getOrganizationById,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport {\n  DIALOG_DATA,\n  DialogConfig,\n  DialogRef,\n  DialogService,\n  ToastService,\n} from \"@bitwarden/components\";\n\nimport { SharedModule } from \"../../../../shared\";\nimport { GroupApiService, GroupView } from \"../../core\";\nimport {\n  AccessItemType,\n  AccessItemValue,\n  AccessItemView,\n  AccessSelectorModule,\n  convertToSelectionView,\n  mapGroupToAccessItemView,\n  mapUserToAccessItemView,\n  PermissionMode,\n} from \"../../shared/components/access-selector\";\n\nexport interface BulkCollectionsDialogParams {\n  organizationId: string;\n  collections: CollectionView[];\n}\n\n// FIXME: update to use a const object instead of a typescript enum\n// eslint-disable-next-line @bitwarden/platform/no-enums\nexport enum BulkCollectionsDialogResult {\n  Saved = \"saved\",\n  Canceled = \"canceled\",\n}\n\n@Component({\n  imports: [SharedModule, AccessSelectorModule],\n  selector: \"app-bulk-collections-dialog\",\n  templateUrl: \"bulk-collections-dialog.component.html\",\n})\nexport class BulkCollectionsDialogComponent implements OnDestroy {\n  protected readonly PermissionMode = PermissionMode;\n\n  protected formGroup = this.formBuilder.group({\n    access: [[] as AccessItemValue[]],\n  });\n  protected loading = true;\n  protected organization: Organization;\n  protected accessItems: AccessItemView[] = [];\n  protected numCollections: number;\n\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    @Inject(DIALOG_DATA) private params: BulkCollectionsDialogParams,\n    private dialogRef: DialogRef<BulkCollectionsDialogResult>,\n    private formBuilder: FormBuilder,\n    private organizationService: OrganizationService,\n    private accountService: AccountService,\n    private groupService: GroupApiService,\n    private organizationUserApiService: OrganizationUserApiService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private collectionAdminService: CollectionAdminService,\n    private toastService: ToastService,\n  ) {\n    this.numCollections = this.params.collections.length;\n    const organization$ = this.accountService.activeAccount$.pipe(\n      switchMap((account) =>\n        this.organizationService\n          .organizations$(account?.id)\n          .pipe(getOrganizationById(this.params.organizationId)),\n      ),\n    );\n    const groups$ = organization$.pipe(\n      switchMap((organization) => {\n        if (!organization.useGroups) {\n          return of([] as GroupView[]);\n        }\n        return this.groupService.getAll(organization.id);\n      }),\n    );\n\n    combineLatest([\n      organization$,\n      groups$,\n      this.organizationUserApiService.getAllMiniUserDetails(this.params.organizationId),\n    ])\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(([organization, groups, users]) => {\n        this.organization = organization;\n\n        this.accessItems = [].concat(\n          groups.map(mapGroupToAccessItemView),\n          users.data.map(mapUserToAccessItemView),\n        );\n\n        this.loading = false;\n      });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    const users = this.formGroup.controls.access.value\n      .filter((v) => v.type === AccessItemType.Member)\n      .map(convertToSelectionView);\n\n    const groups = this.formGroup.controls.access.value\n      .filter((v) => v.type === AccessItemType.Group)\n      .map(convertToSelectionView);\n\n    await this.collectionAdminService.bulkAssignAccess(\n      this.organization.id,\n      this.params.collections.map((c) => c.id),\n      users,\n      groups,\n    );\n\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\"editedCollections\"),\n    });\n\n    this.dialogRef.close(BulkCollectionsDialogResult.Saved);\n  };\n\n  static open(dialogService: DialogService, config: DialogConfig<BulkCollectionsDialogParams>) {\n    return dialogService.open<BulkCollectionsDialogResult, BulkCollectionsDialogParams>(\n      BulkCollectionsDialogComponent,\n      config,\n    );\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog [loading]=\"loading\" dialogSize=\"large\">\n    <span bitDialogTitle>\n      {{ \"assignCollectionAccess\" | i18n }}\n      <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n        {{ numCollections }} {{ (numCollections == 1 ? \"collection\" : \"collections\") | i18n }}\n      </span>\n    </span>\n\n    <div bitDialogContent>\n      <bit-access-selector\n        *ngIf=\"organization?.useGroups\"\n        [permissionMode]=\"PermissionMode.Edit\"\n        formControlName=\"access\"\n        [items]=\"accessItems\"\n        [columnHeader]=\"'groupSlashMemberColumnHeader' | i18n\"\n        [selectorLabelText]=\"'selectGroupsAndMembers' | i18n\"\n        [selectorHelpText]=\"'userPermissionOverrideHelperDesc' | i18n\"\n        [emptySelectionText]=\"'noMembersOrGroupsAdded' | i18n\"\n      ></bit-access-selector>\n      <bit-access-selector\n        *ngIf=\"!organization?.useGroups\"\n        [permissionMode]=\"PermissionMode.Edit\"\n        formControlName=\"access\"\n        [items]=\"accessItems\"\n        [columnHeader]=\"'memberColumnHeader' | i18n\"\n        [selectorLabelText]=\"'selectMembers' | i18n\"\n        [emptySelectionText]=\"'noMembersAdded' | i18n\"\n      ></bit-access-selector>\n    </div>\n\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton bitFormButton buttonType=\"primary\">\n        {{ \"save\" | i18n }}\n      </button>\n      <button type=\"button\" bitButton bitFormButton buttonType=\"secondary\" bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","export * from \"./bulk-collections-dialog.component\";\n","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\n\nimport { RestrictedView } from \"@bitwarden/assets/svg\";\nimport { ButtonModule, NoItemsModule } from \"@bitwarden/components\";\n\nimport { SharedModule } from \"../../../shared\";\nimport { CollectionDialogTabType } from \"../shared/components/collection-dialog\";\n\n@Component({\n  selector: \"collection-access-restricted\",\n  imports: [SharedModule, ButtonModule, NoItemsModule],\n  template: `<bit-no-items [icon]=\"icon\" class=\"tw-mt-2 tw-block\">\n    <span slot=\"title\" class=\"tw-mt-4 tw-block\">{{ \"youDoNotHavePermissions\" | i18n }}</span>\n    <button\n      *ngIf=\"canEditCollection\"\n      slot=\"button\"\n      bitButton\n      (click)=\"viewCollectionClicked.emit({ readonly: false, tab: collectionDialogTabType.Info })\"\n      buttonType=\"secondary\"\n      type=\"button\"\n    >\n      <i aria-hidden=\"true\" class=\"bwi bwi-pencil-square\"></i> {{ \"editCollection\" | i18n }}\n    </button>\n    <button\n      *ngIf=\"!canEditCollection && canViewCollectionInfo\"\n      slot=\"button\"\n      bitButton\n      (click)=\"viewCollectionClicked.emit({ readonly: true, tab: collectionDialogTabType.Access })\"\n      buttonType=\"secondary\"\n      type=\"button\"\n    >\n      <i aria-hidden=\"true\" class=\"bwi bwi-users\"></i> {{ \"viewAccess\" | i18n }}\n    </button>\n  </bit-no-items>`,\n})\nexport class CollectionAccessRestrictedComponent {\n  protected icon = RestrictedView;\n  protected collectionDialogTabType = CollectionDialogTabType;\n\n  @Input() canEditCollection = false;\n  @Input() canViewCollectionInfo = false;\n\n  @Output() viewCollectionClicked = new EventEmitter<{\n    readonly: boolean;\n    tab: CollectionDialogTabType;\n  }>();\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from \"@angular/core\";\nimport { firstValueFrom, Subject } from \"rxjs\";\n\nimport { PolicyService } from \"@bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingApiServiceAbstraction } from \"@bitwarden/common/billing/abstractions/billing-api.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { CipherArchiveService } from \"@bitwarden/common/vault/abstractions/cipher-archive.service\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { TreeNode } from \"@bitwarden/common/vault/models/domain/tree-node\";\nimport { RestrictedItemTypesService } from \"@bitwarden/common/vault/services/restricted-item-types.service\";\nimport { DialogService, ToastService } from \"@bitwarden/components\";\n\nimport { VaultFilterComponent as BaseVaultFilterComponent } from \"../../../../vault/individual-vault/vault-filter/components/vault-filter.component\";\nimport { VaultFilterService } from \"../../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service\";\nimport {\n  VaultFilterList,\n  VaultFilterSection,\n  VaultFilterType,\n} from \"../../../../vault/individual-vault/vault-filter/shared/models/vault-filter-section.type\";\nimport { CollectionFilter } from \"../../../../vault/individual-vault/vault-filter/shared/models/vault-filter.type\";\n\n@Component({\n  selector: \"app-organization-vault-filter\",\n  templateUrl:\n    \"../../../../vault/individual-vault/vault-filter/components/vault-filter.component.html\",\n  standalone: false,\n})\nexport class VaultFilterComponent\n  extends BaseVaultFilterComponent\n  implements OnInit, OnDestroy, OnChanges\n{\n  @Input() set organization(value: Organization) {\n    if (value && value !== this._organization) {\n      this._organization = value;\n      this.vaultFilterService.setOrganizationFilter(this._organization);\n    }\n  }\n  _organization: Organization;\n  protected destroy$: Subject<void>;\n\n  constructor(\n    protected vaultFilterService: VaultFilterService,\n    protected policyService: PolicyService,\n    protected i18nService: I18nService,\n    protected platformUtilsService: PlatformUtilsService,\n    protected toastService: ToastService,\n    protected billingApiService: BillingApiServiceAbstraction,\n    protected dialogService: DialogService,\n    protected accountService: AccountService,\n    protected restrictedItemTypesService: RestrictedItemTypesService,\n    protected cipherService: CipherService,\n    protected cipherArchiveService: CipherArchiveService,\n  ) {\n    super(\n      vaultFilterService,\n      policyService,\n      i18nService,\n      platformUtilsService,\n      toastService,\n      billingApiService,\n      dialogService,\n      accountService,\n      restrictedItemTypesService,\n      cipherService,\n      cipherArchiveService,\n    );\n  }\n\n  async ngOnInit() {\n    this.filters = await this.buildAllFilters();\n    if (!this.activeFilter.selectedCipherTypeNode) {\n      this.activeFilter.resetFilter();\n      this.activeFilter.selectedCollectionNode =\n        (await this.getDefaultFilter()) as TreeNode<CollectionFilter>;\n    }\n    this.isLoaded = true;\n  }\n\n  async ngOnChanges(changes: SimpleChanges) {\n    if (changes.organization) {\n      this.filters = await this.buildAllFilters();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  async removeCollapsibleCollection() {\n    const collapsedNodes = await firstValueFrom(this.vaultFilterService.collapsedFilterNodes$);\n\n    collapsedNodes.delete(\"AllCollections\");\n    const userId = await firstValueFrom(this.activeUserId$);\n    await this.vaultFilterService.setCollapsedFilterNodes(collapsedNodes, userId);\n  }\n\n  protected async addCollectionFilter(): Promise<VaultFilterSection> {\n    // Ensure the Collections filter is never collapsed for the org vault\n    // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.removeCollapsibleCollection();\n\n    const collectionFilterSection: VaultFilterSection = {\n      data$: this.vaultFilterService.buildTypeTree(\n        {\n          id: \"AllCollections\",\n          name: \"collections\",\n          type: \"all\",\n          icon: \"bwi-collection-shared\",\n        },\n        [\n          {\n            id: \"AllCollections\",\n            name: \"Collections\",\n            type: \"all\",\n            icon: \"bwi-collection-shared\",\n          },\n        ],\n      ),\n      header: {\n        showHeader: false,\n        isSelectable: true,\n      },\n      action: this.applyCollectionFilter,\n    };\n    return collectionFilterSection;\n  }\n\n  async buildAllFilters(): Promise<VaultFilterList> {\n    const builderFilter = {} as VaultFilterList;\n    builderFilter.typeFilter = await this.addTypeFilter([\"favorites\"], this._organization?.id);\n    builderFilter.collectionFilter = await this.addCollectionFilter();\n    builderFilter.trashFilter = await this.addTrashFilter();\n    return builderFilter;\n  }\n\n  async getDefaultFilter(): Promise<TreeNode<VaultFilterType>> {\n    return await firstValueFrom(this.filters?.collectionFilter.data$);\n  }\n}\n","<div class=\"tw-border tw-border-solid tw-border-secondary-300 tw-rounded\" data-testid=\"filters\">\n  <div class=\"tw-text-center tw-p-5\" *ngIf=\"!isLoaded\">\n    <i class=\"bwi bwi-spinner bwi-spin\" aria-hidden=\"true\"></i>\n  </div>\n  <div *ngIf=\"isLoaded\">\n    <div\n      class=\"tw-bg-background-alt tw-border-0 tw-border-b tw-border-solid tw-border-secondary-100 tw-rounded-t tw-px-5 tw-py-2.5 tw-font-semibold tw-uppercase\"\n      data-testid=\"filters-header\"\n    >\n      {{ \"filters\" | i18n }}\n      <a\n        bitLink\n        class=\"tw-float-right\"\n        href=\"https://bitwarden.com/help/searching-vault/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        appA11yTitle=\"{{ 'learnMoreAboutSearchingYourVault' | i18n }}\"\n      >\n        <i class=\"bwi bwi-question-circle\" aria-hidden=\"true\"></i>\n      </a>\n    </div>\n    <div class=\"tw-p-5\" data-testid=\"filters-body\">\n      <div class=\"tw-mb-4\">\n        <bit-search\n          id=\"search\"\n          placeholder=\"{{ searchPlaceholder | i18n }}\"\n          [(ngModel)]=\"searchText\"\n          (ngModelChange)=\"onSearchTextChanged($event)\"\n          autocomplete=\"off\"\n          appAutofocus\n        />\n      </div>\n      <ng-container *ngFor=\"let f of filtersList\">\n        <div class=\"filter\">\n          <app-filter-section [activeFilter]=\"activeFilter\" [section]=\"f\"> </app-filter-section>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>\n","import { NgModule } from \"@angular/core\";\n\nimport { SearchModule } from \"@bitwarden/components\";\n\nimport { VaultFilterService as VaultFilterServiceAbstraction } from \"../../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service\";\nimport { VaultFilterSharedModule } from \"../../../../vault/individual-vault/vault-filter/shared/vault-filter-shared.module\";\n\nimport { VaultFilterComponent } from \"./vault-filter.component\";\nimport { VaultFilterService } from \"./vault-filter.service\";\n\n@NgModule({\n  imports: [VaultFilterSharedModule, SearchModule],\n  declarations: [VaultFilterComponent],\n  exports: [VaultFilterComponent],\n  providers: [\n    {\n      provide: VaultFilterServiceAbstraction,\n      useClass: VaultFilterService,\n    },\n  ],\n})\nexport class VaultFilterModule {}\n","import { Injectable, OnDestroy } from \"@angular/core\";\nimport { map, Observable, ReplaySubject, Subject } from \"rxjs\";\n\nimport { CollectionAdminView, CollectionService } from \"@bitwarden/admin-console/common\";\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { PolicyService } from \"@bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { ConfigService } from \"@bitwarden/common/platform/abstractions/config/config.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { StateProvider } from \"@bitwarden/common/platform/state\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { FolderService } from \"@bitwarden/common/vault/abstractions/folder/folder.service.abstraction\";\nimport { TreeNode } from \"@bitwarden/common/vault/models/domain/tree-node\";\n\nimport { VaultFilterService as BaseVaultFilterService } from \"../../../../vault/individual-vault/vault-filter/services/vault-filter.service\";\nimport { CollectionFilter } from \"../../../../vault/individual-vault/vault-filter/shared/models/vault-filter.type\";\n\n@Injectable()\nexport class VaultFilterService extends BaseVaultFilterService implements OnDestroy {\n  private destroy$ = new Subject<void>();\n  private _collections = new ReplaySubject<CollectionAdminView[]>(1);\n\n  filteredCollections$: Observable<CollectionAdminView[]> = this._collections.asObservable();\n\n  collectionTree$: Observable<TreeNode<CollectionFilter>> = this.filteredCollections$.pipe(\n    map((collections) => this.buildCollectionTree(collections)),\n  );\n\n  constructor(\n    organizationService: OrganizationService,\n    folderService: FolderService,\n    cipherService: CipherService,\n    policyService: PolicyService,\n    i18nService: I18nService,\n    stateProvider: StateProvider,\n    collectionService: CollectionService,\n    accountService: AccountService,\n    configService: ConfigService,\n  ) {\n    super(\n      organizationService,\n      folderService,\n      cipherService,\n      policyService,\n      i18nService,\n      stateProvider,\n      collectionService,\n      accountService,\n      configService,\n    );\n  }\n\n  async reloadCollections(collections: CollectionAdminView[]) {\n    this._collections.next(collections);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\n// FIXME: rename output bindings and then remove this line\n/* eslint-disable @angular-eslint/no-output-on-prefix */\nimport { CommonModule } from \"@angular/common\";\nimport { Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { firstValueFrom, switchMap } from \"rxjs\";\n\nimport {\n  CollectionAdminService,\n  CollectionAdminView,\n  Unassigned,\n} from \"@bitwarden/admin-console/common\";\nimport { JslibModule } from \"@bitwarden/angular/jslib.module\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { ProductTierType } from \"@bitwarden/common/billing/enums\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { CipherType } from \"@bitwarden/common/vault/enums\";\nimport { TreeNode } from \"@bitwarden/common/vault/models/domain/tree-node\";\nimport {\n  BreadcrumbsModule,\n  DialogService,\n  MenuModule,\n  SearchModule,\n  SimpleDialogOptions,\n} from \"@bitwarden/components\";\nimport { NewCipherMenuComponent } from \"@bitwarden/vault\";\n\nimport { HeaderModule } from \"../../../../layouts/header/header.module\";\nimport { SharedModule } from \"../../../../shared\";\nimport {\n  All,\n  RoutedVaultFilterModel,\n} from \"../../../../vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model\";\nimport { CollectionDialogTabType } from \"../../shared/components/collection-dialog\";\n\n@Component({\n  selector: \"app-org-vault-header\",\n  templateUrl: \"./vault-header.component.html\",\n  imports: [\n    CommonModule,\n    MenuModule,\n    SharedModule,\n    BreadcrumbsModule,\n    HeaderModule,\n    SearchModule,\n    JslibModule,\n    NewCipherMenuComponent,\n  ],\n})\nexport class VaultHeaderComponent {\n  protected All = All;\n  protected Unassigned = Unassigned;\n\n  /**\n   * Boolean to determine the loading state of the header.\n   * Shows a loading spinner if set to true\n   */\n  @Input() loading: boolean;\n\n  /** Current active filter */\n  @Input() filter: RoutedVaultFilterModel;\n\n  /** The organization currently being viewed */\n  @Input() organization: Organization;\n\n  /** Currently selected collection */\n  @Input() collection?: TreeNode<CollectionAdminView>;\n\n  /** The current search text in the header */\n  @Input() searchText: string;\n\n  /** Emits an event when the new item button is clicked in the header */\n  @Output() onAddCipher = new EventEmitter<CipherType | undefined>();\n\n  /** Emits an event when the new collection button is clicked in the header */\n  @Output() onAddCollection = new EventEmitter<void>();\n\n  /** Emits an event when the edit collection button is clicked in the header */\n  @Output() onEditCollection = new EventEmitter<{\n    tab: CollectionDialogTabType;\n    readonly: boolean;\n  }>();\n\n  /** Emits an event when the delete collection button is clicked in the header */\n  @Output() onDeleteCollection = new EventEmitter<void>();\n\n  /** Emits an event when the search text changes in the header*/\n  @Output() searchTextChanged = new EventEmitter<string>();\n\n  protected CollectionDialogTabType = CollectionDialogTabType;\n\n  /** The cipher type enum. */\n  protected CipherType = CipherType;\n\n  constructor(\n    private i18nService: I18nService,\n    private dialogService: DialogService,\n    private collectionAdminService: CollectionAdminService,\n    private router: Router,\n    private accountService: AccountService,\n  ) {}\n\n  get title() {\n    const headerType = this.i18nService.t(\"collections\").toLowerCase();\n\n    if (this.collection != null) {\n      return this.collection.node.name;\n    }\n\n    if (this.filter.collectionId === Unassigned) {\n      return this.i18nService.t(\"unassigned\");\n    }\n\n    return this.organization?.name\n      ? `${this.organization?.name} ${headerType}`\n      : this.i18nService.t(\"collections\");\n  }\n\n  get icon() {\n    return this.filter.collectionId !== undefined ? \"bwi-collection-shared\" : \"\";\n  }\n\n  protected get showBreadcrumbs() {\n    return this.filter.collectionId !== undefined && this.filter.collectionId !== All;\n  }\n\n  /**\n   * A list of collection filters that form a chain from the organization root to currently selected collection.\n   * Begins from the organization root and excludes the currently selected collection.\n   */\n  protected get collections() {\n    if (this.collection == undefined) {\n      return [];\n    }\n\n    const collections = [this.collection];\n    while (collections[collections.length - 1].parent != undefined) {\n      collections.push(collections[collections.length - 1].parent);\n    }\n\n    return collections\n      .slice(1)\n      .reverse()\n      .map((treeNode) => treeNode.node);\n  }\n\n  private showFreeOrgUpgradeDialog(): void {\n    const orgUpgradeSimpleDialogOpts: SimpleDialogOptions = {\n      title: this.i18nService.t(\"upgradeOrganization\"),\n      content: this.i18nService.t(\n        this.organization.canEditSubscription\n          ? \"freeOrgMaxCollectionReachedManageBilling\"\n          : \"freeOrgMaxCollectionReachedNoManageBilling\",\n        this.organization.maxCollections,\n      ),\n      type: \"primary\",\n    };\n\n    if (this.organization.canEditSubscription) {\n      orgUpgradeSimpleDialogOpts.acceptButtonText = this.i18nService.t(\"upgrade\");\n    } else {\n      orgUpgradeSimpleDialogOpts.acceptButtonText = this.i18nService.t(\"ok\");\n      orgUpgradeSimpleDialogOpts.cancelButtonText = null; // hide secondary btn\n    }\n\n    const simpleDialog = this.dialogService.openSimpleDialogRef(orgUpgradeSimpleDialogOpts);\n\n    // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    firstValueFrom(simpleDialog.closed).then((result: boolean | undefined) => {\n      if (!result) {\n        return;\n      }\n\n      if (result && this.organization.canEditSubscription) {\n        // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.router.navigate([\"/organizations\", this.organization.id, \"billing\", \"subscription\"], {\n          queryParams: { upgrade: true },\n        });\n      }\n    });\n  }\n\n  get canEditCollection(): boolean {\n    // Only edit collections if not editing \"Unassigned\"\n    if (this.collection === undefined) {\n      return false;\n    }\n\n    // Otherwise, check if we can edit the specified collection\n    return this.collection.node.canEdit(this.organization);\n  }\n\n  addCipher(cipherType?: CipherType) {\n    this.onAddCipher.emit(cipherType);\n  }\n\n  async addCollection() {\n    if (this.organization.productTierType === ProductTierType.Free) {\n      const collections = await firstValueFrom(\n        this.accountService.activeAccount$.pipe(\n          getUserId,\n          switchMap((userId) =>\n            this.collectionAdminService.collectionAdminViews$(this.organization.id, userId),\n          ),\n        ),\n      );\n      if (collections.length === this.organization.maxCollections) {\n        this.showFreeOrgUpgradeDialog();\n        return;\n      }\n    }\n\n    this.onAddCollection.emit();\n  }\n\n  async editCollection(tab: CollectionDialogTabType, readonly: boolean): Promise<void> {\n    this.onEditCollection.emit({ tab, readonly });\n  }\n\n  get canDeleteCollection(): boolean {\n    // Only delete collections if not deleting \"Unassigned\"\n    if (this.collection === undefined) {\n      return false;\n    }\n\n    // Otherwise, check if we can delete the specified collection\n    return this.collection.node.canDelete(this.organization);\n  }\n\n  get canViewCollectionInfo(): boolean {\n    return this.collection.node.canViewCollectionInfo(this.organization);\n  }\n\n  get canCreateCollection(): boolean {\n    return this.organization?.canCreateNewCollections;\n  }\n\n  get canCreateCipher(): boolean {\n    if (this.organization?.isProviderUser && !this.organization?.isMember) {\n      return false;\n    }\n    return true;\n  }\n\n  deleteCollection() {\n    this.onDeleteCollection.emit();\n  }\n\n  onSearchTextChanged(t: string) {\n    this.searchText = t;\n    this.searchTextChanged.emit(t);\n  }\n}\n","<app-header [title]=\"title\" [icon]=\"icon\">\n  <bit-breadcrumbs *ngIf=\"showBreadcrumbs\" slot=\"breadcrumbs\">\n    <bit-breadcrumb\n      [route]=\"[]\"\n      [queryParams]=\"{ organizationId: organization.id, collectionId: null }\"\n      queryParamsHandling=\"merge\"\n    >\n      {{ organization.name }}\n      <span>\n        {{ \"collections\" | i18n | lowercase }}\n      </span>\n    </bit-breadcrumb>\n\n    <ng-container>\n      <bit-breadcrumb\n        *ngFor=\"let collection of collections\"\n        icon=\"bwi-collection-shared\"\n        [route]=\"[]\"\n        [queryParams]=\"{ collectionId: collection.id }\"\n        queryParamsHandling=\"merge\"\n      >\n        {{ collection.name }}\n      </bit-breadcrumb>\n    </ng-container>\n  </bit-breadcrumbs>\n\n  <ng-container slot=\"title-suffix\">\n    @if (\n      collection != null && (canEditCollection || canDeleteCollection || canViewCollectionInfo)\n    ) {\n      <ng-container>\n        <button\n          bitIconButton=\"bwi-angle-down\"\n          [bitMenuTriggerFor]=\"editCollectionMenu\"\n          size=\"small\"\n          type=\"button\"\n          [label]=\"'editCollection' | i18n\"\n        ></button>\n        <bit-menu #editCollectionMenu>\n          <ng-container *ngIf=\"canEditCollection\">\n            <button\n              type=\"button\"\n              bitMenuItem\n              (click)=\"editCollection(CollectionDialogTabType.Info, false)\"\n            >\n              <i class=\"bwi bwi-fw bwi-pencil-square\" aria-hidden=\"true\"></i>\n              {{ \"editInfo\" | i18n }}\n            </button>\n            <button\n              type=\"button\"\n              bitMenuItem\n              (click)=\"editCollection(CollectionDialogTabType.Access, false)\"\n            >\n              <i class=\"bwi bwi-fw bwi-users\" aria-hidden=\"true\"></i>\n              {{ \"access\" | i18n }}\n            </button>\n          </ng-container>\n          <ng-container *ngIf=\"!canEditCollection && canViewCollectionInfo\">\n            <button\n              type=\"button\"\n              bitMenuItem\n              (click)=\"editCollection(CollectionDialogTabType.Info, true)\"\n            >\n              <i class=\"bwi bwi-fw bwi-pencil-square\" aria-hidden=\"true\"></i>\n              {{ \"viewInfo\" | i18n }}\n            </button>\n            <button\n              type=\"button\"\n              bitMenuItem\n              (click)=\"editCollection(CollectionDialogTabType.Access, true)\"\n            >\n              <i class=\"bwi bwi-fw bwi-users\" aria-hidden=\"true\"></i>\n              {{ \"viewAccess\" | i18n }}\n            </button>\n          </ng-container>\n          <button\n            type=\"button\"\n            *ngIf=\"canDeleteCollection\"\n            bitMenuItem\n            (click)=\"deleteCollection()\"\n          >\n            <span class=\"tw-text-danger\">\n              <i class=\"bwi bwi-fw bwi-trash\" aria-hidden=\"true\"></i>\n              {{ \"delete\" | i18n }}\n            </span>\n          </button>\n        </bit-menu>\n      </ng-container>\n    }\n    <small *ngIf=\"loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </ng-container>\n\n  <bit-search\n    *ngIf=\"organization?.isProviderUser && !organization?.isMember\"\n    class=\"tw-grow\"\n    [ngModel]=\"searchText\"\n    (ngModelChange)=\"onSearchTextChanged($event)\"\n    [placeholder]=\"'searchCollection' | i18n\"\n  ></bit-search>\n\n  <div\n    *ngIf=\"filter.type !== 'trash' && filter.collectionId !== Unassigned && organization\"\n    class=\"tw-shrink-0\"\n  >\n    <vault-new-cipher-menu\n      [canCreateCipher]=\"canCreateCipher\"\n      [canCreateCollection]=\"canCreateCollection\"\n      (cipherAdded)=\"addCipher($event)\"\n      (collectionAdded)=\"addCollection()\"\n    />\n  </div>\n</app-header>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { canAccessVaultTab } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\n\nimport { organizationPermissionsGuard } from \"../guards/org-permissions.guard\";\n\nimport { VaultComponent } from \"./vault.component\";\n\nconst routes: Routes = [\n  {\n    data: { titleId: \"vaults\" },\n    path: \"\",\n    canActivate: [organizationPermissionsGuard(canAccessVaultTab)],\n    component: VaultComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VaultRoutingModule {}\n","import { ChangeDetectorRef, Component, NgZone, OnDestroy, OnInit, ViewChild } from \"@angular/core\";\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { ActivatedRoute, Params, Router } from \"@angular/router\";\nimport {\n  BehaviorSubject,\n  combineLatest,\n  firstValueFrom,\n  lastValueFrom,\n  merge,\n  Observable,\n  of,\n  Subject,\n  zip,\n} from \"rxjs\";\nimport {\n  catchError,\n  concatMap,\n  debounceTime,\n  distinctUntilChanged,\n  filter,\n  first,\n  map,\n  shareReplay,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n} from \"rxjs/operators\";\n\nimport {\n  CollectionAdminService,\n  CollectionAdminView,\n  CollectionService,\n  CollectionView,\n  Unassigned,\n} from \"@bitwarden/admin-console/common\";\nimport { SearchPipe } from \"@bitwarden/angular/pipes/search.pipe\";\nimport { NoResults } from \"@bitwarden/assets/svg\";\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { EventCollectionService } from \"@bitwarden/common/abstractions/event/event-collection.service\";\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { BillingApiServiceAbstraction } from \"@bitwarden/common/billing/abstractions/billing-api.service.abstraction\";\nimport { EventType } from \"@bitwarden/common/enums\";\nimport { BroadcasterService } from \"@bitwarden/common/platform/abstractions/broadcaster.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { MessagingService } from \"@bitwarden/common/platform/abstractions/messaging.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { getById } from \"@bitwarden/common/platform/misc\";\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { SyncService } from \"@bitwarden/common/platform/sync\";\nimport { CipherId, CollectionId, OrganizationId, UserId } from \"@bitwarden/common/types/guid\";\nimport { CipherService } from \"@bitwarden/common/vault/abstractions/cipher.service\";\nimport { SearchService } from \"@bitwarden/common/vault/abstractions/search.service\";\nimport { TotpService } from \"@bitwarden/common/vault/abstractions/totp.service\";\nimport { CipherType } from \"@bitwarden/common/vault/enums\";\nimport { CipherRepromptType } from \"@bitwarden/common/vault/enums/cipher-reprompt-type\";\nimport { TreeNode } from \"@bitwarden/common/vault/models/domain/tree-node\";\nimport { CipherView } from \"@bitwarden/common/vault/models/view/cipher.view\";\nimport { ServiceUtils } from \"@bitwarden/common/vault/service-utils\";\nimport { RestrictedItemTypesService } from \"@bitwarden/common/vault/services/restricted-item-types.service\";\nimport {\n  CipherViewLike,\n  CipherViewLikeUtils,\n} from \"@bitwarden/common/vault/utils/cipher-view-like-utils\";\nimport {\n  BannerModule,\n  DialogRef,\n  DialogService,\n  NoItemsModule,\n  ToastService,\n} from \"@bitwarden/components\";\nimport {\n  AttachmentDialogResult,\n  AttachmentsV2Component,\n  CipherFormConfig,\n  CipherFormConfigService,\n  CollectionAssignmentResult,\n  DecryptionFailureDialogComponent,\n  PasswordRepromptService,\n} from \"@bitwarden/vault\";\nimport {\n  OrganizationFreeTrialWarningComponent,\n  OrganizationResellerRenewalWarningComponent,\n} from \"@bitwarden/web-vault/app/billing/organizations/warnings/components\";\nimport { OrganizationWarningsService } from \"@bitwarden/web-vault/app/billing/organizations/warnings/services\";\nimport { VaultItemsComponent } from \"@bitwarden/web-vault/app/vault/components/vault-items/vault-items.component\";\n\nimport { SharedModule } from \"../../../shared\";\nimport { AssignCollectionsWebComponent } from \"../../../vault/components/assign-collections\";\nimport {\n  VaultItemDialogComponent,\n  VaultItemDialogMode,\n  VaultItemDialogResult,\n} from \"../../../vault/components/vault-item-dialog/vault-item-dialog.component\";\nimport { VaultItemEvent } from \"../../../vault/components/vault-items/vault-item-event\";\nimport { VaultItemsModule } from \"../../../vault/components/vault-items/vault-items.module\";\nimport {\n  BulkDeleteDialogResult,\n  openBulkDeleteDialog,\n} from \"../../../vault/individual-vault/bulk-action-dialogs/bulk-delete-dialog/bulk-delete-dialog.component\";\nimport { VaultFilterService } from \"../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service\";\nimport { RoutedVaultFilterBridgeService } from \"../../../vault/individual-vault/vault-filter/services/routed-vault-filter-bridge.service\";\nimport { RoutedVaultFilterService } from \"../../../vault/individual-vault/vault-filter/services/routed-vault-filter.service\";\nimport { createFilterFunction } from \"../../../vault/individual-vault/vault-filter/shared/models/filter-function\";\nimport {\n  All,\n  RoutedVaultFilterModel,\n} from \"../../../vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model\";\nimport { VaultFilter } from \"../../../vault/individual-vault/vault-filter/shared/models/vault-filter.model\";\nimport { AdminConsoleCipherFormConfigService } from \"../../../vault/org-vault/services/admin-console-cipher-form-config.service\";\nimport { GroupApiService, GroupView } from \"../core\";\nimport { openEntityEventsDialog } from \"../manage/entity-events.component\";\nimport { CollectionPermission } from \"../shared/components/access-selector\";\nimport {\n  CollectionDialogAction,\n  CollectionDialogTabType,\n  openCollectionDialog,\n} from \"../shared/components/collection-dialog\";\n\nimport {\n  BulkCollectionsDialogComponent,\n  BulkCollectionsDialogResult,\n} from \"./bulk-collections-dialog\";\nimport { CollectionAccessRestrictedComponent } from \"./collection-access-restricted.component\";\nimport { getFlatCollectionTree, getNestedCollectionTree } from \"./utils\";\nimport { VaultFilterModule } from \"./vault-filter/vault-filter.module\";\nimport { VaultHeaderComponent } from \"./vault-header/vault-header.component\";\n\nconst BroadcasterSubscriptionId = \"OrgVaultComponent\";\nconst SearchTextDebounceInterval = 200;\n\n// FIXME: update to use a const object instead of a typescript enum\n// eslint-disable-next-line @bitwarden/platform/no-enums\nenum AddAccessStatusType {\n  All = 0,\n  AddAccess = 1,\n}\n\n@Component({\n  selector: \"app-org-vault\",\n  templateUrl: \"vault.component.html\",\n  imports: [\n    VaultHeaderComponent,\n    CollectionAccessRestrictedComponent,\n    VaultFilterModule,\n    VaultItemsModule,\n    SharedModule,\n    BannerModule,\n    NoItemsModule,\n    OrganizationFreeTrialWarningComponent,\n    OrganizationResellerRenewalWarningComponent,\n  ],\n  providers: [\n    RoutedVaultFilterService,\n    RoutedVaultFilterBridgeService,\n    { provide: CipherFormConfigService, useClass: AdminConsoleCipherFormConfigService },\n  ],\n})\nexport class VaultComponent implements OnInit, OnDestroy {\n  protected Unassigned = Unassigned;\n\n  trashCleanupWarning: string = this.i18nService.t(\n    this.platformUtilsService.isSelfHost()\n      ? \"trashCleanupWarningSelfHosted\"\n      : \"trashCleanupWarning\",\n  );\n\n  activeFilter: VaultFilter = new VaultFilter();\n\n  protected showAddAccessToggle = false;\n  protected noItemIcon = NoResults;\n  protected loading$: Observable<boolean>;\n  protected processingEvent$ = new BehaviorSubject<boolean>(false);\n  protected organization$: Observable<Organization>;\n  protected allGroups$: Observable<GroupView[]>;\n  protected ciphers$: Observable<CipherView[]>;\n  protected allCiphers$: Observable<CipherView[]>;\n  protected showCollectionAccessRestricted$: Observable<boolean>;\n\n  protected isEmpty$: Observable<boolean> = of(false);\n  protected prevCipherId: string | null = null;\n  protected userId$: Observable<UserId>;\n\n  protected hideVaultFilter$: Observable<boolean>;\n  protected currentSearchText$: Observable<string>;\n  protected filter$: Observable<RoutedVaultFilterModel>;\n  private organizationId$: Observable<OrganizationId>;\n\n  private searchText$ = new Subject<string>();\n  protected refreshingSubject$ = new BehaviorSubject<boolean>(true);\n  private destroy$ = new Subject<void>();\n  protected addAccessStatus$ = new BehaviorSubject<AddAccessStatusType>(0);\n  private vaultItemDialogRef?: DialogRef<VaultItemDialogResult> | undefined;\n\n  /**\n   * A list of collections that the user can assign items to and edit those items within.\n   * @protected\n   */\n  protected editableCollections$: Observable<CollectionAdminView[]>;\n  protected allCollectionsWithoutUnassigned$: Observable<CollectionAdminView[]>;\n  protected allCollections$: Observable<CollectionAdminView[]>;\n  protected collections$: Observable<CollectionAdminView[]>;\n  protected selectedCollection$: Observable<TreeNode<CollectionAdminView> | undefined>;\n  private nestedCollections$: Observable<TreeNode<CollectionAdminView>[]>;\n\n  @ViewChild(\"vaultItems\", { static: false }) vaultItemsComponent:\n    | VaultItemsComponent<CipherView>\n    | undefined;\n\n  constructor(\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    protected vaultFilterService: VaultFilterService,\n    private routedVaultFilterBridgeService: RoutedVaultFilterBridgeService,\n    private routedVaultFilterService: RoutedVaultFilterService,\n    private router: Router,\n    private changeDetectorRef: ChangeDetectorRef,\n    private syncService: SyncService,\n    private i18nService: I18nService,\n    private dialogService: DialogService,\n    private messagingService: MessagingService,\n    private broadcasterService: BroadcasterService,\n    private ngZone: NgZone,\n    private platformUtilsService: PlatformUtilsService,\n    private cipherService: CipherService,\n    private passwordRepromptService: PasswordRepromptService,\n    private collectionAdminService: CollectionAdminService,\n    private searchService: SearchService,\n    private searchPipe: SearchPipe,\n    private groupService: GroupApiService,\n    private logService: LogService,\n    private eventCollectionService: EventCollectionService,\n    private totpService: TotpService,\n    private apiService: ApiService,\n    private toastService: ToastService,\n    private cipherFormConfigService: CipherFormConfigService,\n    protected billingApiService: BillingApiServiceAbstraction,\n    private accountService: AccountService,\n    private organizationWarningsService: OrganizationWarningsService,\n    private collectionService: CollectionService,\n    private restrictedItemTypesService: RestrictedItemTypesService,\n  ) {\n    this.userId$ = this.accountService.activeAccount$.pipe(getUserId);\n    this.filter$ = this.routedVaultFilterService.filter$;\n    this.organizationId$ =\n      // FIXME: The RoutedVaultFilterModel uses `organizationId: Unassigned` to represent the individual vault,\n      // but that is never used in Admin Console. This function narrows the type so it doesn't pollute our code here,\n      // but really we should change to using our own vault filter model that only represents valid states in AC.\n      this.filter$.pipe(\n        map((filter) => filter.organizationId),\n        filter((filter) => filter !== undefined),\n        filter(\n          (value: OrganizationId | Unassigned): value is OrganizationId => value !== Unassigned,\n        ),\n        distinctUntilChanged(),\n      );\n\n    this.currentSearchText$ = this.route.queryParams.pipe(map((queryParams) => queryParams.search));\n\n    this.organization$ = combineLatest([this.organizationId$, this.userId$]).pipe(\n      switchMap(([orgId, userId]) =>\n        this.organizationService.organizations$(userId).pipe(getById(orgId)),\n      ),\n      filter((organization) => organization != null),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.hideVaultFilter$ = this.organization$.pipe(\n      map((organization) => organization.isProviderUser && !organization.isMember),\n    );\n\n    this.allCollectionsWithoutUnassigned$ = this.refreshingSubject$.pipe(\n      filter((refreshing) => refreshing),\n      switchMap(() => combineLatest([this.organizationId$, this.userId$])),\n      switchMap(([orgId, userId]) =>\n        this.collectionAdminService.collectionAdminViews$(orgId, userId),\n      ),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.allCollections$ = combineLatest([\n      this.organizationId$,\n      this.allCollectionsWithoutUnassigned$,\n    ]).pipe(\n      map(([organizationId, allCollections]) => {\n        // FIXME: We should not assert that the Unassigned type is a CollectionId.\n        // Instead we should consider representing the Unassigned collection as a different object, given that\n        // it is not actually a collection.\n        const noneCollection = new CollectionAdminView({\n          name: this.i18nService.t(\"unassigned\"),\n          id: Unassigned as CollectionId,\n          organizationId: organizationId,\n        });\n        return allCollections.concat(noneCollection);\n      }),\n    );\n\n    this.nestedCollections$ = this.allCollections$.pipe(\n      map((collections) => getNestedCollectionTree(collections)),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.allGroups$ = this.organizationId$.pipe(\n      switchMap((organizationId) => this.groupService.getAll(organizationId)),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.allCiphers$ = combineLatest([\n      this.organization$,\n      this.userId$,\n      this.restrictedItemTypesService.restricted$,\n      this.refreshingSubject$,\n    ]).pipe(\n      switchMap(async ([organization, userId, restricted]) => {\n        // If user swaps organization reset the addAccessToggle\n        if (!this.showAddAccessToggle || organization) {\n          this.addAccessToggle(0);\n        }\n        let ciphers;\n\n        // Restricted providers (who are not members) do not have access org cipher endpoint below\n        // Return early to avoid 404 response\n        if (!organization.isMember && organization.isProviderUser) {\n          return [];\n        }\n\n        // If the user can edit all ciphers for the organization then fetch them ALL.\n        if (organization.canEditAllCiphers) {\n          ciphers = await this.cipherService.getAllFromApiForOrganization(organization.id);\n          ciphers.forEach((c) => (c.edit = true));\n        } else {\n          // Otherwise, only fetch ciphers they have access to (includes unassigned for admins).\n          ciphers = await this.cipherService.getManyFromApiForOrganization(organization.id);\n        }\n\n        // Filter out restricted ciphers before indexing\n        ciphers = ciphers.filter(\n          (cipher) => !this.restrictedItemTypesService.isCipherRestricted(cipher, restricted),\n        );\n\n        await this.searchService.indexCiphers(userId, ciphers, organization.id);\n        return ciphers;\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.selectedCollection$ = combineLatest([this.nestedCollections$, this.filter$]).pipe(\n      filter(([collections, filter]) => collections != undefined && filter != undefined),\n      map(([collections, filter]) => {\n        if (\n          filter.collectionId === undefined ||\n          filter.collectionId === All ||\n          filter.collectionId === Unassigned\n        ) {\n          return;\n        }\n\n        return ServiceUtils.getTreeNodeObjectFromList(collections, filter.collectionId);\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.showCollectionAccessRestricted$ = combineLatest([\n      this.filter$,\n      this.selectedCollection$,\n      this.organization$,\n    ]).pipe(\n      map(([filter, collection, organization]) => {\n        return (\n          (filter.collectionId === Unassigned && !organization.canEditUnassignedCiphers) ||\n          (!organization.canEditAllCiphers && collection != undefined && !collection.node.assigned)\n        );\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.ciphers$ = combineLatest([\n      this.allCiphers$,\n      this.filter$,\n      this.currentSearchText$,\n      this.showCollectionAccessRestricted$,\n      this.userId$,\n    ]).pipe(\n      filter(([ciphers, filter]) => ciphers != undefined && filter != undefined),\n      concatMap(async ([ciphers, filter, searchText, showCollectionAccessRestricted, userId]) => {\n        if (filter.collectionId === undefined && filter.type === undefined) {\n          return [];\n        }\n\n        if (showCollectionAccessRestricted) {\n          // Do not show ciphers for restricted collections\n          // Ciphers belonging to multiple collections may still be present in $allCiphers and shouldn't be visible\n          return [];\n        }\n\n        const filterFunction = createFilterFunction(filter);\n\n        if (await this.searchService.isSearchable(userId, searchText)) {\n          return await this.searchService.searchCiphers<CipherView>(\n            userId,\n            searchText,\n            [filterFunction],\n            ciphers,\n          );\n        }\n\n        return ciphers.filter(filterFunction);\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    // Billing Warnings\n    this.organization$\n      .pipe(\n        switchMap((organization) =>\n          merge(\n            this.organizationWarningsService.showInactiveSubscriptionDialog$(organization),\n            this.organizationWarningsService.showSubscribeBeforeFreeTrialEndsDialog$(organization),\n          ),\n        ),\n        takeUntilDestroyed(),\n      )\n      .subscribe();\n    // End Billing Warnings\n\n    this.editableCollections$ = combineLatest([\n      this.allCollectionsWithoutUnassigned$,\n      this.organization$,\n    ]).pipe(\n      map(([collections, organization]) => {\n        // Users that can edit all ciphers can implicitly add to / edit within any collection\n        if (organization.canEditAllCiphers) {\n          return collections;\n        }\n        return collections.filter((c) => c.assigned);\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.collections$ = combineLatest([\n      this.nestedCollections$,\n      this.filter$,\n      this.currentSearchText$,\n      this.addAccessStatus$,\n      this.userId$,\n      this.organization$,\n    ]).pipe(\n      filter(([collections, filter]) => collections != undefined && filter != undefined),\n      concatMap(\n        async ([collections, filter, searchText, addAccessStatus, userId, organization]) => {\n          if (\n            filter.collectionId === Unassigned ||\n            (filter.collectionId === undefined && filter.type !== undefined)\n          ) {\n            return [];\n          }\n\n          this.showAddAccessToggle = false;\n          let searchableCollectionNodes: TreeNode<CollectionAdminView>[] = [];\n          if (filter.collectionId === undefined || filter.collectionId === All) {\n            searchableCollectionNodes = collections;\n          } else {\n            const selectedCollection = ServiceUtils.getTreeNodeObjectFromList(\n              collections,\n              filter.collectionId,\n            );\n            searchableCollectionNodes = selectedCollection.children ?? [];\n          }\n\n          let collectionsToReturn: CollectionAdminView[] = [];\n\n          if (await this.searchService.isSearchable(userId, searchText)) {\n            // Flatten the tree for searching through all levels\n            const flatCollectionTree: CollectionAdminView[] =\n              getFlatCollectionTree(searchableCollectionNodes);\n\n            collectionsToReturn = this.searchPipe.transform(\n              flatCollectionTree,\n              searchText,\n              (collection) => collection.name,\n              (collection) => collection.id,\n            );\n          } else {\n            collectionsToReturn = searchableCollectionNodes.map(\n              (treeNode: TreeNode<CollectionAdminView>): CollectionAdminView => treeNode.node,\n            );\n          }\n\n          // Add access toggle is only shown if allowAdminAccessToAllCollectionItems is false and there are unmanaged collections the user can edit\n          this.showAddAccessToggle =\n            !organization.allowAdminAccessToAllCollectionItems &&\n            organization.canEditUnmanagedCollections &&\n            collectionsToReturn.some((c) => c.unmanaged);\n\n          if (addAccessStatus === 1 && this.showAddAccessToggle) {\n            collectionsToReturn = collectionsToReturn.filter((c) => c.unmanaged);\n          }\n          return collectionsToReturn;\n        },\n      ),\n      takeUntil(this.destroy$),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    const firstLoadComplete$ = zip([\n      this.organization$,\n      this.filter$,\n      this.allCollections$,\n      this.allGroups$,\n      this.ciphers$,\n      this.collections$,\n      this.selectedCollection$,\n      this.showCollectionAccessRestricted$,\n    ]).pipe(\n      map(() => true),\n      startWith(false),\n      take(2), // Only take the emmision from startsWith and the emission from zip.\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.loading$ = combineLatest([\n      this.refreshingSubject$,\n      this.processingEvent$,\n      firstLoadComplete$,\n    ]).pipe(\n      map(\n        ([refreshing, processing, firstLoadComplete]) =>\n          refreshing || processing || !firstLoadComplete,\n      ),\n    );\n  }\n\n  async ngOnInit() {\n    const firstSetup$ = combineLatest([this.organization$, this.route.queryParams]).pipe(\n      first(),\n      switchMap(async ([organization]) => {\n        if (!organization.canEditAnyCollection) {\n          await this.syncService.fullSync(false);\n        }\n        return;\n      }),\n      catchError((error: unknown) => {\n        this.logService.error(\"Failed during firstSetup$:\", error);\n        return of();\n      }),\n      shareReplay({ refCount: true, bufferSize: 1 }),\n    );\n\n    this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n      // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.ngZone.run(async () => {\n        switch (message.command) {\n          case \"syncCompleted\":\n            if (message.successfully) {\n              this.refresh();\n              this.changeDetectorRef.detectChanges();\n            }\n            break;\n        }\n      });\n    });\n\n    this.routedVaultFilterBridgeService.activeFilter$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((activeFilter) => {\n        this.activeFilter = activeFilter;\n\n        // watch the active filters. Only show toggle when viewing the collections filter\n        if (!this.activeFilter.collectionId) {\n          this.showAddAccessToggle = false;\n        }\n      });\n\n    this.searchText$\n      .pipe(debounceTime(SearchTextDebounceInterval), takeUntil(this.destroy$))\n      .subscribe((searchText) =>\n        this.router.navigate([], {\n          queryParams: { search: Utils.isNullOrEmpty(searchText) ? null : searchText },\n          queryParamsHandling: \"merge\",\n          replaceUrl: true,\n        }),\n      );\n\n    const allCipherMap$ = this.allCiphers$.pipe(\n      map((ciphers) => {\n        return Object.fromEntries(ciphers.map((c) => [c.id, c]));\n      }),\n    );\n\n    // Handle deep linking to a specific cipher (if the route specifies a cipherId)\n    firstSetup$\n      .pipe(\n        switchMap(() => combineLatest([this.route.queryParams, allCipherMap$])),\n        filter(() => this.vaultItemDialogRef == undefined),\n        switchMap(async ([qParams, allCiphersMap]) => {\n          const cipherId = getCipherIdFromParams(qParams);\n\n          if (!cipherId) {\n            this.prevCipherId = null;\n            return;\n          }\n\n          if (cipherId === this.prevCipherId) {\n            return;\n          }\n\n          this.prevCipherId = cipherId;\n\n          const cipher = allCiphersMap[cipherId];\n          if (cipher) {\n            let action = qParams.action;\n\n            if (action == \"showFailedToDecrypt\") {\n              DecryptionFailureDialogComponent.open(this.dialogService, {\n                cipherIds: [cipherId as CipherId],\n              });\n              await this.router.navigate([], {\n                queryParams: { itemId: null, cipherId: null, action: null },\n                queryParamsHandling: \"merge\",\n                replaceUrl: true,\n              });\n              return;\n            }\n\n            // Default to \"view\"\n            if (action == null) {\n              action = \"view\";\n            }\n\n            if (action === \"view\") {\n              await this.viewCipherById(cipher);\n            } else {\n              await this.editCipher(cipher, false);\n            }\n          } else {\n            this.toastService.showToast({\n              variant: \"error\",\n\n              message: this.i18nService.t(\"unknownCipher\"),\n            });\n            await this.router.navigate([], {\n              queryParams: { cipherId: null, itemId: null },\n              queryParamsHandling: \"merge\",\n            });\n          }\n        }),\n        takeUntil(this.destroy$),\n      )\n      .subscribe();\n\n    // Handle deep linking to a cipher event\n    firstSetup$\n      .pipe(\n        switchMap(() =>\n          combineLatest([this.route.queryParams, this.organization$, this.allCiphers$]),\n        ),\n        switchMap(async ([qParams, organization, allCiphers$]) => {\n          const cipherId = qParams.viewEvents;\n          if (!cipherId) {\n            return;\n          }\n          const cipher = allCiphers$.find((c) => c.id === cipherId);\n          if (organization.useEvents && cipher != undefined) {\n            await this.viewEvents(cipher);\n          } else {\n            this.toastService.showToast({\n              variant: \"error\",\n\n              message: this.i18nService.t(\"unknownCipher\"),\n            });\n            await this.router.navigate([], {\n              queryParams: { viewEvents: null },\n              queryParamsHandling: \"merge\",\n            });\n          }\n        }),\n        takeUntil(this.destroy$),\n      )\n      .subscribe();\n\n    // Handle last of initial setup - workaround for some state issues where we need to manually\n    // push the collections we've loaded back into the VaultFilterService.\n    // FIXME: figure out how we can remove this.\n    firstSetup$\n      .pipe(\n        switchMap(() => this.allCollections$),\n        takeUntil(this.destroy$),\n      )\n      .subscribe((allCollections) => {\n        // This is a temporary fix to avoid double fetching collections.\n        // TODO: Remove when implementing new VVR menu\n        if (this.vaultFilterService.reloadCollections) {\n          this.vaultFilterService.reloadCollections(allCollections);\n        }\n\n        this.refreshingSubject$.next(false);\n      });\n\n    this.isEmpty$ = combineLatest([this.ciphers$, this.collections$]).pipe(\n      map(([ciphers, collections]) => collections.length === 0 && ciphers?.length === 0),\n    );\n  }\n\n  async navigateToPaymentMethod() {\n    const organizationId = await firstValueFrom(this.organizationId$);\n    await this.router.navigate(\n      [\"organizations\", `${organizationId}`, \"billing\", \"payment-details\"],\n      {\n        state: { launchPaymentModalAutomatically: true },\n      },\n    );\n  }\n\n  addAccessToggle(e: AddAccessStatusType) {\n    this.addAccessStatus$.next(e);\n  }\n\n  ngOnDestroy() {\n    this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  async onVaultItemsEvent(event: VaultItemEvent<CipherView>) {\n    this.processingEvent$.next(true);\n\n    try {\n      const organization = await firstValueFrom(this.organization$);\n      switch (event.type) {\n        case \"viewAttachments\":\n          await this.editCipherAttachments(event.item);\n          break;\n        case \"clone\":\n          await this.cloneCipher(event.item);\n          break;\n        case \"restore\":\n          if (event.items.length === 1) {\n            await this.restore(event.items[0]);\n          } else {\n            await this.bulkRestore(event.items);\n          }\n          break;\n        case \"delete\": {\n          const ciphers = event.items\n            .filter((i) => i.collection === undefined)\n            .map((i) => i.cipher)\n            .filter((c) => c != null);\n          const collections = event.items\n            .filter((i) => i.cipher === undefined)\n            .map((i) => i.collection)\n            .filter((c) => c != null);\n          if (ciphers.length === 1 && collections.length === 0) {\n            await this.deleteCipher(ciphers[0]);\n          } else if (ciphers.length === 0 && collections.length === 1) {\n            await this.deleteCollection(collections[0] as CollectionAdminView);\n          } else {\n            await this.bulkDelete(ciphers, collections, organization);\n          }\n          break;\n        }\n        case \"copyField\":\n          await this.copy(event.item, event.field);\n          break;\n        case \"editCollection\":\n          await this.editCollection(\n            event.item as CollectionAdminView,\n            CollectionDialogTabType.Info,\n            event.readonly,\n          );\n          break;\n        case \"viewCollectionAccess\":\n          await this.editCollection(\n            event.item as CollectionAdminView,\n            CollectionDialogTabType.Access,\n            event.readonly,\n            event.initialPermission,\n          );\n          break;\n        case \"bulkEditCollectionAccess\":\n          await this.bulkEditCollectionAccess(event.items, organization);\n          break;\n        case \"assignToCollections\":\n          await this.bulkAssignToCollections(event.items);\n          break;\n        case \"viewEvents\":\n          await this.viewEvents(event.item);\n          break;\n      }\n    } finally {\n      this.processingEvent$.next(false);\n    }\n  }\n\n  filterSearchText(searchText: string) {\n    this.searchText$.next(searchText);\n  }\n\n  async editCipherAttachments(cipher: CipherView) {\n    if (cipher.reprompt !== 0 && !(await this.passwordRepromptService.showPasswordPrompt())) {\n      this.go({ cipherId: null, itemId: null });\n      return;\n    }\n\n    const organization = await firstValueFrom(this.organization$);\n    if (organization.maxStorageGb == null || organization.maxStorageGb === 0) {\n      this.messagingService.send(\"upgradeOrganization\", { organizationId: cipher.organizationId });\n      return;\n    }\n\n    const dialogRef = AttachmentsV2Component.open(this.dialogService, {\n      cipherId: cipher.id as CipherId,\n      organizationId: cipher.organizationId as OrganizationId,\n      admin: true,\n    });\n\n    const result = await firstValueFrom(dialogRef.closed);\n\n    if (\n      result?.action === AttachmentDialogResult.Removed ||\n      result?.action === AttachmentDialogResult.Uploaded\n    ) {\n      this.refresh();\n    }\n  }\n\n  /** Opens the Add/Edit Dialog */\n  async addCipher(cipherType?: CipherType) {\n    const cipherFormConfig = await this.cipherFormConfigService.buildConfig(\n      \"add\",\n      undefined,\n      cipherType,\n    );\n\n    const collectionId: CollectionId | undefined = this.activeFilter.collectionId as CollectionId;\n\n    const organization = await firstValueFrom(this.organization$);\n    cipherFormConfig.initialValues = {\n      organizationId: organization.id,\n      collectionIds: collectionId ? [collectionId] : [],\n    };\n\n    await this.openVaultItemDialog(\"form\", cipherFormConfig);\n  }\n\n  /**\n   * Edit the given cipher or add a new cipher\n   * @param cipherView - When set, the cipher to be edited\n   * @param cloneCipher - `true` when the cipher should be cloned.\n   */\n  async editCipher(cipher: CipherView | undefined, cloneCipher: boolean) {\n    if (\n      cipher &&\n      cipher.reprompt !== 0 &&\n      !(await this.passwordRepromptService.showPasswordPrompt())\n    ) {\n      // didn't pass password prompt, so don't open add / edit modal\n      this.go({ cipherId: null, itemId: null });\n      return;\n    }\n\n    const cipherFormConfig = await this.cipherFormConfigService.buildConfig(\n      cloneCipher ? \"clone\" : \"edit\",\n      cipher?.id as CipherId | undefined,\n    );\n\n    await this.openVaultItemDialog(\"form\", cipherFormConfig, cipher);\n  }\n\n  /** Opens the view dialog for the given cipher unless password reprompt fails */\n  async viewCipherById(cipher: CipherView) {\n    if (!cipher) {\n      return;\n    }\n\n    if (\n      cipher &&\n      cipher.reprompt !== 0 &&\n      !(await this.passwordRepromptService.showPasswordPrompt())\n    ) {\n      // Didn't pass password prompt, so don't open add / edit modal.\n      await this.go({ cipherId: null, itemId: null, action: null });\n      return;\n    }\n\n    const cipherFormConfig = await this.cipherFormConfigService.buildConfig(\n      \"edit\",\n      cipher.id as CipherId,\n      cipher.type,\n    );\n\n    await this.openVaultItemDialog(\n      \"view\",\n      cipherFormConfig,\n      cipher,\n      this.activeFilter.collectionId as CollectionId,\n    );\n  }\n\n  /**\n   * Open the combined view / edit dialog for a cipher.\n   */\n  async openVaultItemDialog(\n    mode: VaultItemDialogMode,\n    formConfig: CipherFormConfig,\n    cipher?: CipherView,\n    activeCollectionId?: CollectionId,\n  ) {\n    const organization = await firstValueFrom(this.organization$);\n    const disableForm = cipher ? !cipher.edit && !organization.canEditAllCiphers : false;\n    // If the form is disabled, force the mode into `view`\n    const dialogMode = disableForm ? \"view\" : mode;\n    this.vaultItemDialogRef = VaultItemDialogComponent.open(this.dialogService, {\n      mode: dialogMode,\n      formConfig,\n      disableForm,\n      activeCollectionId,\n      isAdminConsoleAction: true,\n      restore: this.restore,\n    });\n\n    const result = await lastValueFrom(this.vaultItemDialogRef.closed);\n    this.vaultItemDialogRef = undefined;\n\n    // If the dialog was closed by deleting the cipher, refresh the vault.\n    if (result === VaultItemDialogResult.Deleted || result === VaultItemDialogResult.Saved) {\n      this.refresh();\n    }\n\n    // When the dialog is closed for a premium upgrade, return early as the user\n    // should be navigated to the subscription settings elsewhere\n    if (result === VaultItemDialogResult.PremiumUpgrade) {\n      return;\n    }\n\n    // Clear the query params when the dialog closes\n    await this.go({ cipherId: null, itemId: null, action: null });\n  }\n\n  async cloneCipher(cipher: CipherView) {\n    if (cipher.login.hasFido2Credentials) {\n      const confirmed = await this.dialogService.openSimpleDialog({\n        title: { key: \"passkeyNotCopied\" },\n        content: { key: \"passkeyNotCopiedAlert\" },\n        type: \"info\",\n      });\n\n      if (!confirmed) {\n        return false;\n      }\n    }\n\n    await this.editCipher(cipher, true);\n  }\n\n  restore = async (c: CipherViewLike): Promise<boolean> => {\n    const organization = await firstValueFrom(this.organization$);\n    if (!CipherViewLikeUtils.isDeleted(c)) {\n      return false;\n    }\n\n    if (\n      !organization.permissions.editAnyCollection &&\n      !c.edit &&\n      !organization.allowAdminAccessToAllCollectionItems\n    ) {\n      this.showMissingPermissionsError();\n      return false;\n    }\n\n    if (!(await this.repromptCipher([c]))) {\n      return false;\n    }\n\n    // Allow restore of an Unassigned Item\n    try {\n      if (c.id == null || c.id === \"\") {\n        throw new Error(\"Cipher must have an Id to be restored\");\n      }\n      const activeUserId = await firstValueFrom(this.accountService.activeAccount$.pipe(getUserId));\n      const organization = await firstValueFrom(this.organization$);\n      const asAdmin = organization.canEditAnyCollection || CipherViewLikeUtils.isUnassigned(c);\n      await this.cipherService.restoreWithServer(c.id as CipherId, activeUserId, asAdmin);\n      this.toastService.showToast({\n        variant: \"success\",\n\n        message: this.i18nService.t(\"restoredItem\"),\n      });\n      this.refresh();\n      return true;\n    } catch (e) {\n      this.logService.error(e);\n      return false;\n    }\n  };\n\n  async bulkRestore(ciphers: CipherView[]) {\n    const organization = await firstValueFrom(this.organization$);\n    if (\n      !organization.permissions.editAnyCollection &&\n      ciphers.some((c) => !c.edit && !organization.allowAdminAccessToAllCollectionItems)\n    ) {\n      this.showMissingPermissionsError();\n      return;\n    }\n\n    if (!(await this.repromptCipher(ciphers))) {\n      return;\n    }\n\n    // assess if there are unassigned ciphers and/or editable ciphers selected in bulk for restore\n    const editAccessCiphers: string[] = [];\n    const unassignedCiphers: string[] = [];\n\n    const userId = await firstValueFrom(this.userId$);\n    // If user has edit all Access no need to check for unassigned ciphers\n    if (organization.canEditAllCiphers) {\n      ciphers.map((cipher) => {\n        editAccessCiphers.push(cipher.id);\n      });\n    } else {\n      ciphers.map((cipher) => {\n        if (cipher.collectionIds.length === 0) {\n          unassignedCiphers.push(cipher.id);\n        } else if (cipher.edit) {\n          editAccessCiphers.push(cipher.id);\n        }\n      });\n    }\n\n    if (unassignedCiphers.length === 0 && editAccessCiphers.length === 0) {\n      this.toastService.showToast({\n        variant: \"error\",\n        title: this.i18nService.t(\"errorOccurred\"),\n        message: this.i18nService.t(\"nothingSelected\"),\n      });\n      return;\n    }\n\n    if (unassignedCiphers.length > 0 || editAccessCiphers.length > 0) {\n      await this.cipherService.restoreManyWithServer(\n        [...unassignedCiphers, ...editAccessCiphers],\n        userId,\n        organization.id,\n      );\n    }\n\n    this.toastService.showToast({\n      variant: \"success\",\n\n      message: this.i18nService.t(\"restoredItems\"),\n    });\n    this.refresh();\n  }\n\n  async deleteCipher(c: CipherView): Promise<boolean> {\n    const organization = await firstValueFrom(this.organization$);\n    if (!c.edit && !organization.canEditAllCiphers) {\n      this.showMissingPermissionsError();\n      return false;\n    }\n\n    if (!(await this.repromptCipher([c]))) {\n      return false;\n    }\n\n    const permanent = c.isDeleted;\n\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: { key: permanent ? \"permanentlyDeleteItem\" : \"deleteItem\" },\n      content: { key: permanent ? \"permanentlyDeleteItemConfirmation\" : \"deleteItemConfirmation\" },\n      type: \"warning\",\n    });\n\n    if (!confirmed) {\n      return false;\n    }\n\n    try {\n      const activeUserId = await firstValueFrom(this.accountService.activeAccount$.pipe(getUserId));\n      await this.deleteCipherWithServer(c.id, activeUserId, permanent, c.isUnassigned);\n      this.toastService.showToast({\n        variant: \"success\",\n\n        message: this.i18nService.t(permanent ? \"permanentlyDeletedItem\" : \"deletedItem\"),\n      });\n      this.refresh();\n      return true;\n    } catch (e) {\n      this.logService.error(e);\n      return false;\n    }\n  }\n\n  async deleteCollection(collection: CollectionAdminView): Promise<void> {\n    const organization = await firstValueFrom(this.organization$);\n    const userId = await firstValueFrom(this.userId$);\n    if (!collection.canDelete(organization)) {\n      this.showMissingPermissionsError();\n      return;\n    }\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: collection.name,\n      content: { key: \"deleteCollectionConfirmation\" },\n      type: \"warning\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n    try {\n      await this.apiService.deleteCollection(organization.id, collection.id);\n      await this.collectionService.delete([collection.id], userId);\n      this.toastService.showToast({\n        variant: \"success\",\n\n        message: this.i18nService.t(\"deletedCollectionId\", collection.name),\n      });\n\n      // Clear the cipher cache to clear the deleted collection from the cipher state\n      await this.cipherService.clear();\n\n      // Navigate away if we deleted the collection we were viewing\n      const selectedCollection = await firstValueFrom(this.selectedCollection$);\n      if (selectedCollection?.node.id === collection.id) {\n        void this.router.navigate([], {\n          queryParams: { collectionId: selectedCollection?.parent?.node.id ?? null },\n          queryParamsHandling: \"merge\",\n          replaceUrl: true,\n        });\n      }\n\n      this.refresh();\n    } catch (e) {\n      this.logService.error(e);\n    }\n  }\n\n  async bulkDelete(\n    ciphers: CipherView[],\n    collections: CollectionView[],\n    organization: Organization,\n  ) {\n    if (!(await this.repromptCipher(ciphers))) {\n      return;\n    }\n\n    // Allow bulk deleting of Unassigned Items\n    const unassignedCiphers: string[] = [];\n    const assignedCiphers: string[] = [];\n\n    ciphers.map((c) => {\n      if (c.isUnassigned) {\n        unassignedCiphers.push(c.id);\n      } else {\n        assignedCiphers.push(c.id);\n      }\n    });\n\n    if (ciphers.length === 0 && collections.length === 0) {\n      this.toastService.showToast({\n        variant: \"error\",\n\n        message: this.i18nService.t(\"nothingSelected\"),\n      });\n      return;\n    }\n\n    const org = await firstValueFrom(this.organization$);\n    const canDeleteCollections =\n      collections == null || collections.every((c) => c.canDelete(organization));\n    const canDeleteCiphers =\n      ciphers == null || ciphers.every((c) => c.edit) || org.canEditAllCiphers;\n\n    if (!canDeleteCiphers || !canDeleteCollections) {\n      this.showMissingPermissionsError();\n      return;\n    }\n\n    const filter = await firstValueFrom(this.filter$);\n    const dialog = openBulkDeleteDialog(this.dialogService, {\n      data: {\n        permanent: filter.type === \"trash\",\n        cipherIds: assignedCiphers,\n        collections: collections,\n        organization,\n        unassignedCiphers,\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n    if (result === BulkDeleteDialogResult.Deleted) {\n      this.refresh();\n    }\n  }\n\n  async copy(cipher: CipherView, field: \"username\" | \"password\" | \"totp\") {\n    let aType;\n    let value;\n    let typeI18nKey;\n\n    if (field === \"username\") {\n      aType = \"Username\";\n      value = cipher.login.username;\n      typeI18nKey = \"username\";\n    } else if (field === \"password\") {\n      aType = \"Password\";\n      value = cipher.login.password;\n      typeI18nKey = \"password\";\n    } else if (field === \"totp\" && cipher.login.totp != null) {\n      aType = \"TOTP\";\n      const totpResponse = await firstValueFrom(this.totpService.getCode$(cipher.login.totp));\n      value = totpResponse.code;\n      typeI18nKey = \"verificationCodeTotp\";\n    } else {\n      this.toastService.showToast({\n        variant: \"error\",\n\n        message: this.i18nService.t(\"unexpectedError\"),\n      });\n      return;\n    }\n\n    if (\n      this.passwordRepromptService.protectedFields().includes(aType) &&\n      !(await this.repromptCipher([cipher]))\n    ) {\n      return;\n    }\n\n    if (!cipher.viewPassword || value == null) {\n      return;\n    }\n\n    this.platformUtilsService.copyToClipboard(value, { window: window });\n    this.toastService.showToast({\n      variant: \"info\",\n\n      message: this.i18nService.t(\"valueCopied\", this.i18nService.t(typeI18nKey)),\n    });\n\n    if (field === \"password\") {\n      await this.eventCollectionService.collect(EventType.Cipher_ClientCopiedPassword, cipher.id);\n    } else if (field === \"totp\") {\n      await this.eventCollectionService.collect(\n        EventType.Cipher_ClientCopiedHiddenField,\n        cipher.id,\n      );\n    }\n  }\n\n  async addCollection(): Promise<void> {\n    const organization = await firstValueFrom(this.organization$);\n    const selectedCollection = await firstValueFrom(this.selectedCollection$);\n    const dialog = openCollectionDialog(this.dialogService, {\n      data: {\n        organizationId: organization.id,\n        parentCollectionId: selectedCollection?.node.id,\n        limitNestedCollections: !organization.canEditAnyCollection,\n        isAdminConsoleActive: true,\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n    if (\n      result?.action === CollectionDialogAction.Saved ||\n      result?.action === CollectionDialogAction.Deleted\n    ) {\n      this.refresh();\n    }\n  }\n\n  async editCollection(\n    c: CollectionAdminView,\n    tab: CollectionDialogTabType,\n    readonly: boolean,\n    initialPermission?: CollectionPermission,\n  ): Promise<void> {\n    const organization = await firstValueFrom(this.organization$);\n    const dialog = openCollectionDialog(this.dialogService, {\n      data: {\n        collectionId: c.id,\n        organizationId: organization.id,\n        initialTab: tab,\n        readonly: readonly,\n        isAddAccessCollection: c.unmanaged,\n        limitNestedCollections: !organization.canEditAnyCollection,\n        isAdminConsoleActive: true,\n        initialPermission,\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n    if (\n      result?.action === CollectionDialogAction.Saved ||\n      result?.action === CollectionDialogAction.Deleted\n    ) {\n      this.refresh();\n\n      const selectedCollection = await firstValueFrom(this.selectedCollection$);\n      // If we deleted the selected collection, navigate up/away\n      if (\n        result.action === CollectionDialogAction.Deleted &&\n        selectedCollection?.node.id === c.id\n      ) {\n        void this.router.navigate([], {\n          queryParams: { collectionId: selectedCollection.parent.node.id ?? null },\n          queryParamsHandling: \"merge\",\n          replaceUrl: true,\n        });\n      }\n    }\n  }\n\n  async bulkEditCollectionAccess(\n    collections: CollectionView[],\n    organization: Organization,\n  ): Promise<void> {\n    if (collections.length === 0) {\n      this.toastService.showToast({\n        variant: \"error\",\n\n        message: this.i18nService.t(\"noCollectionsSelected\"),\n      });\n      return;\n    }\n\n    if (collections.some((c) => !c.canEdit(organization))) {\n      this.showMissingPermissionsError();\n      return;\n    }\n\n    const org = await firstValueFrom(this.organization$);\n    const dialog = BulkCollectionsDialogComponent.open(this.dialogService, {\n      data: {\n        collections,\n        organizationId: org.id,\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n    if (result === BulkCollectionsDialogResult.Saved) {\n      this.refresh();\n    }\n  }\n\n  async bulkAssignToCollections(items: CipherView[]) {\n    if (items.length === 0) {\n      this.toastService.showToast({\n        variant: \"error\",\n\n        message: this.i18nService.t(\"nothingSelected\"),\n      });\n      return;\n    }\n\n    const availableCollections = await firstValueFrom(this.editableCollections$);\n\n    const organization = await firstValueFrom(this.organization$);\n    const dialog = AssignCollectionsWebComponent.open(this.dialogService, {\n      data: {\n        ciphers: items,\n        organizationId: organization.id,\n        availableCollections,\n        activeCollection: this.activeFilter?.selectedCollectionNode?.node,\n        isSingleCipherAdmin:\n          items.length === 1 && (organization.canEditAllCiphers || items[0].isUnassigned),\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n    if (result === CollectionAssignmentResult.Saved) {\n      this.refresh();\n    }\n  }\n\n  async viewEvents(cipher: CipherView) {\n    const organization = await firstValueFrom(this.organization$);\n    openEntityEventsDialog(this.dialogService, {\n      data: {\n        name: cipher.name,\n        organizationId: organization.id,\n        entityId: cipher.id,\n        showUser: true,\n        entity: \"cipher\",\n      },\n    });\n  }\n\n  protected async deleteCipherWithServer(\n    id: string,\n    userId: UserId,\n    permanent: boolean,\n    isUnassigned: boolean,\n  ) {\n    const organization = await firstValueFrom(this.organization$);\n    const asAdmin = organization.canEditAllCiphers || isUnassigned;\n    return permanent\n      ? this.cipherService.deleteWithServer(id, userId, asAdmin)\n      : this.cipherService.softDeleteWithServer(id, userId, asAdmin);\n  }\n\n  protected async repromptCipher(ciphers: CipherViewLike[]) {\n    const notProtected = !ciphers.find((cipher) => cipher.reprompt !== CipherRepromptType.None);\n\n    return notProtected || (await this.passwordRepromptService.showPasswordPrompt());\n  }\n\n  private refresh() {\n    this.refreshingSubject$.next(true);\n    if (this.vaultItemsComponent) {\n      this.vaultItemsComponent.clearSelection();\n    }\n  }\n\n  private go(queryParams: any = null) {\n    if (queryParams == null) {\n      queryParams = {\n        type: this.activeFilter.cipherType,\n        collectionId: this.activeFilter.collectionId,\n        deleted: this.activeFilter.isDeleted || null,\n      };\n    }\n\n    void this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: queryParams,\n      queryParamsHandling: \"merge\",\n      replaceUrl: true,\n    });\n  }\n\n  protected readonly CollectionDialogTabType = CollectionDialogTabType;\n\n  private showMissingPermissionsError() {\n    this.toastService.showToast({\n      variant: \"error\",\n\n      message: this.i18nService.t(\"missingPermissions\"),\n    });\n  }\n}\n\n/**\n * Allows backwards compatibility with\n * old links that used the original `cipherId` param\n */\nconst getCipherIdFromParams = (params: Params): string => {\n  return params[\"itemId\"] || params[\"cipherId\"];\n};\n","@let organization = organization$ | async;\n@let selectedCollection = selectedCollection$ | async;\n@let filter = filter$ | async;\n@let refreshing = refreshingSubject$ | async;\n@let loading = loading$ | async;\n\n@if (organization) {\n  @if (!refreshing) {\n    <app-organization-free-trial-warning\n      [organization]=\"organization\"\n      (clicked)=\"navigateToPaymentMethod()\"\n    >\n    </app-organization-free-trial-warning>\n    <app-organization-reseller-renewal-warning [organization]=\"organization\">\n    </app-organization-reseller-renewal-warning>\n  }\n\n  @if (filter) {\n    <app-org-vault-header\n      [filter]=\"filter\"\n      [loading]=\"refreshing\"\n      [organization]=\"organization\"\n      [collection]=\"selectedCollection\"\n      [searchText]=\"currentSearchText$ | async\"\n      (onAddCipher)=\"addCipher($event)\"\n      (onAddCollection)=\"addCollection()\"\n      (onEditCollection)=\"editCollection(selectedCollection?.node, $event.tab, $event.readonly)\"\n      (onDeleteCollection)=\"deleteCollection(selectedCollection?.node)\"\n      (searchTextChanged)=\"filterSearchText($event)\"\n    ></app-org-vault-header>\n  }\n\n  <div class=\"tw-flex tw-flex-row\">\n    @let hideVaultFilters = hideVaultFilter$ | async;\n    @if (!hideVaultFilters) {\n      <div class=\"tw-w-1/4 tw-mr-5\">\n        <app-organization-vault-filter\n          [organization]=\"organization\"\n          [activeFilter]=\"activeFilter\"\n          [searchText]=\"currentSearchText$ | async\"\n          (searchTextChanged)=\"filterSearchText($event)\"\n        ></app-organization-vault-filter>\n      </div>\n    }\n\n    <div [class]=\"hideVaultFilters ? 'tw-w-full' : 'tw-w-3/4'\">\n      @if (showAddAccessToggle && activeFilter.selectedCollectionNode) {\n        <bit-toggle-group\n          [selected]=\"addAccessStatus$ | async\"\n          (selectedChange)=\"addAccessToggle($event)\"\n          [attr.aria-label]=\"'addAccessFilter' | i18n\"\n        >\n          <bit-toggle [value]=\"0\">\n            {{ \"all\" | i18n }}\n          </bit-toggle>\n\n          <bit-toggle [value]=\"1\">\n            {{ \"addAccess\" | i18n }}\n          </bit-toggle>\n        </bit-toggle-group>\n      }\n\n      @if (activeFilter.isDeleted) {\n        <bit-callout type=\"warning\">\n          {{ trashCleanupWarning }}\n        </bit-callout>\n      }\n\n      @if (filter) {\n        <app-vault-items\n          #vaultItems\n          [ciphers]=\"ciphers$ | async\"\n          [collections]=\"collections$ | async\"\n          [allCollections]=\"allCollections$ | async\"\n          [allOrganizations]=\"organization ? [organization] : []\"\n          [allGroups]=\"allGroups$ | async\"\n          [disabled]=\"loading\"\n          [showOwner]=\"false\"\n          [showPermissionsColumn]=\"true\"\n          [showCollections]=\"filter.type !== undefined\"\n          [showGroups]=\"\n            organization?.useGroups &&\n            ((filter.type === undefined && filter.collectionId === undefined) ||\n              filter.collectionId !== undefined)\n          \"\n          [showPremiumFeatures]=\"organization?.useTotp\"\n          [showBulkMove]=\"false\"\n          [showBulkTrashOptions]=\"filter.type === 'trash'\"\n          [useEvents]=\"organization?.canAccessEventLogs\"\n          [showAdminActions]=\"true\"\n          (onEvent)=\"onVaultItemsEvent($event)\"\n          [showBulkEditCollectionAccess]=\"true\"\n          [showBulkAddToCollections]=\"true\"\n          [viewingOrgVault]=\"true\"\n          [addAccessStatus]=\"addAccessStatus$ | async\"\n          [addAccessToggle]=\"showAddAccessToggle\"\n          [activeCollection]=\"selectedCollection?.node\"\n        >\n        </app-vault-items>\n      }\n\n      @let showCollectionAccessRestricted = showCollectionAccessRestricted$ | async;\n      @if (!refreshing && (isEmpty$ | async)) {\n        @if (!showCollectionAccessRestricted) {\n          <bit-no-items>\n            <span slot=\"title\" class=\"tw-mt-4 tw-block\">{{ \"noItemsInList\" | i18n }}</span>\n\n            @if (\n              filter &&\n              filter.type !== \"trash\" &&\n              filter.collectionId !== Unassigned &&\n              (!selectedCollection || selectedCollection.node?.canEditItems(organization))\n            ) {\n              <button\n                slot=\"button\"\n                bitButton\n                (click)=\"addCipher()\"\n                buttonType=\"primary\"\n                type=\"button\"\n              >\n                <i aria-hidden=\"true\" class=\"bwi bwi-plus\"></i> {{ \"newItem\" | i18n }}\n              </button>\n            }\n          </bit-no-items>\n        } @else {\n          <collection-access-restricted\n            [canEditCollection]=\"selectedCollection?.node?.canEdit(organization)\"\n            [canViewCollectionInfo]=\"selectedCollection?.node?.canViewCollectionInfo(organization)\"\n            (viewCollectionClicked)=\"\n              editCollection(selectedCollection?.node, $event.tab, $event.readonly)\n            \"\n          >\n          </collection-access-restricted>\n        }\n      }\n      @if (refreshing) {\n        <div class=\"tw-mt-6 tw-flex tw-h-full tw-flex-col tw-items-center tw-justify-start\">\n          <i\n            class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n            title=\"{{ 'loading' | i18n }}\"\n            aria-hidden=\"true\"\n          ></i>\n          <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n        </div>\n      }\n    </div>\n  </div>\n}\n","import { NgModule } from \"@angular/core\";\n\nimport { SharedModule } from \"../../../shared/shared.module\";\nimport { OrganizationBadgeModule } from \"../../../vault/individual-vault/organization-badge/organization-badge.module\";\nimport { CollectionDialogComponent } from \"../shared/components/collection-dialog\";\n\nimport { CollectionNameBadgeComponent } from \"./collection-badge\";\nimport { GroupBadgeModule } from \"./group-badge/group-badge.module\";\nimport { VaultRoutingModule } from \"./vault-routing.module\";\nimport { VaultComponent } from \"./vault.component\";\n\n@NgModule({\n  imports: [\n    VaultRoutingModule,\n    SharedModule,\n    GroupBadgeModule,\n    CollectionNameBadgeComponent,\n    OrganizationBadgeModule,\n    CollectionDialogComponent,\n    VaultComponent,\n  ],\n})\nexport class VaultModule {}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { EnvironmentInjector, inject, runInInjectionContext } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivateFn,\n  Router,\n  RouterStateSnapshot,\n} from \"@angular/router\";\nimport { firstValueFrom, isObservable, Observable, switchMap } from \"rxjs\";\n\nimport {\n  canAccessOrgAdmin,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { getById } from \"@bitwarden/common/platform/misc\";\nimport { SyncService } from \"@bitwarden/common/vault/abstractions/sync/sync.service.abstraction\";\nimport { ToastService } from \"@bitwarden/components\";\n\n/**\n * `CanActivateFn` that asserts the logged in user has permission to access\n * the page being navigated to. Two high-level checks are performed:\n *\n * 1. If the user is not a member of the organization in the URL parameters, they\n *    are redirected to the home screen.\n * 2. If the organization in the URL parameters is disabled and the user is not\n *    an admin, they are redirected to the home screen.\n *\n * In addition to these high level checks the guard accepts a callback\n * function as an argument that will be called to check for more granular\n * permissions. Based on the return from callback one of the following\n * will happen:\n *\n * 1. If the logged in user does not have the required permissions they are\n *    redirected to `/organizations/{id}` or `/` based on admin console access\n *    permissions.\n * 2. If the logged in user does have the required permissions navigation\n *    proceeds as expected.\n */\nexport function organizationPermissionsGuard(\n  permissionsCallback?: (\n    organization: Organization,\n  ) => boolean | Promise<boolean> | Observable<boolean>,\n): CanActivateFn {\n  return async (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n    const router = inject(Router);\n    const organizationService = inject(OrganizationService);\n    const toastService = inject(ToastService);\n    const i18nService = inject(I18nService);\n    const syncService = inject(SyncService);\n    const accountService = inject(AccountService);\n    const environmentInjector = inject(EnvironmentInjector);\n\n    // TODO: We need to fix issue once and for all.\n    if ((await syncService.getLastSync()) == null) {\n      await syncService.fullSync(false);\n    }\n\n    const org = await firstValueFrom(\n      accountService.activeAccount$.pipe(\n        getUserId,\n        switchMap((userId) => organizationService.organizations$(userId)),\n        getById(route.params.organizationId),\n      ),\n    );\n\n    if (org == null) {\n      return router.createUrlTree([\"/\"]);\n    }\n\n    if (!org.isOwner && !org.enabled) {\n      toastService.showToast({\n        variant: \"error\",\n        title: null,\n        message: i18nService.t(\"organizationIsDisabled\"),\n      });\n      return router.createUrlTree([\"/\"]);\n    }\n\n    if (permissionsCallback == null) {\n      // No additional permission checks required, allow navigation\n      return true;\n    }\n\n    const callbackResult = runInInjectionContext(environmentInjector, () =>\n      permissionsCallback(org),\n    );\n\n    const hasPermissions = isObservable(callbackResult)\n      ? await firstValueFrom(callbackResult) // handles observables\n      : await Promise.resolve(callbackResult); // handles promises and boolean values\n\n    if (hasPermissions !== true && hasPermissions !== false) {\n      throw new Error(\"Permission callback did not resolve to a boolean.\");\n    }\n\n    if (!hasPermissions) {\n      // Handle linkable ciphers for organizations the user only has view access to\n      // https://bitwarden.atlassian.net/browse/EC-203\n      const cipherId =\n        state.root.queryParamMap.get(\"itemId\") || state.root.queryParamMap.get(\"cipherId\");\n      if (cipherId) {\n        return router.createUrlTree([\"/vault\"], {\n          queryParams: {\n            itemId: cipherId,\n          },\n        });\n      }\n\n      toastService.showToast({\n        variant: \"error\",\n        title: null,\n        message: i18nService.t(\"accessDenied\"),\n      });\n      return canAccessOrgAdmin(org)\n        ? router.createUrlTree([\"/organizations\", org.id])\n        : router.createUrlTree([\"/\"]);\n    }\n\n    return true;\n  };\n}\n","import { inject } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivateFn,\n  Router,\n  RouterStateSnapshot,\n} from \"@angular/router\";\nimport { firstValueFrom, map } from \"rxjs\";\n\nimport {\n  canAccessOrgAdmin,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\n\n/**\n *\n * `CanActivateFn` that returns a URL Tree redirecting to a caller provided\n * sub route of `/organizations/{id}/`. If no sub route is provided the URL\n * tree returned will redirect to `/organizations/{id}` if possible, or `/` if\n * the user does not have permission to access `organizations/{id}`.\n */\nexport function organizationRedirectGuard(\n  customRedirect?: (org: Organization) => string | string[],\n): CanActivateFn {\n  return async (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n    const router = inject(Router);\n    const organizationService = inject(OrganizationService);\n    const accountService = inject(AccountService);\n\n    const userId = await firstValueFrom(accountService.activeAccount$.pipe(map((a) => a?.id)));\n\n    if (!userId) {\n      return router.createUrlTree([\"/\"]);\n    }\n\n    const org = await firstValueFrom(\n      organizationService\n        .organizations$(userId)\n        .pipe(\n          map((organizations) => organizations.find((o) => o.id === route.params.organizationId)),\n        ),\n    );\n\n    if (!org) {\n      return router.createUrlTree([\"/\"]);\n    }\n\n    if (customRedirect != null) {\n      let redirectPath = customRedirect(org);\n      if (typeof redirectPath === \"string\") {\n        redirectPath = [redirectPath];\n      }\n      return router.createUrlTree([state.url, ...redirectPath]);\n    }\n\n    if (org != null && canAccessOrgAdmin(org)) {\n      return router.createUrlTree([\"/organizations\", org.id]);\n    }\n\n    return router.createUrlTree([\"/\"]);\n  };\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { CommonModule } from \"@angular/common\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, RouterModule } from \"@angular/router\";\nimport { combineLatest, filter, map, Observable, switchMap, withLatestFrom } from \"rxjs\";\n\nimport { JslibModule } from \"@bitwarden/angular/jslib.module\";\nimport { AdminConsoleLogo } from \"@bitwarden/assets/svg\";\nimport {\n  canAccessBillingTab,\n  canAccessGroupsTab,\n  canAccessMembersTab,\n  canAccessOrgAdmin,\n  canAccessReportingTab,\n  canAccessSettingsTab,\n  canAccessVaultTab,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { PolicyService } from \"@bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction\";\nimport { ProviderService } from \"@bitwarden/common/admin-console/abstractions/provider.service\";\nimport { PolicyType, ProviderStatusType } from \"@bitwarden/common/admin-console/enums\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { getById } from \"@bitwarden/common/platform/misc\";\nimport { BannerModule, IconModule } from \"@bitwarden/components\";\nimport { OrganizationWarningsModule } from \"@bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module\";\nimport { OrganizationWarningsService } from \"@bitwarden/web-vault/app/billing/organizations/warnings/services\";\nimport { NonIndividualSubscriber } from \"@bitwarden/web-vault/app/billing/types\";\nimport { TaxIdWarningComponent } from \"@bitwarden/web-vault/app/billing/warnings/components\";\nimport { TaxIdWarningType } from \"@bitwarden/web-vault/app/billing/warnings/types\";\n\nimport { FreeFamiliesPolicyService } from \"../../../billing/services/free-families-policy.service\";\nimport { OrgSwitcherComponent } from \"../../../layouts/org-switcher/org-switcher.component\";\nimport { WebLayoutModule } from \"../../../layouts/web-layout.module\";\n\n@Component({\n  selector: \"app-organization-layout\",\n  templateUrl: \"organization-layout.component.html\",\n  imports: [\n    CommonModule,\n    RouterModule,\n    JslibModule,\n    WebLayoutModule,\n    IconModule,\n    OrgSwitcherComponent,\n    BannerModule,\n    TaxIdWarningComponent,\n    TaxIdWarningComponent,\n    OrganizationWarningsModule,\n  ],\n})\nexport class OrganizationLayoutComponent implements OnInit {\n  protected readonly logo = AdminConsoleLogo;\n\n  protected orgFilter = (org: Organization) => canAccessOrgAdmin(org);\n\n  organization$: Observable<Organization>;\n  canAccessExport$: Observable<boolean>;\n  showPaymentAndHistory$: Observable<boolean>;\n  hideNewOrgButton$: Observable<boolean>;\n  organizationIsUnmanaged$: Observable<boolean>;\n\n  protected showSponsoredFamiliesDropdown$: Observable<boolean>;\n\n  protected subscriber$: Observable<NonIndividualSubscriber>;\n  protected getTaxIdWarning$: () => Observable<TaxIdWarningType | null>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    private platformUtilsService: PlatformUtilsService,\n    private policyService: PolicyService,\n    private providerService: ProviderService,\n    private accountService: AccountService,\n    private freeFamiliesPolicyService: FreeFamiliesPolicyService,\n    private organizationWarningsService: OrganizationWarningsService,\n  ) {}\n\n  async ngOnInit() {\n    document.body.classList.remove(\"layout_frontend\");\n\n    this.organization$ = this.route.params.pipe(\n      map((p) => p.organizationId),\n      withLatestFrom(this.accountService.activeAccount$.pipe(getUserId)),\n      switchMap(([orgId, userId]) =>\n        this.organizationService.organizations$(userId).pipe(getById(orgId)),\n      ),\n      filter((org) => org != null),\n    );\n    this.showSponsoredFamiliesDropdown$ =\n      this.freeFamiliesPolicyService.showSponsoredFamiliesDropdown$(this.organization$);\n\n    this.canAccessExport$ = this.organization$.pipe(map((org) => org.canAccessExport));\n\n    this.showPaymentAndHistory$ = this.organization$.pipe(\n      map(\n        (org) =>\n          !this.platformUtilsService.isSelfHost() &&\n          org.canViewBillingHistory &&\n          org.canEditPaymentMethods,\n      ),\n    );\n\n    this.hideNewOrgButton$ = this.accountService.activeAccount$.pipe(\n      getUserId,\n      switchMap((userId) => this.policyService.policyAppliesToUser$(PolicyType.SingleOrg, userId)),\n    );\n\n    const provider$ = combineLatest([\n      this.organization$,\n      this.accountService.activeAccount$.pipe(getUserId),\n    ]).pipe(\n      switchMap(([organization, userId]) =>\n        this.providerService.get$(organization.providerId, userId),\n      ),\n    );\n\n    this.organizationIsUnmanaged$ = combineLatest([this.organization$, provider$]).pipe(\n      map(\n        ([organization, provider]) =>\n          !organization.hasProvider ||\n          !provider ||\n          provider.providerStatus !== ProviderStatusType.Billable,\n      ),\n    );\n\n    this.subscriber$ = this.organization$.pipe(\n      map((organization) => ({\n        type: \"organization\",\n        data: organization,\n      })),\n    );\n\n    this.getTaxIdWarning$ = () =>\n      this.organization$.pipe(\n        switchMap((organization) =>\n          this.organizationWarningsService.getTaxIdWarning$(organization),\n        ),\n      );\n  }\n\n  canShowVaultTab(organization: Organization): boolean {\n    return canAccessVaultTab(organization);\n  }\n\n  canShowSettingsTab(organization: Organization): boolean {\n    return canAccessSettingsTab(organization);\n  }\n\n  canShowMembersTab(organization: Organization): boolean {\n    return canAccessMembersTab(organization);\n  }\n\n  canShowGroupsTab(organization: Organization): boolean {\n    return canAccessGroupsTab(organization);\n  }\n\n  canShowReportsTab(organization: Organization): boolean {\n    return canAccessReportingTab(organization);\n  }\n\n  canShowBillingTab(organization: Organization): boolean {\n    return false; // disable billing tab in Vaultwarden\n    return canAccessBillingTab(organization);\n  }\n\n  getReportTabLabel(organization: Organization): string {\n    return organization.useEvents ? \"reporting\" : \"reports\";\n  }\n\n  refreshTaxIdWarning = () => this.organizationWarningsService.refreshTaxIdWarning();\n}\n","<app-layout>\n  <app-side-nav variant=\"secondary\" *ngIf=\"organization$ | async as organization\">\n    <bit-nav-logo [openIcon]=\"logo\" route=\".\" [label]=\"'adminConsole' | i18n\"></bit-nav-logo>\n    <org-switcher [filter]=\"orgFilter\" [hideNewButton]=\"hideNewOrgButton$ | async\"></org-switcher>\n    <bit-nav-group\n      icon=\"bwi-dashboard\"\n      *ngIf=\"organization.useRiskInsights && organization.canAccessReports\"\n      [text]=\"'accessIntelligence' | i18n\"\n      route=\"access-intelligence\"\n    >\n      <bit-nav-item\n        [text]=\"'riskInsights' | i18n\"\n        route=\"access-intelligence/risk-insights\"\n      ></bit-nav-item>\n    </bit-nav-group>\n    <bit-nav-item\n      icon=\"bwi-collection-shared\"\n      [text]=\"'collections' | i18n\"\n      route=\"vault\"\n      *ngIf=\"canShowVaultTab(organization)\"\n    >\n    </bit-nav-item>\n\n    <ng-container *ngIf=\"canShowMembersTab(organization)\">\n      <ng-container *ngIf=\"showSponsoredFamiliesDropdown$ | async; else regularMembersItem\">\n        <bit-nav-group icon=\"bwi-user\" [text]=\"'members' | i18n\" route=\"members\">\n          <bit-nav-item\n            [text]=\"'members' | i18n\"\n            route=\"members\"\n            [routerLinkActiveOptions]=\"{ exact: true }\"\n          ></bit-nav-item>\n          <bit-nav-item\n            [text]=\"'sponsoredFamilies' | i18n\"\n            route=\"members/sponsored-families\"\n          ></bit-nav-item>\n        </bit-nav-group>\n      </ng-container>\n      <ng-template #regularMembersItem>\n        <bit-nav-item icon=\"bwi-user\" [text]=\"'members' | i18n\" route=\"members\"></bit-nav-item>\n      </ng-template>\n    </ng-container>\n\n    <bit-nav-item\n      icon=\"bwi-users\"\n      [text]=\"'groups' | i18n\"\n      route=\"groups\"\n      *ngIf=\"canShowGroupsTab(organization)\"\n    ></bit-nav-item>\n    <bit-nav-group\n      icon=\"bwi-sliders\"\n      [text]=\"getReportTabLabel(organization) | i18n\"\n      route=\"reporting\"\n      *ngIf=\"canShowReportsTab(organization)\"\n    >\n      <bit-nav-item\n        [text]=\"'eventLogs' | i18n\"\n        route=\"reporting/events\"\n        *ngIf=\"organization.canAccessEventLogs || organization.isOwner\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'reports' | i18n\"\n        route=\"reporting/reports\"\n        *ngIf=\"organization.canAccessReports\"\n      ></bit-nav-item>\n    </bit-nav-group>\n    <bit-nav-group\n      icon=\"bwi-billing\"\n      [text]=\"'billing' | i18n\"\n      route=\"billing\"\n      *ngIf=\"canShowBillingTab(organization)\"\n    >\n      <bit-nav-item [text]=\"'subscription' | i18n\" route=\"billing/subscription\"></bit-nav-item>\n      <ng-container *ngIf=\"(showPaymentAndHistory$ | async) && (organizationIsUnmanaged$ | async)\">\n        <bit-nav-item\n          [text]=\"'paymentDetails' | i18n\"\n          route=\"billing/payment-details\"\n        ></bit-nav-item>\n        <bit-nav-item [text]=\"'billingHistory' | i18n\" route=\"billing/history\"></bit-nav-item>\n      </ng-container>\n    </bit-nav-group>\n    <bit-nav-group\n      icon=\"bwi-cog\"\n      [text]=\"'settings' | i18n\"\n      route=\"settings\"\n      *ngIf=\"canShowSettingsTab(organization)\"\n    >\n      <bit-nav-item\n        [text]=\"'organizationInfo' | i18n\"\n        route=\"settings/account\"\n        *ngIf=\"organization.isOwner\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'policies' | i18n\"\n        route=\"settings/policies\"\n        *ngIf=\"organization.canManagePolicies\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'twoStepLogin' | i18n\"\n        route=\"settings/two-factor\"\n        *ngIf=\"organization.use2fa && organization.isOwner\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'importData' | i18n\"\n        route=\"settings/tools/import\"\n        *ngIf=\"organization.canAccessImport\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'exportVault' | i18n\"\n        route=\"settings/tools/export\"\n        *ngIf=\"canAccessExport$ | async\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'claimedDomains' | i18n\"\n        route=\"settings/domain-verification\"\n        *ngIf=\"organization?.canManageDomainVerification\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'singleSignOn' | i18n\"\n        route=\"settings/sso\"\n        *ngIf=\"organization.canManageSso\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'deviceApprovals' | i18n\"\n        route=\"settings/device-approvals\"\n        *ngIf=\"organization.canManageDeviceApprovals\"\n      ></bit-nav-item>\n      <bit-nav-item\n        [text]=\"'scim' | i18n\"\n        route=\"settings/scim\"\n        *ngIf=\"organization.canManageScim\"\n      ></bit-nav-item>\n    </bit-nav-group>\n  </app-side-nav>\n\n  <ng-container *ngIf=\"organization$ | async as organization\">\n    <bit-banner *ngIf=\"organization.isProviderUser\" [showClose]=\"false\">\n      {{ \"accessingUsingProvider\" | i18n: organization.providerName }}\n    </bit-banner>\n    <app-tax-id-warning\n      [subscriber]=\"subscriber$ | async\"\n      [getWarning$]=\"getTaxIdWarning$\"\n      (billingAddressUpdated)=\"refreshTaxIdWarning()\"\n    >\n    </app-tax-id-warning>\n  </ng-container>\n\n  <router-outlet></router-outlet>\n</app-layout>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormBuilder } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { firstValueFrom, switchMap } from \"rxjs\";\n\nimport { OrganizationUserApiService } from \"@bitwarden/admin-console/common\";\nimport { UserNamePipe } from \"@bitwarden/angular/pipes/user-name.pipe\";\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { EventResponse } from \"@bitwarden/common/models/response/event.response\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { EventView } from \"@bitwarden/common/models/view/event.view\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { ValidationService } from \"@bitwarden/common/platform/abstractions/validation.service\";\nimport {\n  DIALOG_DATA,\n  DialogConfig,\n  DialogService,\n  TableDataSource,\n  ToastService,\n} from \"@bitwarden/components\";\n\nimport { EventService } from \"../../../core\";\nimport { SharedModule } from \"../../../shared\";\n\nexport interface EntityEventsDialogParams {\n  entity: \"user\" | \"cipher\" | \"secret\" | \"project\" | \"service-account\";\n  entityId: string;\n\n  organizationId?: string;\n  providerId?: string;\n  showUser?: boolean;\n  name?: string;\n}\n\n@Component({\n  imports: [SharedModule],\n  templateUrl: \"entity-events.component.html\",\n})\nexport class EntityEventsComponent implements OnInit, OnDestroy {\n  loading = true;\n  continuationToken: string;\n  protected dataSource = new TableDataSource<EventView>();\n  protected filterFormGroup = this.formBuilder.group({\n    start: [\"\"],\n    end: [\"\"],\n  });\n\n  private orgUsersUserIdMap = new Map<string, any>();\n  private orgUsersIdMap = new Map<string, any>();\n\n  get name() {\n    return this.params.name;\n  }\n\n  get showUser() {\n    return this.params.showUser ?? false;\n  }\n\n  constructor(\n    @Inject(DIALOG_DATA) private params: EntityEventsDialogParams,\n    private apiService: ApiService,\n    private i18nService: I18nService,\n    private eventService: EventService,\n    private userNamePipe: UserNamePipe,\n    private logService: LogService,\n    private organizationUserApiService: OrganizationUserApiService,\n    private formBuilder: FormBuilder,\n    private validationService: ValidationService,\n    private toastService: ToastService,\n    private router: Router,\n    private activeRoute: ActivatedRoute,\n    private accountService: AccountService,\n    protected organizationService: OrganizationService,\n  ) {}\n\n  async ngOnInit() {\n    const defaultDates = this.eventService.getDefaultDateFilters();\n    this.filterFormGroup.setValue({\n      start: defaultDates[0],\n      end: defaultDates[1],\n    });\n    await this.load();\n  }\n\n  async ngOnDestroy() {\n    await firstValueFrom(\n      this.activeRoute.queryParams.pipe(\n        switchMap(async (params) => {\n          await this.router.navigate([], {\n            queryParams: {\n              ...params,\n              viewEvents: null,\n            },\n          });\n        }),\n      ),\n    );\n  }\n\n  async load() {\n    try {\n      if (this.showUser) {\n        const response = await this.organizationUserApiService.getAllMiniUserDetails(\n          this.params.organizationId,\n        );\n        response.data.forEach((u) => {\n          const name = this.userNamePipe.transform(u);\n          this.orgUsersIdMap.set(u.id, { name: name, email: u.email });\n          this.orgUsersUserIdMap.set(u.userId, { name: name, email: u.email });\n        });\n      }\n      await this.loadEvents(true);\n    } catch (e) {\n      this.logService.error(e);\n      this.validationService.showError(e);\n    }\n\n    this.loading = false;\n  }\n\n  loadMoreEvents = async () => {\n    await this.loadEvents(false);\n  };\n\n  refreshEvents = async () => {\n    await this.loadEvents(true);\n  };\n\n  private async loadEvents(clearExisting: boolean) {\n    let dates: string[] = null;\n    try {\n      dates = this.eventService.formatDateFilters(\n        this.filterFormGroup.value.start,\n        this.filterFormGroup.value.end,\n      );\n      // FIXME: Remove when updating file. Eslint update\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    } catch (e) {\n      this.toastService.showToast({\n        variant: \"error\",\n        title: this.i18nService.t(\"errorOccurred\"),\n        message: this.i18nService.t(\"invalidDateRange\"),\n      });\n      return;\n    }\n\n    let response: ListResponse<EventResponse>;\n    if (this.params.entity === \"user\" && this.params.providerId) {\n      response = await this.apiService.getEventsProviderUser(\n        this.params.providerId,\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    } else if (this.params.entity === \"user\") {\n      response = await this.apiService.getEventsOrganizationUser(\n        this.params.organizationId,\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    } else if (this.params.entity === \"secret\") {\n      response = await this.apiService.getEventsSecret(\n        this.params.organizationId,\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    } else if (this.params.entity === \"service-account\") {\n      response = await this.apiService.getEventsServiceAccount(\n        this.params.organizationId,\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    } else if (this.params.entity === \"project\") {\n      response = await this.apiService.getEventsProject(\n        this.params.organizationId,\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    } else {\n      response = await this.apiService.getEventsCipher(\n        this.params.entityId,\n        dates[0],\n        dates[1],\n        clearExisting ? null : this.continuationToken,\n      );\n    }\n\n    this.continuationToken = response.continuationToken;\n    const events: EventView[] = await Promise.all(\n      response.data.map(async (r) => {\n        const userId = r.actingUserId == null ? r.userId : r.actingUserId;\n        const eventInfo = await this.eventService.getEventInfo(r);\n        const user =\n          this.showUser && userId != null && this.orgUsersUserIdMap.has(userId)\n            ? this.orgUsersUserIdMap.get(userId)\n            : null;\n\n        return new EventView({\n          message: eventInfo.message,\n          humanReadableMessage: eventInfo.humanReadableMessage,\n          appIcon: eventInfo.appIcon,\n          appName: eventInfo.appName,\n          userId: userId,\n          userName: user != null ? user.name : this.showUser ? this.i18nService.t(\"unknown\") : null,\n          userEmail: user != null ? user.email : this.showUser ? \"\" : null,\n          date: r.date,\n          ip: r.ipAddress,\n          type: r.type,\n          installationId: r.installationId,\n          systemUser: r.systemUser,\n          serviceAccountId: r.serviceAccountId,\n        });\n      }),\n    );\n\n    if (!clearExisting && this.dataSource.data != null && this.dataSource.data.length > 0) {\n      this.dataSource.data = this.dataSource.data.concat(events);\n    } else {\n      this.dataSource.data = events;\n    }\n  }\n}\n\n/**\n * Strongly typed helper to open a EntityEventsComponent as a dialog\n * @param dialogService Instance of the dialog service that will be used to open the dialog\n * @param config Configuration for the dialog\n */\nexport const openEntityEventsDialog = (\n  dialogService: DialogService,\n  config: DialogConfig<EntityEventsDialogParams>,\n) => {\n  return dialogService.open<void, EntityEventsDialogParams>(EntityEventsComponent, config);\n};\n","<bit-dialog dialogSize=\"large\" [loading]=\"loading\">\n  <span bitDialogTitle>\n    {{ \"eventLogs\" | i18n }}\n    <small class=\"tw-text-muted\" *ngIf=\"name\">{{ name }}</small>\n  </span>\n  <div bitDialogContent>\n    <form [formGroup]=\"filterFormGroup\" [bitSubmit]=\"refreshEvents\">\n      <div class=\"tw-flex tw-items-center tw-space-x-2\">\n        <bit-form-field>\n          <bit-label>{{ \"from\" | i18n }}</bit-label>\n          <input\n            bitInput\n            type=\"datetime-local\"\n            id=\"start\"\n            placeholder=\"{{ 'startDate' | i18n }}\"\n            formControlName=\"start\"\n          />\n        </bit-form-field>\n        <span class=\"tw-mx-2\">-</span>\n        <bit-form-field>\n          <bit-label>{{ \"to\" | i18n }}</bit-label>\n          <input\n            bitInput\n            type=\"datetime-local\"\n            id=\"end\"\n            placeholder=\"{{ 'endDate' | i18n }}\"\n            formControlName=\"end\"\n          />\n        </bit-form-field>\n        <button type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n          <i class=\"bwi bwi-refresh bwi-fw\" aria-hidden=\"true\"></i>\n          {{ \"refresh\" | i18n }}\n        </button>\n      </div>\n    </form>\n    <hr />\n    <div *ngIf=\"!dataSource.data || !dataSource.data.length\">\n      {{ \"noEventsInList\" | i18n }}\n    </div>\n    <bit-table [dataSource]=\"dataSource\" *ngIf=\"dataSource?.data?.length\">\n      <ng-container header>\n        <tr>\n          <th bitCell>{{ \"timestamp\" | i18n }}</th>\n          <th bitCell>\n            <span class=\"tw-sr-only\">{{ \"client\" | i18n }}</span>\n          </th>\n          <th bitCell *ngIf=\"showUser\">{{ \"member\" | i18n }}</th>\n          <th bitCell>{{ \"event\" | i18n }}</th>\n        </tr>\n      </ng-container>\n      <ng-template body let-rows$>\n        <tr bitRow *ngFor=\"let r of rows$ | async\">\n          <td bitCell>{{ r.date | date: \"medium\" }}</td>\n          <td bitCell>\n            <i\n              class=\"tw-text-muted bwi bwi-lg {{ r.appIcon }}\"\n              title=\"{{ r.appName }}, {{ r.ip }}\"\n              aria-hidden=\"true\"\n            ></i>\n            <span class=\"tw-sr-only\">{{ r.appName }}, {{ r.ip }}</span>\n          </td>\n          <td bitCell *ngIf=\"showUser\">\n            <span appA11yTitle=\"{{ r.userEmail }}\">{{ r.userName }}</span>\n          </td>\n          <td bitCell [innerHTML]=\"r.message\"></td>\n        </tr>\n      </ng-template>\n    </bit-table>\n    <button\n      bitButton\n      buttonType=\"secondary\"\n      block\n      [bitAction]=\"loadMoreEvents\"\n      type=\"button\"\n      *ngIf=\"continuationToken\"\n    >\n      {{ \"loadMore\" | i18n }}\n    </button>\n  </div>\n  <ng-container bitDialogFooter>\n    <button bitButton buttonType=\"secondary\" type=\"button\" bitDialogClose>\n      {{ \"close\" | i18n }}\n    </button>\n  </ng-container>\n</bit-dialog>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { ChangeDetectorRef, Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport {\n  catchError,\n  combineLatest,\n  concatMap,\n  from,\n  map,\n  Observable,\n  of,\n  shareReplay,\n  Subject,\n  switchMap,\n  takeUntil,\n} from \"rxjs\";\n\nimport {\n  CollectionAdminService,\n  CollectionAdminView,\n  OrganizationUserApiService,\n} from \"@bitwarden/admin-console/common\";\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport {\n  getOrganizationById,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { ErrorResponse } from \"@bitwarden/common/models/response/error.response\";\nimport { ConfigService } from \"@bitwarden/common/platform/abstractions/config/config.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { UserId } from \"@bitwarden/common/types/guid\";\nimport {\n  DIALOG_DATA,\n  DialogConfig,\n  DialogRef,\n  DialogService,\n  ToastService,\n} from \"@bitwarden/components\";\n\nimport { InternalGroupApiService as GroupService } from \"../core\";\nimport {\n  AccessItemType,\n  AccessItemValue,\n  AccessItemView,\n  convertToPermission,\n  convertToSelectionView,\n  PermissionMode,\n} from \"../shared/components/access-selector\";\n\nimport { AddEditGroupDetail } from \"./../core/views/add-edit-group-detail\";\n\n/**\n * Indices for the available tabs in the dialog\n */\n// FIXME: update to use a const object instead of a typescript enum\n// eslint-disable-next-line @bitwarden/platform/no-enums\nexport enum GroupAddEditTabType {\n  Info = 0,\n  Members = 1,\n  Collections = 2,\n}\n\nexport interface GroupAddEditDialogParams {\n  /**\n   * ID of the organization the group belongs to\n   */\n  organizationId: string;\n\n  /**\n   * Optional ID of the group being modified\n   */\n  groupId?: string;\n\n  /**\n   * Tab to open when the dialog is open.\n   * Defaults to Group Info\n   */\n  initialTab?: GroupAddEditTabType;\n}\n\n// FIXME: update to use a const object instead of a typescript enum\n// eslint-disable-next-line @bitwarden/platform/no-enums\nexport enum GroupAddEditDialogResultType {\n  Saved = \"saved\",\n  Canceled = \"canceled\",\n  Deleted = \"deleted\",\n}\n\n/**\n * Strongly typed helper to open a groupAddEditDialog\n * @param dialogService Instance of the dialog service that will be used to open the dialog\n * @param config Configuration for the dialog\n */\nexport const openGroupAddEditDialog = (\n  dialogService: DialogService,\n  config: DialogConfig<GroupAddEditDialogParams>,\n) => {\n  return dialogService.open<GroupAddEditDialogResultType, GroupAddEditDialogParams>(\n    GroupAddEditComponent,\n    config,\n  );\n};\n\n@Component({\n  selector: \"app-group-add-edit\",\n  templateUrl: \"group-add-edit.component.html\",\n  standalone: false,\n})\nexport class GroupAddEditComponent implements OnInit, OnDestroy {\n  private organization$ = this.accountService.activeAccount$.pipe(\n    switchMap((account) =>\n      this.organizationService\n        .organizations$(account?.id)\n        .pipe(getOrganizationById(this.organizationId))\n        .pipe(shareReplay({ refCount: true })),\n    ),\n  );\n\n  protected PermissionMode = PermissionMode;\n  protected ResultType = GroupAddEditDialogResultType;\n\n  tabIndex: GroupAddEditTabType;\n  loading = true;\n  title: string;\n  collections: AccessItemView[] = [];\n  members: Array<AccessItemView & { userId: UserId }> = [];\n  group: AddEditGroupDetail;\n\n  groupForm = this.formBuilder.group({\n    name: [\"\", [Validators.required, Validators.maxLength(100)]],\n    externalId: this.formBuilder.control({ value: \"\", disabled: true }),\n    members: [[] as AccessItemValue[]],\n    collections: [[] as AccessItemValue[]],\n  });\n\n  get groupId(): string | undefined {\n    return this.params.groupId;\n  }\n\n  get organizationId(): string {\n    return this.params.organizationId;\n  }\n\n  protected get isExternalIdVisible(): boolean {\n    return !!this.groupForm.get(\"externalId\")?.value;\n  }\n\n  protected get editMode(): boolean {\n    return this.groupId != null;\n  }\n\n  private destroy$ = new Subject<void>();\n\n  private orgCollections$ = this.accountService.activeAccount$.pipe(\n    getUserId,\n    switchMap((userId) =>\n      this.collectionAdminService.collectionAdminViews$(this.organizationId, userId),\n    ),\n    shareReplay({ refCount: true, bufferSize: 1 }),\n  );\n\n  private get orgMembers$(): Observable<Array<AccessItemView & { userId: UserId }>> {\n    return from(this.organizationUserApiService.getAllMiniUserDetails(this.organizationId)).pipe(\n      map((response) =>\n        response.data.map((m) => ({\n          id: m.id,\n          type: AccessItemType.Member,\n          email: m.email,\n          role: m.type,\n          listName: m.name?.length > 0 ? `${m.name} (${m.email})` : m.email,\n          labelName: m.name || m.email,\n          status: m.status,\n          userId: m.userId as UserId,\n        })),\n      ),\n    );\n  }\n\n  private groupDetails$: Observable<AddEditGroupDetail | undefined> = of(this.editMode).pipe(\n    concatMap((editMode) => {\n      if (!editMode) {\n        return of(undefined);\n      }\n\n      return combineLatest([\n        this.groupService.get(this.organizationId, this.groupId),\n        this.apiService.getGroupUsers(this.organizationId, this.groupId),\n      ]).pipe(\n        map(([groupView, users]): AddEditGroupDetail => {\n          return {\n            ...groupView,\n            members: users,\n          };\n        }),\n        catchError((e: unknown) => {\n          if (e instanceof ErrorResponse) {\n            this.logService.error(e.message);\n          } else {\n            this.logService.error(e.toString());\n          }\n          return of(undefined);\n        }),\n      );\n    }),\n    shareReplay({ refCount: true, bufferSize: 1 }),\n  );\n\n  protected allowAdminAccessToAllCollectionItems$ = this.organization$.pipe(\n    map((organization) => {\n      return organization.allowAdminAccessToAllCollectionItems;\n    }),\n  );\n\n  protected canAssignAccessToAnyCollection$ = combineLatest([\n    this.organization$,\n    this.allowAdminAccessToAllCollectionItems$,\n  ]).pipe(\n    map(\n      ([org, allowAdminAccessToAllCollectionItems]) =>\n        org.canEditAnyCollection ||\n        // Manage Groups custom permission cannot edit any collection but they can assign access from this dialog\n        // if permitted by collection management settings\n        (org.permissions.manageGroups && allowAdminAccessToAllCollectionItems),\n    ),\n  );\n\n  protected cannotAddSelfToGroup$ = combineLatest([\n    this.allowAdminAccessToAllCollectionItems$,\n    this.groupDetails$,\n  ]).pipe(map(([allowAdminAccess, groupDetails]) => !allowAdminAccess && groupDetails != null));\n\n  constructor(\n    @Inject(DIALOG_DATA) private params: GroupAddEditDialogParams,\n    private dialogRef: DialogRef<GroupAddEditDialogResultType>,\n    private apiService: ApiService,\n    private organizationUserApiService: OrganizationUserApiService,\n    private groupService: GroupService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private logService: LogService,\n    private formBuilder: FormBuilder,\n    private changeDetectorRef: ChangeDetectorRef,\n    private dialogService: DialogService,\n    private organizationService: OrganizationService,\n    private accountService: AccountService,\n    private collectionAdminService: CollectionAdminService,\n    private toastService: ToastService,\n    private configService: ConfigService,\n  ) {\n    this.tabIndex = params.initialTab ?? GroupAddEditTabType.Info;\n  }\n\n  ngOnInit() {\n    this.loading = true;\n    this.title = this.i18nService.t(this.editMode ? \"editGroup\" : \"newGroup\");\n\n    combineLatest([\n      this.orgCollections$,\n      this.orgMembers$,\n      this.groupDetails$,\n      this.cannotAddSelfToGroup$,\n      this.accountService.activeAccount$,\n      this.organization$,\n    ])\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(\n        ([collections, members, group, restrictGroupAccess, activeAccount, organization]) => {\n          this.members = members;\n          this.group = group;\n          this.collections = mapToAccessItemViews(collections, organization, group);\n\n          if (this.group != undefined) {\n            // Must detect changes so that AccessSelector @Inputs() are aware of the latest\n            // collections/members set above, otherwise no selected values will be patched below\n            this.changeDetectorRef.detectChanges();\n\n            this.groupForm.patchValue({\n              name: this.group.name,\n              externalId: this.group.externalId,\n              members: this.group.members.map((m) => ({\n                id: m,\n                type: AccessItemType.Member,\n              })),\n              collections: mapToAccessSelections(group, this.collections),\n            });\n          }\n\n          // If the current user is not already in the group and cannot add themselves, remove them from the list\n          if (restrictGroupAccess) {\n            // organizationUserId may be null if accessing via a provider\n            const organizationUserId = this.members.find((m) => m.userId === activeAccount.id)?.id;\n            const isAlreadyInGroup = this.groupForm.value.members.some(\n              (m) => m.id === organizationUserId,\n            );\n\n            if (organizationUserId != null && !isAlreadyInGroup) {\n              this.members = this.members.filter((m) => m.id !== organizationUserId);\n            }\n          }\n\n          this.loading = false;\n        },\n      );\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    this.groupForm.markAllAsTouched();\n\n    if (this.groupForm.invalid) {\n      if (this.tabIndex !== GroupAddEditTabType.Info) {\n        this.toastService.showToast({\n          variant: \"error\",\n          title: null,\n          message: this.i18nService.t(\n            \"fieldOnTabRequiresAttention\",\n            this.i18nService.t(\"groupInfo\"),\n          ),\n        });\n      }\n      return;\n    }\n\n    const formValue = this.groupForm.value;\n\n    const groupView: AddEditGroupDetail = {\n      id: this.groupId,\n      organizationId: this.organizationId,\n      name: formValue.name,\n      members: formValue.members?.map((m) => m.id) ?? [],\n      collections: formValue.collections.map((c) => convertToSelectionView(c)),\n      externalId: formValue.externalId,\n    };\n\n    await this.groupService.save(groupView);\n\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\n        this.editMode ? \"editedGroupId\" : \"createdGroupId\",\n        formValue.name,\n      ),\n    });\n\n    this.dialogRef.close(GroupAddEditDialogResultType.Saved);\n  };\n\n  delete = async () => {\n    if (!this.editMode) {\n      return;\n    }\n\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: this.group.name,\n      content: { key: \"deleteGroupConfirmation\" },\n      type: \"warning\",\n    });\n    if (!confirmed) {\n      return false;\n    }\n\n    await this.groupService.delete(this.organizationId, this.groupId);\n\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\"deletedGroupId\", this.group.name),\n    });\n    this.dialogRef.close(GroupAddEditDialogResultType.Deleted);\n  };\n}\n\n/**\n * Maps the group's current collection access to AccessItemValues to populate the access-selector's FormControl\n */\nfunction mapToAccessSelections(\n  group: AddEditGroupDetail,\n  items: AccessItemView[],\n): AccessItemValue[] {\n  return (\n    group.collections\n      // The FormControl value only represents editable collection access - exclude readonly access selections\n      .filter((selection) => !items.find((item) => item.id == selection.id).readonly)\n      .map((gc) => ({\n        id: gc.id,\n        type: AccessItemType.Collection,\n        permission: convertToPermission(gc),\n      }))\n  );\n}\n\n/**\n * Maps the organization's collections to AccessItemViews to populate the access-selector's multi-select\n */\nfunction mapToAccessItemViews(\n  collections: CollectionAdminView[],\n  organization: Organization,\n  group?: AddEditGroupDetail,\n): AccessItemView[] {\n  return (\n    collections\n      .map<AccessItemView>((c) => {\n        const accessSelection = group?.collections.find((access) => access.id == c.id) ?? undefined;\n        return {\n          id: c.id,\n          type: AccessItemType.Collection,\n          labelName: c.name,\n          listName: c.name,\n          readonly: !c.canEditGroupAccess(organization),\n          readonlyPermission: accessSelection ? convertToPermission(accessSelection) : undefined,\n        };\n      })\n      // Remove any collection views that are not already assigned and that we don't have permissions to assign access to\n      .filter((item) => !item.readonly || group?.collections.some((access) => access.id == item.id))\n  );\n}\n","<form [formGroup]=\"groupForm\" [bitSubmit]=\"submit\">\n  <bit-dialog [disablePadding]=\"!loading\" dialogSize=\"large\">\n    <span bitDialogTitle>\n      {{ title }}\n      <span *ngIf=\"editMode\" class=\"tw-text-sm tw-normal-case tw-text-muted\">{{\n        group?.name\n      }}</span>\n    </span>\n    <div bitDialogContent>\n      <div *ngIf=\"loading\">\n        <i\n          class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n          title=\"{{ 'loading' | i18n }}\"\n          aria-hidden=\"true\"\n        ></i>\n        <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n      </div>\n\n      <bit-tab-group *ngIf=\"!loading\" [(selectedIndex)]=\"tabIndex\">\n        <bit-tab label=\"{{ 'groupInfo' | i18n }}\">\n          <bit-form-field>\n            <bit-label>{{ \"name\" | i18n }}</bit-label>\n            <input bitInput appAutofocus type=\"text\" formControlName=\"name\" />\n            <bit-hint>{{ \"characterMaximum\" | i18n: 100 }}</bit-hint>\n          </bit-form-field>\n          <bit-form-field *ngIf=\"isExternalIdVisible\">\n            <bit-label>{{ \"externalId\" | i18n }}</bit-label>\n            <input bitInput type=\"text\" formControlName=\"externalId\" />\n            <bit-hint>{{ \"externalIdDesc\" | i18n }}</bit-hint>\n          </bit-form-field>\n        </bit-tab>\n\n        <bit-tab label=\"{{ 'members' | i18n }}\">\n          <p>\n            {{ \"editGroupMembersDesc\" | i18n }}\n            <span *ngIf=\"cannotAddSelfToGroup$ | async\">\n              {{ \"restrictedGroupAccessDesc\" | i18n }}\n            </span>\n          </p>\n          <bit-access-selector\n            formControlName=\"members\"\n            [items]=\"members\"\n            [showMemberRoles]=\"true\"\n            [permissionMode]=\"PermissionMode.Hidden\"\n            [columnHeader]=\"'member' | i18n\"\n            [selectorLabelText]=\"'selectMembers' | i18n\"\n            [emptySelectionText]=\"'noMembersAdded' | i18n\"\n          ></bit-access-selector>\n        </bit-tab>\n\n        <bit-tab label=\"{{ 'collections' | i18n }}\">\n          <p>\n            {{ \"editGroupCollectionsDesc\" | i18n }}\n            <span *ngIf=\"!(canAssignAccessToAnyCollection$ | async)\">\n              {{ \"restrictedCollectionAssignmentDesc\" | i18n }}\n            </span>\n          </p>\n          <bit-access-selector\n            formControlName=\"collections\"\n            [items]=\"collections\"\n            [permissionMode]=\"PermissionMode.Edit\"\n            [columnHeader]=\"'collection' | i18n\"\n            [selectorLabelText]=\"'selectCollections' | i18n\"\n            [emptySelectionText]=\"'noCollectionsAdded' | i18n\"\n          ></bit-access-selector>\n        </bit-tab>\n      </bit-tab-group>\n    </div>\n    <ng-container bitDialogFooter>\n      <button bitButton buttonType=\"primary\" bitFormButton type=\"submit\">\n        {{ \"save\" | i18n }}\n      </button>\n      <button bitButton buttonType=\"secondary\" type=\"button\" [bitDialogClose]=\"ResultType.Canceled\">\n        {{ \"cancel\" | i18n }}\n      </button>\n      <button\n        class=\"tw-ml-auto\"\n        type=\"button\"\n        buttonType=\"danger\"\n        bitIconButton=\"bwi-trash\"\n        bitFormButton\n        [bitAction]=\"delete\"\n        [label]=\"'delete' | i18n\"\n      ></button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component } from \"@angular/core\";\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { FormControl } from \"@angular/forms\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  BehaviorSubject,\n  combineLatest,\n  concatMap,\n  from,\n  lastValueFrom,\n  map,\n  Observable,\n  switchMap,\n  tap,\n} from \"rxjs\";\nimport { debounceTime, first } from \"rxjs/operators\";\n\nimport {\n  CollectionService,\n  CollectionData,\n  Collection,\n  CollectionDetailsResponse,\n  CollectionResponse,\n  CollectionView,\n} from \"@bitwarden/admin-console/common\";\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { DialogService, TableDataSource, ToastService } from \"@bitwarden/components\";\nimport { KeyService } from \"@bitwarden/key-management\";\n\nimport { GroupDetailsView, InternalGroupApiService as GroupService } from \"../core\";\n\nimport {\n  GroupAddEditDialogResultType,\n  GroupAddEditTabType,\n  openGroupAddEditDialog,\n} from \"./group-add-edit.component\";\n\ntype GroupDetailsRow = {\n  /**\n   * Details used for displaying group information\n   */\n  details: GroupDetailsView;\n\n  /**\n   * True if the group is selected in the table\n   */\n  checked?: boolean;\n\n  /**\n   * A list of collection names the group has access to\n   */\n  collectionNames?: string[];\n};\n\n/**\n * Custom filter predicate that filters the groups table by id and name only.\n * This is required because the default implementation searches by all properties, which can unintentionally match\n * with members' names (who are assigned to the group) or collection names (which the group has access to).\n */\nconst groupsFilter = (filter: string) => {\n  filter ??= \"\";\n  const transformedFilter = filter.trim().toLowerCase();\n  return (data: GroupDetailsRow) => {\n    const group = data.details;\n\n    return (\n      group.id.toLowerCase().indexOf(transformedFilter) != -1 ||\n      group.name.toLowerCase().indexOf(transformedFilter) != -1\n    );\n  };\n};\n\n@Component({\n  templateUrl: \"groups.component.html\",\n  standalone: false,\n})\nexport class GroupsComponent {\n  loading = true;\n  organizationId: string;\n\n  protected dataSource = new TableDataSource<GroupDetailsRow>();\n  protected searchControl = new FormControl(\"\");\n\n  // Fixed sizes used for cdkVirtualScroll\n  protected rowHeight = 50;\n  protected rowHeightClass = `tw-h-[50px]`;\n\n  protected ModalTabType = GroupAddEditTabType;\n  private refreshGroups$ = new BehaviorSubject<void>(null);\n\n  constructor(\n    private apiService: ApiService,\n    private groupService: GroupService,\n    private route: ActivatedRoute,\n    private i18nService: I18nService,\n    private dialogService: DialogService,\n    private logService: LogService,\n    private collectionService: CollectionService,\n    private toastService: ToastService,\n    private keyService: KeyService,\n    private accountService: AccountService,\n  ) {\n    this.route.params\n      .pipe(\n        tap((params) => (this.organizationId = params.organizationId)),\n        switchMap(() =>\n          combineLatest([\n            // collectionMap\n            from(this.apiService.getCollections(this.organizationId)).pipe(\n              concatMap((response) => this.toCollectionMap(response)),\n            ),\n            // groups\n            this.refreshGroups$.pipe(\n              switchMap(() => this.groupService.getAllDetails(this.organizationId)),\n            ),\n          ]),\n        ),\n        map(([collectionMap, groups]) => {\n          return groups.map<GroupDetailsRow>((g) => ({\n            id: g.id,\n            name: g.name,\n            details: g,\n            checked: false,\n            collectionNames: g.collections\n              .map((c) => collectionMap[c.id]?.name)\n              .sort(this.i18nService.collator?.compare),\n          }));\n        }),\n        takeUntilDestroyed(),\n      )\n      .subscribe((groups) => {\n        this.dataSource.data = groups;\n        this.loading = false;\n      });\n\n    // Connect the search input to the table dataSource filter input\n    this.searchControl.valueChanges\n      .pipe(debounceTime(200), takeUntilDestroyed())\n      .subscribe((v) => (this.dataSource.filter = groupsFilter(v)));\n\n    this.route.queryParams.pipe(first(), takeUntilDestroyed()).subscribe((qParams) => {\n      this.searchControl.setValue(qParams.search);\n    });\n  }\n\n  async edit(\n    group: GroupDetailsRow,\n    startingTabIndex: GroupAddEditTabType = GroupAddEditTabType.Info,\n  ) {\n    const dialogRef = openGroupAddEditDialog(this.dialogService, {\n      data: {\n        initialTab: startingTabIndex,\n        organizationId: this.organizationId,\n        groupId: group != null ? group.details.id : null,\n      },\n    });\n\n    const result = await lastValueFrom(dialogRef.closed);\n\n    if (result == GroupAddEditDialogResultType.Saved) {\n      this.refreshGroups$.next();\n    } else if (result == GroupAddEditDialogResultType.Deleted) {\n      this.removeGroup(group);\n    }\n  }\n\n  async add() {\n    await this.edit(null);\n  }\n\n  async delete(groupRow: GroupDetailsRow) {\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: groupRow.details.name,\n      content: { key: \"deleteGroupConfirmation\" },\n      type: \"warning\",\n    });\n    if (!confirmed) {\n      return false;\n    }\n\n    try {\n      await this.groupService.delete(this.organizationId, groupRow.details.id);\n      this.toastService.showToast({\n        variant: \"success\",\n        title: null,\n        message: this.i18nService.t(\"deletedGroupId\", groupRow.details.name),\n      });\n      this.removeGroup(groupRow);\n    } catch (e) {\n      this.logService.error(e);\n    }\n  }\n\n  async deleteAllSelected() {\n    const groupsToDelete = this.dataSource.data.filter((g) => g.checked);\n\n    if (groupsToDelete.length == 0) {\n      return;\n    }\n\n    const deleteMessage = groupsToDelete.map((g) => g.details.name).join(\", \");\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: {\n        key: \"deleteMultipleGroupsConfirmation\",\n        placeholders: [groupsToDelete.length.toString()],\n      },\n      content: deleteMessage,\n      type: \"warning\",\n    });\n    if (!confirmed) {\n      return false;\n    }\n\n    try {\n      await this.groupService.deleteMany(\n        this.organizationId,\n        groupsToDelete.map((g) => g.details.id),\n      );\n      this.toastService.showToast({\n        variant: \"success\",\n        title: null,\n        message: this.i18nService.t(\"deletedManyGroups\", groupsToDelete.length.toString()),\n      });\n\n      groupsToDelete.forEach((g) => this.removeGroup(g));\n    } catch (e) {\n      this.logService.error(e);\n    }\n  }\n\n  check(groupRow: GroupDetailsRow) {\n    groupRow.checked = !groupRow.checked;\n  }\n\n  toggleAllVisible(event: Event) {\n    this.dataSource.filteredData.forEach(\n      (g) => (g.checked = (event.target as HTMLInputElement).checked),\n    );\n  }\n\n  private removeGroup(groupRow: GroupDetailsRow) {\n    // Assign a new array to dataSource.data to trigger the setters and update the table\n    this.dataSource.data = this.dataSource.data.filter((g) => g !== groupRow);\n  }\n\n  private toCollectionMap(\n    response: ListResponse<CollectionResponse>,\n  ): Observable<Record<string, CollectionView>> {\n    const collections = response.data.map((r) =>\n      Collection.fromCollectionData(new CollectionData(r as CollectionDetailsResponse)),\n    );\n\n    return this.accountService.activeAccount$.pipe(\n      getUserId,\n      switchMap((userId) => this.keyService.orgKeys$(userId)),\n      switchMap((orgKeys) => this.collectionService.decryptMany$(collections, orgKeys)),\n      map((collections) => {\n        const collectionMap: Record<string, CollectionView> = {};\n        collections.forEach((c) => (collectionMap[c.id] = c));\n        return collectionMap;\n      }),\n    );\n  }\n}\n","<app-header>\n  <bit-search\n    [placeholder]=\"'searchGroups' | i18n\"\n    [formControl]=\"searchControl\"\n    class=\"tw-w-80\"\n  ></bit-search>\n  <button bitButton type=\"button\" buttonType=\"primary\" (click)=\"add()\">\n    <i class=\"bwi bwi-plus bwi-fw\" aria-hidden=\"true\"></i>\n    {{ \"newGroup\" | i18n }}\n  </button>\n</app-header>\n\n<ng-container *ngIf=\"loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n</ng-container>\n<ng-container *ngIf=\"!loading\">\n  <p *ngIf=\"!dataSource.filteredData.length\">{{ \"noGroupsInList\" | i18n }}</p>\n  <!-- The padding on the bottom of the cdk-virtual-scroll-viewport element is required to prevent table row content\n  from overflowing the <main> element. -->\n  <cdk-virtual-scroll-viewport bitScrollLayout [itemSize]=\"rowHeight\" class=\"tw-pb-8\">\n    <bit-table *ngIf=\"dataSource.filteredData.length\" [dataSource]=\"dataSource\">\n      <ng-container header>\n        <tr>\n          <th bitCell class=\"tw-w-20\">\n            <input\n              type=\"checkbox\"\n              bitCheckbox\n              class=\"tw-mr-2\"\n              (change)=\"toggleAllVisible($event)\"\n              id=\"selectAll\"\n            />\n            <label class=\"tw-mb-0 !tw-font-bold !tw-text-muted\" for=\"selectAll\">{{\n              \"all\" | i18n\n            }}</label>\n          </th>\n          <th bitCell bitSortable=\"name\" default>{{ \"name\" | i18n }}</th>\n          <th bitCell>{{ \"collections\" | i18n }}</th>\n          <th bitCell class=\"tw-w-10\">\n            <button\n              [bitMenuTriggerFor]=\"headerMenu\"\n              type=\"button\"\n              bitIconButton=\"bwi-ellipsis-v\"\n              size=\"small\"\n              label=\"{{ 'options' | i18n }}\"\n            ></button>\n\n            <bit-menu #headerMenu>\n              <button type=\"button\" bitMenuItem (click)=\"deleteAllSelected()\">\n                <span class=\"tw-text-danger\"\n                  ><i aria-hidden=\"true\" class=\"bwi bwi-trash\"></i> {{ \"delete\" | i18n }}</span\n                >\n              </button>\n            </bit-menu>\n          </th>\n        </tr>\n      </ng-container>\n      <ng-template body let-rows$>\n        <tr bitRow *cdkVirtualFor=\"let g of rows$\" [ngClass]=\"rowHeightClass\">\n          <td bitCell (click)=\"check(g)\" class=\"tw-cursor-pointer\">\n            <input type=\"checkbox\" bitCheckbox [(ngModel)]=\"g.checked\" />\n          </td>\n          <td bitCell class=\"tw-cursor-pointer tw-font-bold\" (click)=\"edit(g)\">\n            <button type=\"button\" bitLink>\n              {{ g.details.name }}\n            </button>\n          </td>\n          <td bitCell (click)=\"edit(g, ModalTabType.Collections)\" class=\"tw-cursor-pointer\">\n            <bit-badge-list\n              [items]=\"g.collectionNames\"\n              [maxItems]=\"3\"\n              variant=\"secondary\"\n            ></bit-badge-list>\n          </td>\n          <td bitCell>\n            <button\n              [bitMenuTriggerFor]=\"rowMenu\"\n              type=\"button\"\n              bitIconButton=\"bwi-ellipsis-v\"\n              size=\"small\"\n              label=\"{{ 'options' | i18n }}\"\n            ></button>\n\n            <bit-menu #rowMenu>\n              <button type=\"button\" bitMenuItem (click)=\"edit(g)\">\n                <i aria-hidden=\"true\" class=\"bwi bwi-pencil-square\"></i> {{ \"editInfo\" | i18n }}\n              </button>\n              <button type=\"button\" bitMenuItem (click)=\"edit(g, ModalTabType.Members)\">\n                <i aria-hidden=\"true\" class=\"bwi bwi-user\"></i> {{ \"members\" | i18n }}\n              </button>\n              <button type=\"button\" bitMenuItem (click)=\"edit(g, ModalTabType.Collections)\">\n                <i aria-hidden=\"true\" class=\"bwi bwi-collection-shared\"></i>\n                {{ \"collections\" | i18n }}\n              </button>\n              <button type=\"button\" bitMenuItem (click)=\"delete(g)\">\n                <span class=\"tw-text-danger\"\n                  ><i aria-hidden=\"true\" class=\"bwi bwi-trash\"></i> {{ \"delete\" | i18n }}</span\n                >\n              </button>\n            </bit-menu>\n          </td>\n        </tr>\n      </ng-template>\n    </bit-table>\n  </cdk-virtual-scroll-viewport>\n</ng-container>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { authGuard } from \"@bitwarden/angular/auth/guards\";\nimport {\n  canAccessOrgAdmin,\n  canAccessGroupsTab,\n  canAccessMembersTab,\n  canAccessVaultTab,\n  canAccessReportingTab,\n  canAccessSettingsTab,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\n\nimport { deepLinkGuard } from \"../../auth/guards/deep-link/deep-link.guard\";\n\nimport { VaultModule } from \"./collections/vault.module\";\nimport { organizationPermissionsGuard } from \"./guards/org-permissions.guard\";\nimport { organizationRedirectGuard } from \"./guards/org-redirect.guard\";\nimport { OrganizationLayoutComponent } from \"./layouts/organization-layout.component\";\nimport { GroupsComponent } from \"./manage/groups.component\";\n\nconst routes: Routes = [\n  {\n    path: \":organizationId\",\n    component: OrganizationLayoutComponent,\n    canActivate: [deepLinkGuard(), authGuard, organizationPermissionsGuard(canAccessOrgAdmin)],\n    children: [\n      {\n        path: \"\",\n        pathMatch: \"full\",\n        canActivate: [organizationRedirectGuard(getOrganizationRoute)],\n        children: [], // This is required to make the auto redirect work, },\n      },\n      {\n        path: \"vault\",\n        loadChildren: () => VaultModule,\n      },\n      {\n        path: \"settings\",\n        loadChildren: () =>\n          import(\"./settings/organization-settings.module\").then(\n            (m) => m.OrganizationSettingsModule,\n          ),\n      },\n      {\n        path: \"members\",\n        loadChildren: () => import(\"./members\").then((m) => m.MembersModule),\n      },\n      {\n        component: GroupsComponent,\n        path: \"groups\",\n        canActivate: [organizationPermissionsGuard(canAccessGroupsTab)],\n        data: {\n          titleId: \"groups\",\n        },\n      },\n      {\n        path: \"reporting\",\n        loadChildren: () =>\n          import(\"../organizations/reporting/organization-reporting.module\").then(\n            (m) => m.OrganizationReportingModule,\n          ),\n      },\n      {\n        path: \"billing\",\n        loadChildren: () =>\n          import(\"../../billing/organizations/organization-billing.module\").then(\n            (m) => m.OrganizationBillingModule,\n          ),\n      },\n    ],\n  },\n];\n\nfunction getOrganizationRoute(organization: Organization): string {\n  if (canAccessVaultTab(organization)) {\n    return \"vault\";\n  }\n  if (canAccessMembersTab(organization)) {\n    return \"members\";\n  }\n  if (canAccessGroupsTab(organization)) {\n    return \"groups\";\n  }\n  if (canAccessReportingTab(organization)) {\n    return \"reporting\";\n  }\n  if (canAccessSettingsTab(organization)) {\n    return \"settings\";\n  }\n  return undefined;\n}\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrganizationsRoutingModule {}\n","import { ScrollingModule } from \"@angular/cdk/scrolling\";\nimport { NgModule } from \"@angular/core\";\n\nimport { ScrollLayoutDirective } from \"@bitwarden/components\";\nimport { OrganizationWarningsModule } from \"@bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module\";\n\nimport { HeaderModule } from \"../../layouts/header/header.module\";\n\nimport { CoreOrganizationModule } from \"./core\";\nimport { GroupAddEditComponent } from \"./manage/group-add-edit.component\";\nimport { GroupsComponent } from \"./manage/groups.component\";\nimport { OrganizationsRoutingModule } from \"./organization-routing.module\";\nimport { SharedOrganizationModule } from \"./shared\";\nimport { AccessSelectorModule } from \"./shared/components/access-selector\";\n\n@NgModule({\n  imports: [\n    SharedOrganizationModule,\n    AccessSelectorModule,\n    CoreOrganizationModule,\n    OrganizationsRoutingModule,\n    HeaderModule,\n    ScrollingModule,\n    ScrollLayoutDirective,\n    OrganizationWarningsModule,\n  ],\n  declarations: [GroupsComponent, GroupAddEditComponent],\n})\nexport class OrganizationModule {}\n","export * from \"./access-selector.component\";\nexport * from \"./access-selector.module\";\nexport * from \"./access-selector.models\";\n","export * from \"./shared-organization.module\";\n","import { NgModule } from \"@angular/core\";\n\nimport { SearchModule } from \"@bitwarden/components\";\n\nimport { SharedModule } from \"../../../shared/shared.module\";\n\nimport { AccessSelectorModule } from \"./components/access-selector/access-selector.module\";\n\n@NgModule({\n  imports: [SharedModule, AccessSelectorModule, SearchModule],\n  declarations: [],\n  exports: [SharedModule, AccessSelectorModule, SearchModule],\n})\nexport class SharedOrganizationModule {}\n","export * from \"./tax-id-warning.component\";\n","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\nimport {\n  BehaviorSubject,\n  combineLatest,\n  filter,\n  firstValueFrom,\n  lastValueFrom,\n  map,\n  Observable,\n  switchMap,\n} from \"rxjs\";\n\nimport { Account, AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { FeatureFlag } from \"@bitwarden/common/enums/feature-flag.enum\";\nimport { ConfigService } from \"@bitwarden/common/platform/abstractions/config/config.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { BannerModule, DialogService } from \"@bitwarden/components\";\nimport { BILLING_DISK, StateProvider, UserKeyDefinition } from \"@bitwarden/state\";\nimport { SubscriberBillingClient } from \"@bitwarden/web-vault/app/billing/clients\";\nimport { EditBillingAddressDialogComponent } from \"@bitwarden/web-vault/app/billing/payment/components\";\nimport { NonIndividualSubscriber } from \"@bitwarden/web-vault/app/billing/types\";\nimport {\n  TaxIdWarningType,\n  TaxIdWarningTypes,\n} from \"@bitwarden/web-vault/app/billing/warnings/types\";\nimport { SharedModule } from \"@bitwarden/web-vault/app/shared\";\n\ntype DismissalCounts = {\n  [TaxIdWarningTypes.Missing]?: number;\n  [TaxIdWarningTypes.FailedVerification]?: number;\n};\n\nconst DISMISSALS_COUNT_KEY = new UserKeyDefinition<DismissalCounts>(\n  BILLING_DISK,\n  \"taxIdWarningDismissalCounts\",\n  {\n    deserializer: (dismissalCounts) => dismissalCounts,\n    clearOn: [],\n  },\n);\n\ntype DismissedThisSession = {\n  [TaxIdWarningTypes.Missing]?: boolean;\n  [TaxIdWarningTypes.FailedVerification]?: boolean;\n};\n\nconst DISMISSED_THIS_SESSION_KEY = new UserKeyDefinition<DismissedThisSession>(\n  BILLING_DISK,\n  \"taxIdWarningDismissedThisSession\",\n  {\n    deserializer: (dismissedThisSession) => dismissedThisSession,\n    clearOn: [\"logout\"],\n  },\n);\n\ntype Dismissals = {\n  [TaxIdWarningTypes.Missing]: {\n    count: number;\n    dismissedThisSession: boolean;\n  };\n  [TaxIdWarningTypes.FailedVerification]: {\n    count: number;\n    dismissedThisSession: boolean;\n  };\n};\n\nconst shouldShowWarning = (\n  warning: Exclude<TaxIdWarningType, typeof TaxIdWarningTypes.PendingVerification>,\n  dismissals: Dismissals,\n) => {\n  const dismissalsForType = dismissals[warning];\n  if (dismissalsForType.dismissedThisSession) {\n    return false;\n  }\n  return dismissalsForType.count < 3;\n};\n\ntype View = {\n  message: string;\n  callToAction: string;\n};\n\ntype GetWarning$ = () => Observable<TaxIdWarningType | null>;\n\n@Component({\n  selector: \"app-tax-id-warning\",\n  template: `\n    @if (enableTaxIdWarning$ | async) {\n      @let view = view$ | async;\n\n      @if (view) {\n        <bit-banner id=\"tax-id-warning-banner\" bannerType=\"warning\" (onClose)=\"trackDismissal()\">\n          {{ view.message }}\n          <a\n            bitLink\n            linkType=\"secondary\"\n            (click)=\"editBillingAddress()\"\n            class=\"tw-cursor-pointer\"\n            rel=\"noreferrer noopener\"\n          >\n            {{ view.callToAction }}\n          </a>\n        </bit-banner>\n      }\n    }\n  `,\n  imports: [BannerModule, SharedModule],\n})\nexport class TaxIdWarningComponent implements OnInit {\n  @Input({ required: true }) subscriber!: NonIndividualSubscriber;\n  @Input({ required: true }) getWarning$!: GetWarning$;\n  @Output() billingAddressUpdated = new EventEmitter<void>();\n\n  protected enableTaxIdWarning$ = this.configService.getFeatureFlag$(\n    FeatureFlag.PM22415_TaxIDWarnings,\n  );\n\n  protected userId$ = this.accountService.activeAccount$.pipe(\n    filter((account): account is Account => account !== null),\n    getUserId,\n  );\n\n  protected dismissals$: Observable<Dismissals> = this.userId$.pipe(\n    switchMap((userId) =>\n      combineLatest([\n        this.stateProvider.getUser(userId, DISMISSALS_COUNT_KEY).state$.pipe(\n          map((dismissalCounts) => {\n            if (!dismissalCounts) {\n              return {\n                [TaxIdWarningTypes.Missing]: 0,\n                [TaxIdWarningTypes.FailedVerification]: 0,\n              };\n            }\n            return {\n              [TaxIdWarningTypes.Missing]: dismissalCounts[TaxIdWarningTypes.Missing] ?? 0,\n              [TaxIdWarningTypes.FailedVerification]:\n                dismissalCounts[TaxIdWarningTypes.FailedVerification] ?? 0,\n            };\n          }),\n        ),\n        this.stateProvider.getUser(userId, DISMISSED_THIS_SESSION_KEY).state$.pipe(\n          map((dismissedThisSession) => {\n            if (!dismissedThisSession) {\n              return {\n                [TaxIdWarningTypes.Missing]: false,\n                [TaxIdWarningTypes.FailedVerification]: false,\n              };\n            }\n            return {\n              [TaxIdWarningTypes.Missing]: dismissedThisSession[TaxIdWarningTypes.Missing] ?? false,\n              [TaxIdWarningTypes.FailedVerification]:\n                dismissedThisSession[TaxIdWarningTypes.FailedVerification] ?? false,\n            };\n          }),\n        ),\n      ]),\n    ),\n    map(([dismissalCounts, dismissedThisSession]) => ({\n      [TaxIdWarningTypes.Missing]: {\n        count: dismissalCounts[TaxIdWarningTypes.Missing],\n        dismissedThisSession: dismissedThisSession[TaxIdWarningTypes.Missing],\n      },\n      [TaxIdWarningTypes.FailedVerification]: {\n        count: dismissalCounts[TaxIdWarningTypes.FailedVerification],\n        dismissedThisSession: dismissedThisSession[TaxIdWarningTypes.FailedVerification],\n      },\n    })),\n  );\n\n  protected getWarningSubject = new BehaviorSubject<GetWarning$ | null>(null);\n\n  protected warning$ = this.getWarningSubject.pipe(switchMap(() => this.getWarning$()));\n\n  protected view$: Observable<View | null> = combineLatest([this.warning$, this.dismissals$]).pipe(\n    map(([warning, dismissals]) => {\n      if (!warning || warning === TaxIdWarningTypes.PendingVerification) {\n        return null;\n      }\n\n      if (!shouldShowWarning(warning, dismissals)) {\n        return null;\n      }\n\n      switch (warning) {\n        case TaxIdWarningTypes.Missing: {\n          return {\n            message: this.i18nService.t(\"missingTaxIdWarning\"),\n            callToAction: this.i18nService.t(\"addTaxId\"),\n          };\n        }\n        case TaxIdWarningTypes.FailedVerification: {\n          return {\n            message: this.i18nService.t(\"unverifiedTaxIdWarning\"),\n            callToAction: this.i18nService.t(\"editTaxId\"),\n          };\n        }\n      }\n    }),\n  );\n\n  constructor(\n    private accountService: AccountService,\n    private configService: ConfigService,\n    private dialogService: DialogService,\n    private i18nService: I18nService,\n    private subscriberBillingClient: SubscriberBillingClient,\n    private stateProvider: StateProvider,\n  ) {}\n\n  ngOnInit() {\n    this.getWarningSubject.next(this.getWarning$);\n  }\n\n  editBillingAddress = async () => {\n    const billingAddress = await this.subscriberBillingClient.getBillingAddress(this.subscriber);\n    const warning = (await firstValueFrom(this.warning$)) ?? undefined;\n\n    const dialogRef = EditBillingAddressDialogComponent.open(this.dialogService, {\n      data: {\n        subscriber: this.subscriber,\n        billingAddress,\n        taxIdWarning: warning,\n      },\n    });\n\n    const result = await lastValueFrom(dialogRef.closed);\n\n    if (result?.type === \"success\") {\n      this.billingAddressUpdated.emit();\n    }\n  };\n\n  trackDismissal = async () => {\n    const warning = await firstValueFrom(this.warning$);\n    if (!warning || warning === TaxIdWarningTypes.PendingVerification) {\n      return;\n    }\n    const userId = await firstValueFrom(this.userId$);\n    const updateDismissalCounts = this.stateProvider\n      .getUser(userId, DISMISSALS_COUNT_KEY)\n      .update((dismissalCounts) => {\n        if (!dismissalCounts) {\n          return {\n            [warning]: 1,\n          };\n        }\n        const dismissalsByType = dismissalCounts[warning];\n        if (!dismissalsByType) {\n          return {\n            ...dismissalCounts,\n            [warning]: 1,\n          };\n        }\n        return {\n          ...dismissalCounts,\n          [warning]: dismissalsByType + 1,\n        };\n      });\n    const updateDismissedThisSession = this.stateProvider\n      .getUser(userId, DISMISSED_THIS_SESSION_KEY)\n      .update((dismissedThisSession) => {\n        if (!dismissedThisSession) {\n          return {\n            [warning]: true,\n          };\n        }\n        const dismissedThisSessionByType = dismissedThisSession[warning];\n        if (!dismissedThisSessionByType) {\n          return {\n            ...dismissedThisSession,\n          };\n        }\n        return {\n          ...dismissedThisSession,\n          [warning]: dismissedThisSessionByType,\n        };\n      });\n    await Promise.all([updateDismissalCounts, updateDismissedThisSession]);\n  };\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { CommonModule } from \"@angular/common\";\nimport { Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, firstValueFrom, map, Observable, switchMap } from \"rxjs\";\n\nimport { JslibModule } from \"@bitwarden/angular/jslib.module\";\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport type { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingApiServiceAbstraction } from \"@bitwarden/common/billing/abstractions/billing-api.service.abstraction\";\nimport { DialogService, NavigationModule } from \"@bitwarden/components\";\nimport { OrganizationWarningsModule } from \"@bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module\";\nimport { OrganizationWarningsService } from \"@bitwarden/web-vault/app/billing/organizations/warnings/services\";\n\n@Component({\n  selector: \"org-switcher\",\n  templateUrl: \"org-switcher.component.html\",\n  imports: [CommonModule, JslibModule, NavigationModule, OrganizationWarningsModule],\n})\nexport class OrgSwitcherComponent {\n  protected organizations$: Observable<Organization[]> = this.accountService.activeAccount$.pipe(\n    switchMap((account) =>\n      this.organizationService\n        .organizations$(account?.id)\n        .pipe(\n          map((orgs) =>\n            orgs.filter((org) => this.filter(org)).sort((a, b) => a.name.localeCompare(b.name)),\n          ),\n        ),\n    ),\n  );\n\n  protected activeOrganization$: Observable<Organization> = combineLatest([\n    this.route.paramMap,\n    this.organizations$,\n  ]).pipe(map(([params, orgs]) => orgs.find((org) => org.id === params.get(\"organizationId\"))));\n\n  /**\n   * Filter function for displayed organizations in the `org-switcher`\n   * @example\n   * const smFilter = (org: Organization) => org.canAccessSecretsManager\n   * // <org-switcher [filter]=\"smFilter\">\n   */\n  @Input()\n  filter: (org: Organization) => boolean = () => true;\n\n  /**\n   * Is `true` if the expanded content is visible\n   */\n  @Input()\n  open = false;\n  @Output()\n  openChange = new EventEmitter<boolean>();\n\n  /**\n   * Visibility of the New Organization button\n   */\n  @Input()\n  hideNewButton = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    protected dialogService: DialogService,\n    private organizationService: OrganizationService,\n    protected billingApiService: BillingApiServiceAbstraction,\n    private accountService: AccountService,\n    private organizationWarningsService: OrganizationWarningsService,\n  ) {}\n\n  protected toggle(event?: MouseEvent) {\n    event?.stopPropagation();\n    this.open = !this.open;\n    this.openChange.emit(this.open);\n  }\n\n  showInactiveSubscriptionDialog = async (organization: Organization) =>\n    await firstValueFrom(\n      this.organizationWarningsService.showInactiveSubscriptionDialog$(organization),\n    );\n}\n","<bit-nav-group\n  *ngIf=\"activeOrganization$ | async as activeOrganization\"\n  [text]=\"activeOrganization.name\"\n  [ariaLabel]=\"['organization' | i18n, activeOrganization.name].join(' ')\"\n  icon=\"bwi-business\"\n  [route]=\"['../', activeOrganization.id]\"\n  [routerLinkActiveOptions]=\"{ exact: true }\"\n  [(open)]=\"open\"\n>\n  <i\n    slot=\"end\"\n    *ngIf=\"!activeOrganization.enabled\"\n    class=\"bwi bwi-exclamation-triangle tw-my-auto\"\n    [attr.aria-label]=\"'organizationIsDisabled' | i18n\"\n    appA11yTitle=\"{{ 'organizationIsDisabled' | i18n }}\"\n  ></i>\n  <ng-container *ngIf=\"organizations$ | async as organizations\">\n    <bit-nav-item\n      *ngFor=\"let org of organizations\"\n      [text]=\"org.name\"\n      [ariaLabel]=\"['organization' | i18n, org.name].join(' ')\"\n      [route]=\"['../', org.id]\"\n      (mainContentClicked)=\"toggle()\"\n      [routerLinkActiveOptions]=\"{ exact: true }\"\n      (click)=\"showInactiveSubscriptionDialog(org)\"\n    >\n      <i\n        slot=\"end\"\n        *ngIf=\"org.enabled == false\"\n        class=\"bwi bwi-exclamation-triangle\"\n        [attr.aria-label]=\"'organizationIsDisabled' | i18n\"\n        appA11yTitle=\"{{ 'organizationIsDisabled' | i18n }}\"\n      ></i>\n    </bit-nav-item>\n  </ng-container>\n  <bit-nav-item\n    *ngIf=\"!hideNewButton\"\n    icon=\"bwi-plus\"\n    [text]=\"'newOrganization' | i18n\"\n    route=\"/create-organization\"\n  ></bit-nav-item>\n  <bit-nav-divider></bit-nav-divider>\n</bit-nav-group>\n"],"names":[],"sourceRoot":""}