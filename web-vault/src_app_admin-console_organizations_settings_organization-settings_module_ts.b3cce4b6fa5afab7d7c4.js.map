{"version":3,"file":"src_app_admin-console_organizations_settings_organization-settings_module_ts.b3cce4b6fa5afab7d7c4.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/../../libs/common/src/admin-console/models/request/organization-collection-management-update.request.ts","webpack://@bitwarden/web-vault/../../libs/common/src/admin-console/models/request/organization-update.request.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/settings/account.component.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/settings/account.component.html","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/settings/organization-settings-routing.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/settings/organization-settings.module.ts","webpack://@bitwarden/web-vault/./src/app/admin-console/organizations/settings/two-factor-setup.component.ts","webpack://@bitwarden/web-vault/./src/app/auth/settings/two-factor/two-factor-setup.component.html"],"sourcesContent":["// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nexport class OrganizationCollectionManagementUpdateRequest {\n  limitCollectionCreation: boolean;\n  limitCollectionDeletion: boolean;\n  limitItemDeletion: boolean;\n  allowAdminAccessToAllCollectionItems: boolean;\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { OrganizationKeysRequest } from \"./organization-keys.request\";\n\nexport class OrganizationUpdateRequest {\n  name: string;\n  businessName: string;\n  billingEmail: string;\n  keys: OrganizationKeysRequest;\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport {\n  combineLatest,\n  firstValueFrom,\n  from,\n  lastValueFrom,\n  map,\n  of,\n  Subject,\n  switchMap,\n  takeUntil,\n} from \"rxjs\";\n\nimport { OrganizationApiServiceAbstraction } from \"@bitwarden/common/admin-console/abstractions/organization/organization-api.service.abstraction\";\nimport {\n  getOrganizationById,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { OrganizationCollectionManagementUpdateRequest } from \"@bitwarden/common/admin-console/models/request/organization-collection-management-update.request\";\nimport { OrganizationKeysRequest } from \"@bitwarden/common/admin-console/models/request/organization-keys.request\";\nimport { OrganizationUpdateRequest } from \"@bitwarden/common/admin-console/models/request/organization-update.request\";\nimport { OrganizationResponse } from \"@bitwarden/common/admin-console/models/response/organization.response\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { OrganizationId } from \"@bitwarden/common/types/guid\";\nimport { DialogService, ToastService } from \"@bitwarden/components\";\nimport { KeyService } from \"@bitwarden/key-management\";\n\nimport { ApiKeyComponent } from \"../../../auth/settings/security/api-key.component\";\nimport { PurgeVaultComponent } from \"../../../vault/settings/purge-vault.component\";\n\nimport { DeleteOrganizationDialogResult, openDeleteOrganizationDialog } from \"./components\";\n\n@Component({\n  selector: \"app-org-account\",\n  templateUrl: \"account.component.html\",\n  standalone: false,\n})\nexport class AccountComponent implements OnInit, OnDestroy {\n  selfHosted = false;\n  canEditSubscription = true;\n  loading = true;\n  canUseApi = false;\n  org: OrganizationResponse;\n  taxFormPromise: Promise<unknown>;\n\n  // FormGroup validators taken from server Organization domain object\n  protected formGroup = this.formBuilder.group({\n    orgName: this.formBuilder.control(\n      { value: \"\", disabled: true },\n      {\n        validators: [Validators.required, Validators.maxLength(50)],\n        updateOn: \"change\",\n      },\n    ),\n    billingEmail: this.formBuilder.control(\n      { value: \"\", disabled: true },\n      { validators: [Validators.required, Validators.email, Validators.maxLength(256)] },\n    ),\n  });\n\n  protected collectionManagementFormGroup = this.formBuilder.group({\n    limitCollectionCreation: this.formBuilder.control({ value: false, disabled: false }),\n    limitCollectionDeletion: this.formBuilder.control({ value: false, disabled: false }),\n    limitItemDeletion: this.formBuilder.control({ value: false, disabled: false }),\n    allowAdminAccessToAllCollectionItems: this.formBuilder.control({\n      value: false,\n      disabled: false,\n    }),\n  });\n\n  protected organizationId: string;\n  protected publicKeyBuffer: Uint8Array;\n\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private i18nService: I18nService,\n    private route: ActivatedRoute,\n    private platformUtilsService: PlatformUtilsService,\n    private keyService: KeyService,\n    private router: Router,\n    private accountService: AccountService,\n    private organizationService: OrganizationService,\n    private organizationApiService: OrganizationApiServiceAbstraction,\n    private dialogService: DialogService,\n    private formBuilder: FormBuilder,\n    private toastService: ToastService,\n  ) {}\n\n  async ngOnInit() {\n    this.selfHosted = false; // set to false so we can rename organizations\n\n    const userId = await firstValueFrom(getUserId(this.accountService.activeAccount$));\n    this.route.params\n      .pipe(\n        switchMap((params) =>\n          this.organizationService\n            .organizations$(userId)\n            .pipe(getOrganizationById(params.organizationId)),\n        ),\n        switchMap((organization) => {\n          return combineLatest([\n            of(organization),\n            // OrganizationResponse for form population\n            from(this.organizationApiService.get(organization.id)),\n            // Organization Public Key\n            from(this.organizationApiService.getKeys(organization.id)),\n          ]);\n        }),\n        takeUntil(this.destroy$),\n      )\n      .subscribe(([organization, orgResponse, orgKeys]) => {\n        // Set domain level organization variables\n        this.organizationId = organization.id;\n        this.canEditSubscription = organization.canEditSubscription;\n        this.canUseApi = organization.useApi;\n\n        // Update disabled states - reactive forms prefers not using disabled attribute\n        if (!this.selfHosted) {\n          this.formGroup.get(\"orgName\").enable();\n          if (this.canEditSubscription) {\n            this.formGroup.get(\"billingEmail\").enable();\n          }\n        }\n\n        // Org Response\n        this.org = orgResponse;\n\n        // Public Key Buffer for Org Fingerprint Generation\n        this.publicKeyBuffer = Utils.fromB64ToArray(orgKeys?.publicKey);\n\n        // Patch existing values\n        this.formGroup.patchValue({\n          orgName: this.org.name,\n          billingEmail: this.org.billingEmail,\n        });\n\n        this.collectionManagementFormGroup.patchValue({\n          limitCollectionCreation: this.org.limitCollectionCreation,\n          limitCollectionDeletion: this.org.limitCollectionDeletion,\n          limitItemDeletion: this.org.limitItemDeletion,\n          allowAdminAccessToAllCollectionItems: this.org.allowAdminAccessToAllCollectionItems,\n        });\n\n        this.loading = false;\n      });\n  }\n\n  ngOnDestroy(): void {\n    // You must first call .next() in order for the notifier to properly close subscriptions using takeUntil\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const request = new OrganizationUpdateRequest();\n\n    /*\n     * When you disable a FormControl, it is removed from formGroup.values, so we have to use\n     * the original value.\n     * */\n    request.name = this.formGroup.get(\"orgName\").disabled\n      ? this.org.name\n      : this.formGroup.value.orgName;\n    request.billingEmail = this.formGroup.get(\"billingEmail\").disabled\n      ? this.org.billingEmail\n      : this.formGroup.value.billingEmail;\n\n    // Backfill pub/priv key if necessary\n    if (!this.org.hasPublicAndPrivateKeys) {\n      const orgShareKey = await firstValueFrom(\n        this.accountService.activeAccount$.pipe(\n          getUserId,\n          switchMap((userId) => this.keyService.orgKeys$(userId)),\n          map((orgKeys) => orgKeys[this.organizationId as OrganizationId] ?? null),\n        ),\n      );\n      const orgKeys = await this.keyService.makeKeyPair(orgShareKey);\n      request.keys = new OrganizationKeysRequest(orgKeys[0], orgKeys[1].encryptedString);\n    }\n\n    await this.organizationApiService.save(this.organizationId, request);\n\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\"organizationUpdated\"),\n    });\n  };\n\n  submitCollectionManagement = async () => {\n    const request = new OrganizationCollectionManagementUpdateRequest();\n    request.limitCollectionCreation =\n      this.collectionManagementFormGroup.value.limitCollectionCreation;\n    request.limitCollectionDeletion =\n      this.collectionManagementFormGroup.value.limitCollectionDeletion;\n    request.allowAdminAccessToAllCollectionItems =\n      this.collectionManagementFormGroup.value.allowAdminAccessToAllCollectionItems;\n    request.limitItemDeletion = this.collectionManagementFormGroup.value.limitItemDeletion;\n\n    await this.organizationApiService.updateCollectionManagement(this.organizationId, request);\n\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\"updatedCollectionManagement\"),\n    });\n  };\n\n  async deleteOrganization() {\n    const dialog = openDeleteOrganizationDialog(this.dialogService, {\n      data: {\n        organizationId: this.organizationId,\n        requestType: \"RegularDelete\",\n      },\n    });\n\n    const result = await lastValueFrom(dialog.closed);\n\n    if (result === DeleteOrganizationDialogResult.Deleted) {\n      // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.router.navigate([\"/\"]);\n    }\n  }\n\n  purgeVault = async () => {\n    const dialogRef = PurgeVaultComponent.open(this.dialogService, {\n      data: {\n        organizationId: this.organizationId,\n      },\n    });\n    await lastValueFrom(dialogRef.closed);\n  };\n\n  async viewApiKey() {\n    await ApiKeyComponent.open(this.dialogService, {\n      data: {\n        keyType: \"organization\",\n        entityId: this.organizationId,\n        postKey: this.organizationApiService.getOrCreateApiKey.bind(this.organizationApiService),\n        scope: \"api.organization\",\n        grantType: \"client_credentials\",\n        apiKeyTitle: \"apiKey\",\n        apiKeyWarning: \"apiKeyWarning\",\n        apiKeyDescription: \"apiKeyDesc\",\n      },\n    });\n  }\n\n  async rotateApiKey() {\n    await ApiKeyComponent.open(this.dialogService, {\n      data: {\n        keyType: \"organization\",\n        isRotation: true,\n        entityId: this.organizationId,\n        postKey: this.organizationApiService.rotateApiKey.bind(this.organizationApiService),\n        scope: \"api.organization\",\n        grantType: \"client_credentials\",\n        apiKeyTitle: \"apiKey\",\n        apiKeyWarning: \"apiKeyWarning\",\n        apiKeyDescription: \"apiKeyRotateDesc\",\n      },\n    });\n  }\n}\n","<app-header></app-header>\n<bit-container>\n  <div *ngIf=\"loading\">\n    <i\n      class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n      title=\"{{ 'loading' | i18n }}\"\n      aria-hidden=\"true\"\n    ></i>\n    <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n  </div>\n  <form *ngIf=\"org && !loading\" [bitSubmit]=\"submit\" [formGroup]=\"formGroup\">\n    <div class=\"tw-grid tw-grid-cols-2 tw-gap-5\">\n      <div>\n        <bit-form-field>\n          <bit-label>{{ \"organizationName\" | i18n }}</bit-label>\n          <input bitInput id=\"orgName\" type=\"text\" formControlName=\"orgName\" />\n        </bit-form-field>\n        <bit-form-field>\n          <bit-label>{{ \"email\" | i18n }}</bit-label>\n          <input bitInput id=\"billingEmail\" formControlName=\"billingEmail\" type=\"email\" />\n        </bit-form-field>\n      </div>\n      <div>\n        <bit-avatar [text]=\"org.name\" [id]=\"org.id\" size=\"large\"></bit-avatar>\n        <app-account-fingerprint\n          [fingerprintMaterial]=\"organizationId\"\n          [publicKeyBuffer]=\"publicKeyBuffer\"\n          fingerprintLabel=\"{{ 'yourOrganizationsFingerprint' | i18n }}\"\n        >\n        </app-account-fingerprint>\n      </div>\n    </div>\n    <button type=\"submit\" bitButton bitFormButton buttonType=\"primary\">\n      {{ \"save\" | i18n }}\n    </button>\n  </form>\n  <ng-container *ngIf=\"canUseApi\">\n    <h1 bitTypography=\"h1\" class=\"tw-mt-16 tw-pb-2.5\">{{ \"apiKey\" | i18n }}</h1>\n    <p bitTypography=\"body1\">\n      {{ \"apiKeyDesc\" | i18n }}\n      <a bitLink href=\"https://docs.bitwarden.com\" target=\"_blank\" rel=\"noreferrer\">\n        {{ \"learnMoreAboutApi\" | i18n }}\n      </a>\n    </p>\n    <div class=\"tw-flex tw-gap-2\">\n      <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"viewApiKey()\">\n        {{ \"viewApiKey\" | i18n }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"rotateApiKey()\">\n        {{ \"rotateApiKey\" | i18n }}\n      </button>\n    </div>\n  </ng-container>\n  <form\n    *ngIf=\"org && !loading\"\n    [bitSubmit]=\"submitCollectionManagement\"\n    [formGroup]=\"collectionManagementFormGroup\"\n  >\n    <h1 bitTypography=\"h1\" class=\"tw-mt-16 tw-pb-2.5\">{{ \"collectionManagement\" | i18n }}</h1>\n    <p bitTypography=\"body1\">{{ \"collectionManagementDescription\" | i18n }}</p>\n    <bit-form-control>\n      <bit-label>{{ \"allowAdminAccessToAllCollectionItemsDescription\" | i18n }}</bit-label>\n      <input type=\"checkbox\" bitCheckbox formControlName=\"allowAdminAccessToAllCollectionItems\" />\n    </bit-form-control>\n    <bit-form-control>\n      <bit-label>{{ \"restrictCollectionCreationDescription\" | i18n }}</bit-label>\n      <input type=\"checkbox\" bitCheckbox formControlName=\"limitCollectionCreation\" />\n    </bit-form-control>\n    <bit-form-control>\n      <bit-label>{{ \"restrictCollectionDeletionDescription\" | i18n }}</bit-label>\n      <input type=\"checkbox\" bitCheckbox formControlName=\"limitCollectionDeletion\" />\n    </bit-form-control>\n    <bit-form-control>\n      <bit-label>\n        {{ \"restrictItemDeletionDescriptionStart\" | i18n }}\n        <span class=\"tw-italic\">{{ \"manageCollection\" | i18n }}</span>\n        {{ \"restrictItemDeletionDescriptionEnd\" | i18n }}\n      </bit-label>\n      <input type=\"checkbox\" bitCheckbox formControlName=\"limitItemDeletion\" />\n    </bit-form-control>\n    <button\n      type=\"submit\"\n      bitButton\n      bitFormButton\n      buttonType=\"primary\"\n      id=\"collectionManagementSubmitButton\"\n    >\n      {{ \"save\" | i18n }}\n    </button>\n  </form>\n\n  <app-danger-zone>\n    <button type=\"button\" bitButton buttonType=\"danger\" (click)=\"deleteOrganization()\">\n      {{ \"deleteOrganization\" | i18n }}\n    </button>\n    <button type=\"button\" bitButton buttonType=\"danger\" [bitAction]=\"purgeVault\">\n      {{ \"purgeVault\" | i18n }}\n    </button>\n  </app-danger-zone>\n</bit-container>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { canAccessSettingsTab } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\n\nimport { organizationPermissionsGuard } from \"../../organizations/guards/org-permissions.guard\";\nimport { organizationRedirectGuard } from \"../../organizations/guards/org-redirect.guard\";\nimport { PoliciesComponent } from \"../../organizations/policies\";\n\nimport { AccountComponent } from \"./account.component\";\nimport { TwoFactorSetupComponent } from \"./two-factor-setup.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    canActivate: [organizationPermissionsGuard(canAccessSettingsTab)],\n    children: [\n      {\n        path: \"\",\n        pathMatch: \"full\",\n        canActivate: [organizationRedirectGuard(getSettingsRoute)],\n        children: [], // This is required to make the auto redirect work,\n      },\n      {\n        path: \"account\",\n        component: AccountComponent,\n        canActivate: [organizationPermissionsGuard((o) => o.isOwner)],\n        data: {\n          titleId: \"organizationInfo\",\n        },\n      },\n      {\n        path: \"two-factor\",\n        component: TwoFactorSetupComponent,\n        canActivate: [organizationPermissionsGuard((o) => o.use2fa && o.isOwner)],\n        data: {\n          titleId: \"twoStepLogin\",\n        },\n      },\n      {\n        path: \"policies\",\n        component: PoliciesComponent,\n        canActivate: [organizationPermissionsGuard((org) => org.canManagePolicies)],\n        data: {\n          titleId: \"policies\",\n        },\n      },\n      {\n        path: \"tools\",\n        children: [\n          {\n            path: \"import\",\n            loadComponent: () =>\n              import(\"../../../tools/import/org-import.component\").then(\n                (mod) => mod.OrgImportComponent,\n              ),\n            canActivate: [organizationPermissionsGuard((org) => org.canAccessImport)],\n            data: {\n              titleId: \"importData\",\n            },\n          },\n          {\n            path: \"export\",\n            loadComponent: () =>\n              import(\"../../../tools/vault-export/org-vault-export.component\").then(\n                (mod) => mod.OrganizationVaultExportComponent,\n              ),\n            canActivate: [organizationPermissionsGuard((org) => org.canAccessExport)],\n            data: {\n              titleId: \"exportVault\",\n            },\n          },\n        ],\n      },\n    ],\n  },\n];\n\nfunction getSettingsRoute(organization: Organization) {\n  if (organization.isOwner) {\n    return \"account\";\n  }\n  if (organization.canManagePolicies) {\n    return \"policies\";\n  }\n  if (organization.canAccessImport) {\n    return [\"tools\", \"import\"];\n  }\n  if (organization.canManageSso) {\n    return \"sso\";\n  }\n  if (organization.canManageScim) {\n    return \"scim\";\n  }\n  if (organization.canManageDeviceApprovals) {\n    return \"device-approvals\";\n  }\n\n  return \"/\";\n}\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrganizationSettingsRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { PremiumBadgeComponent } from \"@bitwarden/angular/billing/components/premium-badge\";\nimport { ItemModule } from \"@bitwarden/components\";\n\nimport { DangerZoneComponent } from \"../../../auth/settings/account/danger-zone.component\";\nimport { HeaderModule } from \"../../../layouts/header/header.module\";\nimport { SharedModule } from \"../../../shared\";\nimport { AccountFingerprintComponent } from \"../../../shared/components/account-fingerprint/account-fingerprint.component\";\n\nimport { AccountComponent } from \"./account.component\";\nimport { OrganizationSettingsRoutingModule } from \"./organization-settings-routing.module\";\nimport { TwoFactorSetupComponent } from \"./two-factor-setup.component\";\n\n@NgModule({\n  imports: [\n    SharedModule,\n    OrganizationSettingsRoutingModule,\n    AccountFingerprintComponent,\n    DangerZoneComponent,\n    HeaderModule,\n    PremiumBadgeComponent,\n    ItemModule,\n  ],\n  declarations: [AccountComponent, TwoFactorSetupComponent],\n})\nexport class OrganizationSettingsModule {}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { concatMap, takeUntil, map, lastValueFrom, firstValueFrom } from \"rxjs\";\nimport { first, tap } from \"rxjs/operators\";\n\nimport {\n  getOrganizationById,\n  OrganizationService,\n} from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { PolicyService } from \"@bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { TwoFactorProviderType } from \"@bitwarden/common/auth/enums/two-factor-provider-type\";\nimport { TwoFactorDuoResponse } from \"@bitwarden/common/auth/models/response/two-factor-duo.response\";\nimport { getUserId } from \"@bitwarden/common/auth/services/account.service\";\nimport { TwoFactorApiService } from \"@bitwarden/common/auth/two-factor\";\nimport { AuthResponse } from \"@bitwarden/common/auth/types/auth-response\";\nimport { BillingAccountProfileStateService } from \"@bitwarden/common/billing/abstractions/account/billing-account-profile-state.service\";\nimport { ConfigService } from \"@bitwarden/common/platform/abstractions/config/config.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { MessagingService } from \"@bitwarden/common/platform/abstractions/messaging.service\";\nimport { DialogRef, DialogService } from \"@bitwarden/components\";\n\nimport { TwoFactorSetupDuoComponent } from \"../../../auth/settings/two-factor/two-factor-setup-duo.component\";\nimport { TwoFactorSetupComponent as BaseTwoFactorSetupComponent } from \"../../../auth/settings/two-factor/two-factor-setup.component\";\nimport { TwoFactorVerifyComponent } from \"../../../auth/settings/two-factor/two-factor-verify.component\";\n\n@Component({\n  selector: \"app-two-factor-setup\",\n  templateUrl: \"../../../auth/settings/two-factor/two-factor-setup.component.html\",\n  standalone: false,\n})\nexport class TwoFactorSetupComponent extends BaseTwoFactorSetupComponent implements OnInit {\n  tabbedHeader = false;\n  constructor(\n    dialogService: DialogService,\n    twoFactorApiService: TwoFactorApiService,\n    messagingService: MessagingService,\n    policyService: PolicyService,\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n    billingAccountProfileStateService: BillingAccountProfileStateService,\n    protected accountService: AccountService,\n    configService: ConfigService,\n    i18nService: I18nService,\n  ) {\n    super(\n      dialogService,\n      twoFactorApiService,\n      messagingService,\n      policyService,\n      billingAccountProfileStateService,\n      accountService,\n      configService,\n      i18nService,\n    );\n  }\n\n  async ngOnInit() {\n    const userId = await firstValueFrom(getUserId(this.accountService.activeAccount$));\n    this.route.params\n      .pipe(\n        concatMap((params) =>\n          this.organizationService\n            .organizations$(userId)\n            .pipe(getOrganizationById(params.organizationId))\n            .pipe(map((organization) => ({ params, organization }))),\n        ),\n        tap(async (mapResponse) => {\n          this.organizationId = mapResponse.params.organizationId;\n          this.organization = mapResponse.organization;\n        }),\n        concatMap(async () => await super.ngOnInit()),\n        takeUntil(this.destroy$),\n      )\n      .subscribe();\n  }\n\n  async manage(type: TwoFactorProviderType) {\n    // clear any existing subscriptions before creating a new one\n    this.twoFactorSetupSubscription?.unsubscribe();\n\n    switch (type) {\n      case TwoFactorProviderType.OrganizationDuo: {\n        const twoFactorVerifyDialogRef = TwoFactorVerifyComponent.open(this.dialogService, {\n          data: { type: type, organizationId: this.organizationId },\n        });\n        const result: AuthResponse<TwoFactorDuoResponse> = await lastValueFrom(\n          twoFactorVerifyDialogRef.closed,\n        );\n        if (!result) {\n          return;\n        }\n        const duoComp: DialogRef<boolean, any> = TwoFactorSetupDuoComponent.open(\n          this.dialogService,\n          {\n            data: {\n              authResponse: result,\n              organizationId: this.organizationId,\n            },\n          },\n        );\n        this.twoFactorSetupSubscription = duoComp.componentInstance.onChangeStatus\n          .pipe(first(), takeUntil(this.destroy$))\n          .subscribe((enabled: boolean) => {\n            duoComp.close();\n            this.updateStatus(enabled, TwoFactorProviderType.OrganizationDuo);\n          });\n\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  protected getTwoFactorProviders() {\n    return this.twoFactorApiService.getTwoFactorOrganizationProviders(this.organizationId);\n  }\n\n  protected filterProvider(type: TwoFactorProviderType): boolean {\n    return type !== TwoFactorProviderType.OrganizationDuo;\n  }\n}\n","<app-header *ngIf=\"organizationId != null\"></app-header>\n\n<bit-container>\n  <div class=\"tw-mt-6 tw-mb-2 tw-pb-2.5\" *ngIf=\"organizationId == null\">\n    <h1 *ngIf=\"!organizationId || !isEnterpriseOrg\">{{ \"twoStepLogin\" | i18n }}</h1>\n    <h1 *ngIf=\"organizationId && isEnterpriseOrg\">{{ \"twoStepLoginEnforcement\" | i18n }}</h1>\n  </div>\n\n  <p *ngIf=\"!organizationId\">{{ \"twoStepLoginDesc\" | i18n }}</p>\n  <ng-container *ngIf=\"organizationId\">\n    <p>\n      <ng-container *ngIf=\"isEnterpriseOrg; else teamsDescription\">\n        {{ \"twoStepLoginEnterpriseDescStart\" | i18n }}\n        <a bitLink routerLink=\"../policies\">{{ \"twoStepLoginPolicy\" | i18n }}.</a>\n        <br />\n        {{ \"twoStepLoginOrganizationDuoDesc\" | i18n }}\n        <br />\n        <br />\n        <p>{{ \"twoStepLoginOrganizationSsoDesc\" | i18n }}</p>\n      </ng-container>\n      <ng-template #teamsDescription>\n        {{ \"twoStepLoginTeamsDesc\" | i18n }}\n        <br />\n        {{ \"twoStepLoginOrganizationDuoDesc\" | i18n }}\n      </ng-template>\n    </p>\n  </ng-container>\n  <bit-callout type=\"warning\" *ngIf=\"!organizationId\">\n    <p>{{ recoveryCodeWarningMessage }}</p>\n    <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"recoveryCode()\">\n      {{ \"viewRecoveryCode\" | i18n }}\n    </button>\n  </bit-callout>\n  <h2 [ngClass]=\"{ 'mt-5': !organizationId }\">\n    {{ \"providers\" | i18n }}\n    <small *ngIf=\"loading\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin bwi-fw tw-text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n    </small>\n  </h2>\n  <bit-callout type=\"warning\" *ngIf=\"showPolicyWarning\">\n    {{ \"twoStepLoginPolicyUserWarning\" | i18n }}\n  </bit-callout>\n  <bit-item-group [attr.aria-label]=\"'providers' | i18n\">\n    <bit-item *ngFor=\"let p of providers\" class=\"tw-py-4 providers-2fa-{{ p.type }}\">\n      <div slot=\"start\" class=\"tw-min-w-[120px] tw-flex tw-justify-center\">\n        <auth-two-factor-icon class=\"tw-flex tw-items-center\" [provider]=\"p.type\" [name]=\"p.name\" />\n      </div>\n      <div bit-item-content class=\"tw-px-4\">\n        <h3 class=\"tw-mb-0\">\n          <div\n            class=\"tw-font-semibold tw-text-base\"\n            [style]=\"p.enabled || p.premium ? 'display:inline-block' : ''\"\n          >\n            {{ p.name }}\n          </div>\n          <ng-container *ngIf=\"p.enabled\">\n            <i\n              class=\"bwi bwi-check tw-text-success-600 bwi-fw tw-ml-2\"\n              title=\"{{ 'enabled' | i18n }}\"\n              aria-hidden=\"true\"\n            ></i>\n            <span class=\"tw-sr-only\">{{ \"enabled\" | i18n }}</span>\n          </ng-container>\n          <app-premium-badge class=\"tw-ml-2\" *ngIf=\"p.premium\"></app-premium-badge>\n        </h3>\n        <div class=\"tw-mt-2 tw-text-wrap\">{{ p.description }}</div>\n      </div>\n      <bit-item-action slot=\"end\">\n        <button\n          type=\"button\"\n          bitButton\n          buttonType=\"secondary\"\n          [disabled]=\"!(canAccessPremium$ | async) && p.premium\"\n          (click)=\"manage(p.type)\"\n        >\n          {{ \"manage\" | i18n }}\n        </button>\n      </bit-item-action>\n    </bit-item>\n  </bit-item-group>\n</bit-container>\n"],"names":[],"sourceRoot":""}