{"version":3,"file":"src_app_billing_individual_individual-billing_module_ts.f3d719da62d5197f75ce.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/../../libs/angular/src/platform/utils/feature-flagged-route.ts","webpack://@bitwarden/web-vault/../../libs/angular/src/utils/component-route-swap.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/billing-history-view.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/billing-history-view.component.html","webpack://@bitwarden/web-vault/./src/app/billing/individual/individual-billing-routing.module.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/individual-billing.module.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/payment-details/account-payment-details.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/payment-details/account-payment-details.component.html","webpack://@bitwarden/web-vault/./src/app/billing/individual/premium/premium-vnext.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/premium/premium-vnext.component.html","webpack://@bitwarden/web-vault/./src/app/billing/individual/premium/premium.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/premium/premium.component.html","webpack://@bitwarden/web-vault/./src/app/billing/individual/subscription.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/subscription.component.html","webpack://@bitwarden/web-vault/./src/app/billing/individual/user-subscription.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/individual/user-subscription.component.html","webpack://@bitwarden/web-vault/./src/app/billing/shared/self-hosting-license-uploader/individual-self-hosting-license-uploader.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/shared/self-hosting-license-uploader/self-hosting-license-uploader.component.html","webpack://@bitwarden/web-vault/./src/app/billing/shared/update-license-dialog.component.ts","webpack://@bitwarden/web-vault/./src/app/billing/shared/update-license-dialog.component.html"],"sourcesContent":["import { Type, inject } from \"@angular/core\";\nimport { Route, Routes } from \"@angular/router\";\nimport { map } from \"rxjs\";\n\nimport { FeatureFlag } from \"@bitwarden/common/enums/feature-flag.enum\";\nimport { ConfigService } from \"@bitwarden/common/platform/abstractions/config/config.service\";\n\nimport { componentRouteSwap } from \"../../utils/component-route-swap\";\n\n/**\n * @param defaultComponent The component to be used when the feature flag is off.\n * @param flaggedComponent The component to be used when the feature flag is on.\n * @param featureFlag The feature flag to evaluate\n * @param routeOptions The shared route options to apply to both components.\n */\ntype FeatureFlaggedRouteConfig = {\n  defaultComponent: Type<any>;\n  flaggedComponent: Type<any>;\n  featureFlag: FeatureFlag;\n  routeOptions: Omit<Route, \"component\">;\n};\n\n/**\n * Swap between two routes at runtime based on the value of a feature flag.\n * The routes share a common path and configuration but load different components.\n * @param config See {@link FeatureFlaggedRouteConfig}\n * @returns A tuple containing the conditional configuration for the two routes. This should be unpacked into your existing Routes array.\n * @example\n * const routes: Routes = [\n *   ...featureFlaggedRoute({\n *      defaultComponent: GroupsComponent,\n *      flaggedComponent: GroupsNewComponent,\n *      featureFlag: FeatureFlag.GroupsComponentRefactor,\n *      routeOptions: {\n *        path: \"groups\",\n *        canActivate: [OrganizationPermissionsGuard],\n *      },\n *   }),\n * ]\n */\nexport function featureFlaggedRoute(config: FeatureFlaggedRouteConfig): Routes {\n  const canMatch$ = () =>\n    inject(ConfigService)\n      .getFeatureFlag$(config.featureFlag)\n      .pipe(map((flagValue) => flagValue === true));\n\n  return componentRouteSwap(\n    config.defaultComponent,\n    config.flaggedComponent,\n    canMatch$,\n    config.routeOptions,\n  );\n}\n","import { Type } from \"@angular/core\";\nimport { CanMatchFn, Route, Routes } from \"@angular/router\";\n\n/**\n * Helper function to swap between two components based on an async condition. The async condition is evaluated\n * as an `CanMatchFn` and supports Angular dependency injection via `inject()`.\n *\n * @example\n * ```ts\n * const routes = [\n *  ...componentRouteSwap(\n *     defaultComponent,\n *     altComponent,\n *     async () => {\n *       const configService = inject(ConfigService);\n *       return configService.getFeatureFlag(FeatureFlag.SomeFlag);\n *     },\n *     {\n *      path: 'some-path'\n *     }\n *   ),\n *   // Other routes...\n *  ];\n *  ```\n *\n * @param defaultComponent - The default component to render.\n * @param altComponent - The alternate component to render when the condition is met.\n * @param shouldSwapFn - The async function to determine if the alternate component should be rendered.\n * @param options - The shared route options to apply to the default component, and to the alt component if altOptions is not provided.\n * @param altOptions - The alt route options to apply to the alt component.\n */\nexport function componentRouteSwap(\n  defaultComponent: Type<any>,\n  altComponent: Type<any>,\n  shouldSwapFn: CanMatchFn,\n  options: Route,\n  altOptions?: Route,\n): Routes {\n  const defaultRoute = {\n    ...options,\n    component: defaultComponent,\n  };\n\n  const selectedAltOptions = altOptions ?? options;\n\n  const altRoute: Route = {\n    ...selectedAltOptions,\n    component: altComponent,\n    canMatch: [shouldSwapFn, ...(selectedAltOptions.canMatch ?? [])],\n  };\n\n  // Return the alternate route first, so it is evaluated first.\n  return [altRoute, defaultRoute];\n}\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\n\nimport { AccountBillingApiServiceAbstraction } from \"@bitwarden/common/billing/abstractions/account/account-billing-api.service.abstraction\";\nimport {\n  BillingInvoiceResponse,\n  BillingTransactionResponse,\n} from \"@bitwarden/common/billing/models/response/billing.response\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\n@Component({\n  templateUrl: \"billing-history-view.component.html\",\n  standalone: false,\n})\nexport class BillingHistoryViewComponent implements OnInit {\n  loading = false;\n  firstLoaded = false;\n  openInvoices: BillingInvoiceResponse[] = [];\n  paidInvoices: BillingInvoiceResponse[] = [];\n  transactions: BillingTransactionResponse[] = [];\n  hasAdditionalHistory: boolean = false;\n\n  constructor(\n    private platformUtilsService: PlatformUtilsService,\n    private router: Router,\n    private accountBillingApiService: AccountBillingApiServiceAbstraction,\n  ) {}\n\n  async ngOnInit() {\n    if (this.platformUtilsService.isSelfHost()) {\n      // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.router.navigate([\"/settings/subscription\"]);\n      return;\n    }\n    await this.load();\n    this.firstLoaded = true;\n  }\n\n  async load() {\n    if (this.loading) {\n      return;\n    }\n    this.loading = true;\n\n    const openInvoicesPromise = this.accountBillingApiService.getBillingInvoices(\n      \"open\",\n      this.openInvoices.length > 0 ? this.openInvoices[this.openInvoices.length - 1].id : null,\n    );\n\n    const paidInvoicesPromise = this.accountBillingApiService.getBillingInvoices(\n      \"paid\",\n      this.paidInvoices.length > 0 ? this.paidInvoices[this.paidInvoices.length - 1].id : null,\n    );\n\n    const transactionsPromise = this.accountBillingApiService.getBillingTransactions(\n      this.transactions.length > 0\n        ? this.transactions[this.transactions.length - 1].createdDate\n        : null,\n    );\n\n    const openInvoices = await openInvoicesPromise;\n    const paidInvoices = await paidInvoicesPromise;\n    const transactions = await transactionsPromise;\n\n    const pageSize = 5;\n\n    this.openInvoices = [...this.openInvoices, ...openInvoices];\n    this.paidInvoices = [...this.paidInvoices, ...paidInvoices];\n    this.transactions = [...this.transactions, ...transactions];\n\n    this.hasAdditionalHistory =\n      openInvoices.length >= pageSize ||\n      paidInvoices.length >= pageSize ||\n      transactions.length >= pageSize;\n\n    this.loading = false;\n  }\n}\n","<div class=\"tw-flex tw-justify-between tw-mb-2 tw-pb-2 tw-mt-6\">\n  <h2 bitTypography=\"h2\">\n    {{ \"billingHistory\" | i18n }}\n  </h2>\n</div>\n<ng-container *ngIf=\"!firstLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n</ng-container>\n<ng-container *ngIf=\"openInvoices || paidInvoices || transactions\">\n  <app-billing-history\n    [openInvoices]=\"openInvoices\"\n    [paidInvoices]=\"paidInvoices\"\n    [transactions]=\"transactions\"\n  ></app-billing-history>\n  <button\n    type=\"button\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"load()\"\n    *ngIf=\"hasAdditionalHistory\"\n  >\n    {{ \"loadMore\" | i18n }}\n  </button>\n</ng-container>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { featureFlaggedRoute } from \"@bitwarden/angular/platform/utils/feature-flagged-route\";\nimport { FeatureFlag } from \"@bitwarden/common/enums/feature-flag.enum\";\nimport { AccountPaymentDetailsComponent } from \"@bitwarden/web-vault/app/billing/individual/payment-details/account-payment-details.component\";\n\nimport { BillingHistoryViewComponent } from \"./billing-history-view.component\";\nimport { PremiumVNextComponent } from \"./premium/premium-vnext.component\";\nimport { PremiumComponent } from \"./premium/premium.component\";\nimport { SubscriptionComponent } from \"./subscription.component\";\nimport { UserSubscriptionComponent } from \"./user-subscription.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: SubscriptionComponent,\n    data: { titleId: \"subscription\" },\n    children: [\n      { path: \"\", pathMatch: \"full\", redirectTo: \"premium\" },\n      {\n        path: \"user-subscription\",\n        component: UserSubscriptionComponent,\n        data: { titleId: \"premiumMembership\" },\n      },\n      ...featureFlaggedRoute({\n        defaultComponent: PremiumComponent,\n        flaggedComponent: PremiumVNextComponent,\n        featureFlag: FeatureFlag.PM24033PremiumUpgradeNewDesign,\n        routeOptions: {\n          data: { titleId: \"goPremium\" },\n          path: \"premium\",\n        },\n      }),\n      {\n        path: \"payment-details\",\n        component: AccountPaymentDetailsComponent,\n        data: { titleId: \"paymentDetails\" },\n      },\n      {\n        path: \"billing-history\",\n        component: BillingHistoryViewComponent,\n        data: { titleId: \"billingHistory\" },\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IndividualBillingRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { PricingCardComponent } from \"@bitwarden/pricing\";\nimport {\n  EnterBillingAddressComponent,\n  EnterPaymentMethodComponent,\n} from \"@bitwarden/web-vault/app/billing/payment/components\";\n\nimport { HeaderModule } from \"../../layouts/header/header.module\";\nimport { BillingSharedModule } from \"../shared\";\n\nimport { BillingHistoryViewComponent } from \"./billing-history-view.component\";\nimport { IndividualBillingRoutingModule } from \"./individual-billing-routing.module\";\nimport { PremiumComponent } from \"./premium/premium.component\";\nimport { SubscriptionComponent } from \"./subscription.component\";\nimport { UserSubscriptionComponent } from \"./user-subscription.component\";\n\n@NgModule({\n  imports: [\n    IndividualBillingRoutingModule,\n    BillingSharedModule,\n    HeaderModule,\n    EnterPaymentMethodComponent,\n    EnterBillingAddressComponent,\n    PricingCardComponent,\n  ],\n  declarations: [\n    SubscriptionComponent,\n    BillingHistoryViewComponent,\n    UserSubscriptionComponent,\n    PremiumComponent,\n  ],\n})\nexport class IndividualBillingModule {}\n","import { Component } from \"@angular/core\";\nimport { BehaviorSubject, filter, merge, Observable, shareReplay, switchMap, tap } from \"rxjs\";\n\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\n\nimport { HeaderModule } from \"../../../layouts/header/header.module\";\nimport { SharedModule } from \"../../../shared\";\nimport { SubscriberBillingClient } from \"../../clients\";\nimport {\n  DisplayAccountCreditComponent,\n  DisplayPaymentMethodComponent,\n} from \"../../payment/components\";\nimport { MaskedPaymentMethod } from \"../../payment/types\";\nimport { mapAccountToSubscriber, BitwardenSubscriber } from \"../../types\";\n\ntype View = {\n  account: BitwardenSubscriber;\n  paymentMethod: MaskedPaymentMethod | null;\n  credit: number | null;\n};\n\n@Component({\n  templateUrl: \"./account-payment-details.component.html\",\n  standalone: true,\n  imports: [\n    DisplayAccountCreditComponent,\n    DisplayPaymentMethodComponent,\n    HeaderModule,\n    SharedModule,\n  ],\n  providers: [SubscriberBillingClient],\n})\nexport class AccountPaymentDetailsComponent {\n  private viewState$ = new BehaviorSubject<View | null>(null);\n\n  private load$: Observable<View> = this.accountService.activeAccount$.pipe(\n    mapAccountToSubscriber,\n    switchMap(async (account) => {\n      const [paymentMethod, credit] = await Promise.all([\n        this.subscriberBillingClient.getPaymentMethod(account),\n        this.subscriberBillingClient.getCredit(account),\n      ]);\n\n      return {\n        account,\n        paymentMethod,\n        credit,\n      };\n    }),\n    shareReplay({ bufferSize: 1, refCount: false }),\n  );\n\n  view$: Observable<View> = merge(\n    this.load$.pipe(tap((view) => this.viewState$.next(view))),\n    this.viewState$.pipe(filter((view): view is View => view !== null)),\n  ).pipe(shareReplay({ bufferSize: 1, refCount: true }));\n\n  constructor(\n    private accountService: AccountService,\n    private subscriberBillingClient: SubscriberBillingClient,\n  ) {}\n\n  setPaymentMethod = (paymentMethod: MaskedPaymentMethod) => {\n    if (this.viewState$.value) {\n      this.viewState$.next({\n        ...this.viewState$.value,\n        paymentMethod,\n      });\n    }\n  };\n}\n","<bit-container>\n  @let view = view$ | async;\n  @if (!view) {\n    <ng-container>\n      <i\n        class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n    </ng-container>\n  } @else {\n    <ng-container>\n      <app-display-payment-method\n        [subscriber]=\"view.account\"\n        [paymentMethod]=\"view.paymentMethod\"\n        (updated)=\"setPaymentMethod($event)\"\n      ></app-display-payment-method>\n\n      <app-display-account-credit\n        [subscriber]=\"view.account\"\n        [credit]=\"view.credit\"\n      ></app-display-account-credit>\n    </ng-container>\n  }\n</bit-container>\n","import { CommonModule } from \"@angular/common\";\nimport { Component, DestroyRef, inject } from \"@angular/core\";\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { combineLatest, firstValueFrom, map, Observable, of, shareReplay, switchMap } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingAccountProfileStateService } from \"@bitwarden/common/billing/abstractions\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { SyncService } from \"@bitwarden/common/platform/sync\";\nimport {\n  DialogService,\n  ToastService,\n  SectionComponent,\n  BadgeModule,\n  TypographyModule,\n  LinkModule,\n} from \"@bitwarden/components\";\nimport { PricingCardComponent } from \"@bitwarden/pricing\";\nimport { I18nPipe } from \"@bitwarden/ui-common\";\n\nimport { SubscriptionPricingService } from \"../../services/subscription-pricing.service\";\nimport { BitwardenSubscriber, mapAccountToSubscriber } from \"../../types\";\nimport {\n  PersonalSubscriptionPricingTier,\n  PersonalSubscriptionPricingTierIds,\n} from \"../../types/subscription-pricing-tier\";\nimport {\n  UnifiedUpgradeDialogComponent,\n  UnifiedUpgradeDialogParams,\n  UnifiedUpgradeDialogResult,\n  UnifiedUpgradeDialogStatus,\n  UnifiedUpgradeDialogStep,\n} from \"../upgrade/unified-upgrade-dialog/unified-upgrade-dialog.component\";\n\n@Component({\n  templateUrl: \"./premium-vnext.component.html\",\n  standalone: true,\n  imports: [\n    CommonModule,\n    SectionComponent,\n    BadgeModule,\n    TypographyModule,\n    LinkModule,\n    I18nPipe,\n    PricingCardComponent,\n  ],\n})\nexport class PremiumVNextComponent {\n  protected hasPremiumFromAnyOrganization$: Observable<boolean>;\n  protected hasPremiumPersonally$: Observable<boolean>;\n  protected shouldShowNewDesign$: Observable<boolean>;\n  protected personalPricingTiers$: Observable<PersonalSubscriptionPricingTier[]>;\n  protected premiumCardData$: Observable<{\n    tier: PersonalSubscriptionPricingTier | undefined;\n    price: number;\n    features: string[];\n  }>;\n  protected familiesCardData$: Observable<{\n    tier: PersonalSubscriptionPricingTier | undefined;\n    price: number;\n    features: string[];\n  }>;\n\n  protected subscriber!: BitwardenSubscriber;\n  protected isSelfHost = false;\n  private destroyRef = inject(DestroyRef);\n\n  constructor(\n    private accountService: AccountService,\n    private i18nService: I18nService,\n    private apiService: ApiService,\n    private dialogService: DialogService,\n    private platformUtilsService: PlatformUtilsService,\n    private syncService: SyncService,\n    private toastService: ToastService,\n    private billingAccountProfileStateService: BillingAccountProfileStateService,\n    private subscriptionPricingService: SubscriptionPricingService,\n  ) {\n    this.isSelfHost = this.platformUtilsService.isSelfHost();\n\n    this.hasPremiumFromAnyOrganization$ = this.accountService.activeAccount$.pipe(\n      switchMap((account) =>\n        account\n          ? this.billingAccountProfileStateService.hasPremiumFromAnyOrganization$(account.id)\n          : of(false),\n      ),\n    );\n\n    this.hasPremiumPersonally$ = this.accountService.activeAccount$.pipe(\n      switchMap((account) =>\n        account\n          ? this.billingAccountProfileStateService.hasPremiumPersonally$(account.id)\n          : of(false),\n      ),\n    );\n\n    this.accountService.activeAccount$\n      .pipe(mapAccountToSubscriber, takeUntilDestroyed(this.destroyRef))\n      .subscribe((subscriber) => {\n        this.subscriber = subscriber;\n      });\n\n    this.shouldShowNewDesign$ = combineLatest([\n      this.hasPremiumFromAnyOrganization$,\n      this.hasPremiumPersonally$,\n    ]).pipe(map(([hasOrgPremium, hasPersonalPremium]) => !hasOrgPremium && !hasPersonalPremium));\n\n    this.personalPricingTiers$ =\n      this.subscriptionPricingService.getPersonalSubscriptionPricingTiers$();\n\n    this.premiumCardData$ = this.personalPricingTiers$.pipe(\n      map((tiers) => {\n        const tier = tiers.find((t) => t.id === PersonalSubscriptionPricingTierIds.Premium);\n        return {\n          tier,\n          price:\n            tier?.passwordManager.type === \"standalone\"\n              ? Number((tier.passwordManager.annualPrice / 12).toFixed(2))\n              : 0,\n          features: tier?.passwordManager.features.map((f) => f.value) || [],\n        };\n      }),\n      shareReplay({ bufferSize: 1, refCount: true }),\n    );\n\n    this.familiesCardData$ = this.personalPricingTiers$.pipe(\n      map((tiers) => {\n        const tier = tiers.find((t) => t.id === PersonalSubscriptionPricingTierIds.Families);\n        return {\n          tier,\n          price:\n            tier?.passwordManager.type === \"packaged\"\n              ? Number((tier.passwordManager.annualPrice / 12).toFixed(2))\n              : 0,\n          features: tier?.passwordManager.features.map((f) => f.value) || [],\n        };\n      }),\n      shareReplay({ bufferSize: 1, refCount: true }),\n    );\n  }\n\n  finalizeUpgrade = async () => {\n    await this.apiService.refreshIdentityToken();\n    await this.syncService.fullSync(true);\n  };\n\n  protected async openUpgradeDialog(planType: \"Premium\" | \"Families\"): Promise<void> {\n    const account = await firstValueFrom(this.accountService.activeAccount$);\n    if (!account) {\n      return;\n    }\n\n    const selectedPlan =\n      planType === \"Premium\"\n        ? PersonalSubscriptionPricingTierIds.Premium\n        : PersonalSubscriptionPricingTierIds.Families;\n\n    const dialogParams: UnifiedUpgradeDialogParams = {\n      account,\n      initialStep: UnifiedUpgradeDialogStep.Payment,\n      selectedPlan: selectedPlan,\n      redirectOnCompletion: true,\n    };\n\n    const dialogRef = UnifiedUpgradeDialogComponent.open(this.dialogService, {\n      data: dialogParams,\n    });\n\n    dialogRef.closed\n      .pipe(takeUntilDestroyed(this.destroyRef))\n      .subscribe((result: UnifiedUpgradeDialogResult | undefined) => {\n        if (\n          result?.status === UnifiedUpgradeDialogStatus.UpgradedToPremium ||\n          result?.status === UnifiedUpgradeDialogStatus.UpgradedToFamilies\n        ) {\n          void this.finalizeUpgrade();\n        }\n      });\n  }\n}\n","<div class=\"tw-max-w-3xl tw-mx-auto\">\n  <bit-section *ngIf=\"shouldShowNewDesign$ | async\">\n    <div class=\"tw-text-center\">\n      <div class=\"tw-mt-8 tw-mb-6\">\n        <span bitBadge variant=\"secondary\" [truncate]=\"false\">\n          {{ \"bitwardenFreeplanMessage\" | i18n }}\n        </span>\n      </div>\n\n      <h2 *ngIf=\"!isSelfHost\" class=\"tw-mt-2 tw-text-4xl\">\n        {{ \"upgradeCompleteSecurity\" | i18n }}\n      </h2>\n      <p class=\"tw-text-muted tw-mb-6 tw-mt-4\">\n        {{ \"individualUpgradeDescriptionMessage\" | i18n }}\n      </p>\n    </div>\n\n    <!-- Two-Card Layout -->\n    <div class=\"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-6 tw-mt-6 tw-justify-center\">\n      <!-- Premium Card -->\n      <div>\n        @if (premiumCardData$ | async; as premiumData) {\n          <billing-pricing-card\n            [tagline]=\"'planDescPremium' | i18n\"\n            [price]=\"{ amount: premiumData.price, cadence: 'monthly' }\"\n            [button]=\"{ type: 'primary', text: ('upgradeToPremium' | i18n) }\"\n            [features]=\"premiumData.features\"\n            (buttonClick)=\"openUpgradeDialog('Premium')\"\n          >\n            <h3 slot=\"title\" bitTypography=\"h3\" class=\"tw-m-0\">{{ \"premium\" | i18n }}</h3>\n          </billing-pricing-card>\n        }\n      </div>\n\n      <!-- Families Card -->\n      <div>\n        @if (familiesCardData$ | async; as familiesData) {\n          <billing-pricing-card\n            [tagline]=\"'planDescFamiliesV2' | i18n\"\n            [price]=\"{ amount: familiesData.price, cadence: 'monthly' }\"\n            [button]=\"{ type: 'secondary', text: ('upgradeToFamilies' | i18n) }\"\n            [features]=\"familiesData.features\"\n            (buttonClick)=\"openUpgradeDialog('Families')\"\n          >\n            <h3 slot=\"title\" bitTypography=\"h3\" class=\"tw-m-0\">{{ \"families\" | i18n }}</h3>\n          </billing-pricing-card>\n        }\n      </div>\n    </div>\n\n    <!-- Business Plans Link -->\n    <div class=\"tw-text-center tw-mt-6\">\n      <p class=\"tw-text-muted tw-mb-2 tw-italic\">\n        {{ \"individualUpgradeTaxInformationMessage\" | i18n }}\n      </p>\n      <a\n        bitLink\n        linkType=\"primary\"\n        href=\"https://bitwarden.com/pricing/business/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {{ \"viewbusinessplans\" | i18n }}\n        <i class=\"bwi bwi-external-link tw-ml-1\" aria-hidden=\"true\"></i>\n      </a>\n    </div>\n  </bit-section>\n</div>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, ViewChild } from \"@angular/core\";\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { combineLatest, concatMap, from, map, Observable, of, startWith, switchMap } from \"rxjs\";\nimport { debounceTime } from \"rxjs/operators\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingAccountProfileStateService } from \"@bitwarden/common/billing/abstractions\";\nimport { PaymentMethodType } from \"@bitwarden/common/billing/enums\";\nimport { EnvironmentService } from \"@bitwarden/common/platform/abstractions/environment.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { SyncService } from \"@bitwarden/common/platform/sync\";\nimport { ToastService } from \"@bitwarden/components\";\nimport { SubscriberBillingClient, TaxClient } from \"@bitwarden/web-vault/app/billing/clients\";\nimport {\n  EnterBillingAddressComponent,\n  EnterPaymentMethodComponent,\n  getBillingAddressFromForm,\n} from \"@bitwarden/web-vault/app/billing/payment/components\";\nimport {\n  tokenizablePaymentMethodToLegacyEnum,\n  NonTokenizablePaymentMethods,\n} from \"@bitwarden/web-vault/app/billing/payment/types\";\nimport { mapAccountToSubscriber } from \"@bitwarden/web-vault/app/billing/types\";\n\n@Component({\n  templateUrl: \"./premium.component.html\",\n  standalone: false,\n  providers: [SubscriberBillingClient, TaxClient],\n})\nexport class PremiumComponent {\n  @ViewChild(EnterPaymentMethodComponent) enterPaymentMethodComponent!: EnterPaymentMethodComponent;\n\n  protected hasPremiumFromAnyOrganization$: Observable<boolean>;\n  protected accountCredit$: Observable<number>;\n  protected hasEnoughAccountCredit$: Observable<boolean>;\n\n  protected formGroup = new FormGroup({\n    additionalStorage: new FormControl<number>(0, [Validators.min(0), Validators.max(99)]),\n    paymentMethod: EnterPaymentMethodComponent.getFormGroup(),\n    billingAddress: EnterBillingAddressComponent.getFormGroup(),\n  });\n\n  protected cloudWebVaultURL: string;\n  protected isSelfHost = false;\n\n  protected estimatedTax: number = 0;\n  protected readonly familyPlanMaxUserCount = 6;\n  protected readonly premiumPrice = 10;\n  protected readonly storageGBPrice = 4;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private apiService: ApiService,\n    private billingAccountProfileStateService: BillingAccountProfileStateService,\n    private environmentService: EnvironmentService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private router: Router,\n    private syncService: SyncService,\n    private toastService: ToastService,\n    private accountService: AccountService,\n    private subscriberBillingClient: SubscriberBillingClient,\n    private taxClient: TaxClient,\n  ) {\n    this.isSelfHost = this.platformUtilsService.isSelfHost();\n\n    this.hasPremiumFromAnyOrganization$ = this.accountService.activeAccount$.pipe(\n      switchMap((account) =>\n        this.billingAccountProfileStateService.hasPremiumFromAnyOrganization$(account.id),\n      ),\n    );\n\n    // Fetch account credit\n    this.accountCredit$ = this.accountService.activeAccount$.pipe(\n      mapAccountToSubscriber,\n      switchMap((account) => this.subscriberBillingClient.getCredit(account)),\n    );\n\n    // Check if user has enough account credit for the purchase\n    this.hasEnoughAccountCredit$ = combineLatest([\n      this.accountCredit$,\n      this.formGroup.valueChanges.pipe(startWith(this.formGroup.value)),\n    ]).pipe(\n      map(([credit, formValue]) => {\n        const selectedPaymentType = formValue.paymentMethod?.type;\n        if (selectedPaymentType !== NonTokenizablePaymentMethods.accountCredit) {\n          return true; // Not using account credit, so this check doesn't apply\n        }\n        return credit >= this.total;\n      }),\n    );\n\n    combineLatest([\n      this.accountService.activeAccount$.pipe(\n        switchMap((account) =>\n          this.billingAccountProfileStateService.hasPremiumPersonally$(account.id),\n        ),\n      ),\n      this.environmentService.cloudWebVaultUrl$,\n    ])\n      .pipe(\n        takeUntilDestroyed(),\n        concatMap(([hasPremiumPersonally, cloudWebVaultURL]) => {\n          if (hasPremiumPersonally) {\n            return from(this.navigateToSubscriptionPage());\n          }\n\n          this.cloudWebVaultURL = cloudWebVaultURL;\n          return of(true);\n        }),\n      )\n      .subscribe();\n\n    this.formGroup.valueChanges\n      .pipe(\n        debounceTime(1000),\n        switchMap(async () => await this.refreshSalesTax()),\n        takeUntilDestroyed(),\n      )\n      .subscribe();\n  }\n\n  finalizeUpgrade = async () => {\n    await this.apiService.refreshIdentityToken();\n    await this.syncService.fullSync(true);\n  };\n\n  postFinalizeUpgrade = async () => {\n    this.toastService.showToast({\n      variant: \"success\",\n      title: null,\n      message: this.i18nService.t(\"premiumUpdated\"),\n    });\n    await this.navigateToSubscriptionPage();\n  };\n\n  navigateToSubscriptionPage = (): Promise<boolean> =>\n    this.router.navigate([\"../user-subscription\"], { relativeTo: this.activatedRoute });\n\n  submitPayment = async (): Promise<void> => {\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    // Check if account credit is selected\n    const selectedPaymentType = this.formGroup.value.paymentMethod.type;\n\n    let paymentMethodType: number;\n    let paymentToken: string;\n\n    if (selectedPaymentType === NonTokenizablePaymentMethods.accountCredit) {\n      // Account credit doesn't need tokenization\n      paymentMethodType = PaymentMethodType.Credit;\n      paymentToken = \"\";\n    } else {\n      // Tokenize for card, bank account, or PayPal\n      const paymentMethod = await this.enterPaymentMethodComponent.tokenize();\n      paymentMethodType = tokenizablePaymentMethodToLegacyEnum(paymentMethod.type);\n      paymentToken = paymentMethod.token;\n    }\n\n    const formData = new FormData();\n    formData.append(\"paymentMethodType\", paymentMethodType.toString());\n    formData.append(\"paymentToken\", paymentToken);\n    formData.append(\"additionalStorageGb\", this.formGroup.value.additionalStorage.toString());\n    formData.append(\"country\", this.formGroup.value.billingAddress.country);\n    formData.append(\"postalCode\", this.formGroup.value.billingAddress.postalCode);\n\n    await this.apiService.postPremium(formData);\n    await this.finalizeUpgrade();\n    await this.postFinalizeUpgrade();\n  };\n\n  protected get additionalStorageCost(): number {\n    return this.storageGBPrice * this.formGroup.value.additionalStorage;\n  }\n\n  protected get premiumURL(): string {\n    return `${this.cloudWebVaultURL}/#/settings/subscription/premium`;\n  }\n\n  protected get subtotal(): number {\n    return this.premiumPrice + this.additionalStorageCost;\n  }\n\n  protected get total(): number {\n    return this.subtotal + this.estimatedTax;\n  }\n\n  protected async onLicenseFileSelectedChanged(): Promise<void> {\n    await this.postFinalizeUpgrade();\n  }\n\n  private async refreshSalesTax(): Promise<void> {\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const billingAddress = getBillingAddressFromForm(this.formGroup.controls.billingAddress);\n\n    const taxAmounts = await this.taxClient.previewTaxForPremiumSubscriptionPurchase(\n      this.formGroup.value.additionalStorage,\n      billingAddress,\n    );\n\n    this.estimatedTax = taxAmounts.tax;\n  }\n}\n","<bit-container>\n  <bit-section>\n    <h2 *ngIf=\"!isSelfHost\" bitTypography=\"h2\">{{ \"goPremium\" | i18n }}</h2>\n    <bit-callout\n      type=\"info\"\n      *ngIf=\"hasPremiumFromAnyOrganization$ | async\"\n      title=\"{{ 'youHavePremiumAccess' | i18n }}\"\n      icon=\"bwi bwi-star-f\"\n    >\n      {{ \"alreadyPremiumFromOrg\" | i18n }}\n    </bit-callout>\n    <bit-callout type=\"success\">\n      <p>{{ \"premiumUpgradeUnlockFeatures\" | i18n }}</p>\n      <ul class=\"bwi-ul\">\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpStorage\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpTwoStepOptions\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpEmergency\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpReports\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpTotp\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpSupport\" | i18n }}\n        </li>\n        <li>\n          <i class=\"bwi bwi-check tw-text-success bwi-li\" aria-hidden=\"true\"></i>\n          {{ \"premiumSignUpFuture\" | i18n }}\n        </li>\n      </ul>\n      <p bitTypography=\"body1\" [ngClass]=\"{ 'tw-mb-0': !isSelfHost }\">\n        {{\n          \"premiumPriceWithFamilyPlan\"\n            | i18n: (premiumPrice | currency: \"$\") : familyPlanMaxUserCount\n        }}\n        <a\n          bitLink\n          linkType=\"primary\"\n          routerLink=\"/create-organization\"\n          [queryParams]=\"{ plan: 'families' }\"\n        >\n          {{ \"bitwardenFamiliesPlan\" | i18n }}\n        </a>\n      </p>\n      <a\n        bitButton\n        href=\"{{ premiumURL }}\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        buttonType=\"secondary\"\n        *ngIf=\"isSelfHost\"\n      >\n        {{ \"purchasePremium\" | i18n }}\n      </a>\n    </bit-callout>\n  </bit-section>\n  <bit-section *ngIf=\"isSelfHost\">\n    <individual-self-hosting-license-uploader\n      (onLicenseFileUploaded)=\"onLicenseFileSelectedChanged()\"\n    />\n  </bit-section>\n  <form *ngIf=\"!isSelfHost\" [formGroup]=\"formGroup\" [bitSubmit]=\"submitPayment\">\n    <bit-section>\n      <h2 bitTypography=\"h2\">{{ \"addons\" | i18n }}</h2>\n      <div class=\"tw-grid tw-grid-cols-12 tw-gap-4\">\n        <bit-form-field class=\"tw-col-span-6\">\n          <bit-label>{{ \"additionalStorageGb\" | i18n }}</bit-label>\n          <input\n            bitInput\n            formControlName=\"additionalStorage\"\n            type=\"number\"\n            step=\"1\"\n            placeholder=\"{{ 'additionalStorageGbDesc' | i18n }}\"\n          />\n          <bit-hint>{{\n            \"additionalStorageIntervalDesc\"\n              | i18n: \"1 GB\" : (storageGBPrice | currency: \"$\") : (\"year\" | i18n)\n          }}</bit-hint>\n        </bit-form-field>\n      </div>\n    </bit-section>\n    <bit-section>\n      <h2 bitTypography=\"h2\">{{ \"summary\" | i18n }}</h2>\n      {{ \"premiumMembership\" | i18n }}: {{ premiumPrice | currency: \"$\" }} <br />\n      {{ \"additionalStorageGb\" | i18n }}: {{ formGroup.value.additionalStorage || 0 }} GB &times;\n      {{ storageGBPrice | currency: \"$\" }} =\n      {{ additionalStorageCost | currency: \"$\" }}\n      <hr class=\"tw-my-3\" />\n    </bit-section>\n    <bit-section>\n      <h3 bitTypography=\"h2\">{{ \"paymentInformation\" | i18n }}</h3>\n      <div class=\"tw-mb-4\">\n        <app-enter-payment-method\n          [group]=\"formGroup.controls.paymentMethod\"\n          [showBankAccount]=\"false\"\n        >\n        </app-enter-payment-method>\n        <app-enter-billing-address\n          [group]=\"formGroup.controls.billingAddress\"\n          [scenario]=\"{ type: 'checkout', supportsTaxId: false }\"\n        >\n        </app-enter-billing-address>\n      </div>\n      <div class=\"tw-mb-4\">\n        <div class=\"tw-text-muted tw-text-sm tw-flex tw-flex-col\">\n          <span>{{ \"planPrice\" | i18n }}: {{ subtotal | currency: \"USD $\" }}</span>\n          <span>{{ \"estimatedTax\" | i18n }}: {{ estimatedTax | currency: \"USD $\" }}</span>\n        </div>\n      </div>\n      <hr class=\"tw-my-1 tw-w-1/4 tw-ml-0\" />\n      <p bitTypography=\"body1\">\n        <strong>{{ \"total\" | i18n }}:</strong> {{ total | currency: \"USD $\" }}/{{ \"year\" | i18n }}\n      </p>\n      <button type=\"submit\" buttonType=\"primary\" bitButton bitFormButton>\n        {{ \"submit\" | i18n }}\n      </button>\n    </bit-section>\n  </form>\n</bit-container>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, OnInit } from \"@angular/core\";\nimport { Observable, switchMap } from \"rxjs\";\n\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingAccountProfileStateService } from \"@bitwarden/common/billing/abstractions/account/billing-account-profile-state.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\n@Component({\n  templateUrl: \"subscription.component.html\",\n  standalone: false,\n})\nexport class SubscriptionComponent implements OnInit {\n  hasPremium$: Observable<boolean>;\n  selfHosted: boolean;\n\n  constructor(\n    private platformUtilsService: PlatformUtilsService,\n    billingAccountProfileStateService: BillingAccountProfileStateService,\n    accountService: AccountService,\n  ) {\n    this.hasPremium$ = accountService.activeAccount$.pipe(\n      switchMap((account) => billingAccountProfileStateService.hasPremiumPersonally$(account.id)),\n    );\n  }\n\n  ngOnInit() {\n    this.selfHosted = this.platformUtilsService.isSelfHost();\n  }\n}\n","<app-header>\n  <bit-tab-nav-bar slot=\"tabs\" *ngIf=\"!selfHosted\">\n    <bit-tab-link [route]=\"(hasPremium$ | async) ? 'user-subscription' : 'premium'\">{{\n      \"subscription\" | i18n\n    }}</bit-tab-link>\n    <bit-tab-link route=\"payment-details\">{{ \"paymentDetails\" | i18n }}</bit-tab-link>\n    <bit-tab-link route=\"billing-history\">{{ \"billingHistory\" | i18n }}</bit-tab-link>\n  </bit-tab-nav-bar>\n</app-header>\n\n<router-outlet></router-outlet>\n","// FIXME: Update this file to be type safe and remove this and next line\n// @ts-strict-ignore\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { firstValueFrom, lastValueFrom } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { AccountService } from \"@bitwarden/common/auth/abstractions/account.service\";\nimport { BillingAccountProfileStateService } from \"@bitwarden/common/billing/abstractions/account/billing-account-profile-state.service\";\nimport { SubscriptionResponse } from \"@bitwarden/common/billing/models/response/subscription.response\";\nimport { EnvironmentService } from \"@bitwarden/common/platform/abstractions/environment.service\";\nimport { FileDownloadService } from \"@bitwarden/common/platform/abstractions/file-download/file-download.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService, ToastService } from \"@bitwarden/components\";\n\nimport {\n  AdjustStorageDialogComponent,\n  AdjustStorageDialogResultType,\n} from \"../shared/adjust-storage-dialog/adjust-storage-dialog.component\";\nimport {\n  OffboardingSurveyDialogResultType,\n  openOffboardingSurvey,\n} from \"../shared/offboarding-survey.component\";\nimport { UpdateLicenseDialogComponent } from \"../shared/update-license-dialog.component\";\nimport { UpdateLicenseDialogResult } from \"../shared/update-license-types\";\n\n@Component({\n  templateUrl: \"user-subscription.component.html\",\n  standalone: false,\n})\nexport class UserSubscriptionComponent implements OnInit {\n  loading = false;\n  firstLoaded = false;\n  sub: SubscriptionResponse;\n  selfHosted = false;\n  cloudWebVaultUrl: string;\n\n  cancelPromise: Promise<any>;\n  reinstatePromise: Promise<any>;\n\n  constructor(\n    private apiService: ApiService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private router: Router,\n    private logService: LogService,\n    private fileDownloadService: FileDownloadService,\n    private dialogService: DialogService,\n    private environmentService: EnvironmentService,\n    private billingAccountProfileStateService: BillingAccountProfileStateService,\n    private toastService: ToastService,\n    private accountService: AccountService,\n  ) {\n    this.selfHosted = this.platformUtilsService.isSelfHost();\n  }\n\n  async ngOnInit() {\n    this.cloudWebVaultUrl = await firstValueFrom(this.environmentService.cloudWebVaultUrl$);\n    await this.load();\n    this.firstLoaded = true;\n  }\n\n  async load() {\n    if (this.loading) {\n      return;\n    }\n\n    const userId = await firstValueFrom(this.accountService.activeAccount$);\n    if (\n      await firstValueFrom(this.billingAccountProfileStateService.hasPremiumPersonally$(userId.id))\n    ) {\n      this.loading = true;\n      this.sub = await this.apiService.getUserSubscription();\n    } else {\n      // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.router.navigate([\"/settings/subscription/premium\"]);\n      return;\n    }\n\n    this.loading = false;\n  }\n\n  async reinstate() {\n    if (this.loading) {\n      return;\n    }\n\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: { key: \"reinstateSubscription\" },\n      content: { key: \"reinstateConfirmation\" },\n      type: \"warning\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      this.reinstatePromise = this.apiService.postReinstatePremium();\n      await this.reinstatePromise;\n      this.toastService.showToast({\n        variant: \"success\",\n        title: null,\n        message: this.i18nService.t(\"reinstated\"),\n      });\n      // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.load();\n    } catch (e) {\n      this.logService.error(e);\n    }\n  }\n\n  cancelSubscription = async () => {\n    const reference = openOffboardingSurvey(this.dialogService, {\n      data: {\n        type: \"User\",\n      },\n    });\n\n    this.cancelPromise = lastValueFrom(reference.closed);\n\n    const result = await this.cancelPromise;\n\n    if (result === OffboardingSurveyDialogResultType.Closed) {\n      return;\n    }\n\n    await this.load();\n  };\n\n  downloadLicense() {\n    if (this.loading) {\n      return;\n    }\n\n    const licenseString = JSON.stringify(this.sub.license, null, 2);\n    this.fileDownloadService.download({\n      fileName: \"bitwarden_premium_license.json\",\n      blobData: licenseString,\n    });\n  }\n\n  updateLicense = async () => {\n    if (this.loading) {\n      return;\n    }\n    const dialogRef = UpdateLicenseDialogComponent.open(this.dialogService);\n    const result = await lastValueFrom(dialogRef.closed);\n    if (result === UpdateLicenseDialogResult.Updated) {\n      await this.load();\n    }\n  };\n\n  adjustStorage = async (add: boolean) => {\n    const dialogRef = AdjustStorageDialogComponent.open(this.dialogService, {\n      data: {\n        price: 4,\n        cadence: \"year\",\n        type: add ? \"Add\" : \"Remove\",\n      },\n    });\n\n    const result = await lastValueFrom(dialogRef.closed);\n\n    if (result === AdjustStorageDialogResultType.Submitted) {\n      await this.load();\n    }\n  };\n\n  get subscriptionMarkedForCancel() {\n    return (\n      this.subscription != null && !this.subscription.cancelled && this.subscription.cancelAtEndDate\n    );\n  }\n\n  get subscription() {\n    return this.sub != null ? this.sub.subscription : null;\n  }\n\n  get nextInvoice() {\n    return this.sub != null ? this.sub.upcomingInvoice : null;\n  }\n\n  get storagePercentage() {\n    return this.sub != null && this.sub.maxStorageGb\n      ? +(100 * (this.sub.storageGb / this.sub.maxStorageGb)).toFixed(2)\n      : 0;\n  }\n\n  get title(): string {\n    return this.i18nService.t(this.selfHosted ? \"subscription\" : \"premiumMembership\");\n  }\n\n  get subscriptionStatus(): string | null {\n    if (!this.subscription) {\n      return null;\n    } else {\n      /*\n       Premium users who sign up with PayPal will have their subscription activated by a webhook.\n       This is an arbitrary 15-second grace period where we show their subscription as active rather than\n       incomplete while we wait for our webhook to process the `invoice.created` event.\n      */\n      if (this.subscription.status === \"incomplete\") {\n        const periodStartMS = new Date(this.subscription.periodStartDate).getTime();\n        const nowMS = new Date().getTime();\n        return nowMS - periodStartMS <= 15000\n          ? this.i18nService.t(\"active\")\n          : this.subscription.status;\n      }\n\n      return this.subscription.status;\n    }\n  }\n}\n","<ng-container *ngIf=\"!firstLoaded && loading\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin tw-text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"tw-sr-only\">{{ \"loading\" | i18n }}</span>\n</ng-container>\n<ng-container *ngIf=\"sub\">\n  <bit-callout\n    type=\"warning\"\n    title=\"{{ 'canceled' | i18n }}\"\n    *ngIf=\"subscription && subscription.cancelled\"\n  >\n    {{ \"subscriptionCanceled\" | i18n }}</bit-callout\n  >\n  <bit-callout\n    type=\"warning\"\n    title=\"{{ 'pendingCancellation' | i18n }}\"\n    *ngIf=\"subscriptionMarkedForCancel\"\n  >\n    <p bitTypography=\"body1\">{{ \"subscriptionPendingCanceled\" | i18n }}</p>\n    <button\n      bitButton\n      type=\"button\"\n      buttonType=\"secondary\"\n      #reinstateBtn\n      (click)=\"reinstate()\"\n      [appApiAction]=\"reinstatePromise\"\n      [disabled]=\"$any(reinstateBtn).loading()\"\n    >\n      {{ \"reinstateSubscription\" | i18n }}\n    </button>\n  </bit-callout>\n  <dl *ngIf=\"selfHosted\">\n    <dt>{{ \"expiration\" | i18n }}</dt>\n    <dd *ngIf=\"sub.expiration\">{{ sub.expiration | date: \"mediumDate\" }}</dd>\n    <dd *ngIf=\"!sub.expiration\">{{ \"neverExpires\" | i18n }}</dd>\n  </dl>\n  <div class=\"tw-flex tw-w-full\" *ngIf=\"!selfHosted\">\n    <div class=\"tw-w-1/3\">\n      <dl>\n        <dt>{{ \"status\" | i18n }}</dt>\n        <dd>\n          <span class=\"tw-capitalize\">{{ (subscription && subscriptionStatus) || \"-\" }}</span>\n          <span bitBadge variant=\"warning\" *ngIf=\"subscriptionMarkedForCancel\">{{\n            \"pendingCancellation\" | i18n\n          }}</span>\n        </dd>\n        <dt>{{ \"nextCharge\" | i18n }}</dt>\n        <dd>\n          {{\n            nextInvoice\n              ? (sub.subscription.periodEndDate | date: \"mediumDate\") +\n                \", \" +\n                (nextInvoice.amount | currency: \"$\")\n              : \"-\"\n          }}\n        </dd>\n      </dl>\n    </div>\n    <div class=\"tw-w-2/3\" *ngIf=\"subscription\">\n      <strong class=\"!tw-block tw-mb-1\">{{ \"details\" | i18n }}</strong>\n      <bit-table>\n        <ng-template body>\n          <tr *ngFor=\"let i of subscription.items\">\n            <td bitCell>\n              {{ i.name }} {{ i.quantity > 1 ? \"&times;\" + i.quantity : \"\" }} &#64;\n              {{ i.amount | currency: \"$\" }}\n            </td>\n            <td bitCell>{{ i.quantity * i.amount | currency: \"$\" }} /{{ i.interval | i18n }}</td>\n          </tr>\n        </ng-template>\n      </bit-table>\n    </div>\n  </div>\n  <ng-container *ngIf=\"selfHosted\">\n    <div>\n      <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"updateLicense()\">\n        {{ \"updateLicense\" | i18n }}\n      </button>\n      <a\n        bitButton\n        buttonType=\"secondary\"\n        href=\"{{ this.cloudWebVaultUrl }}/#/settings/subscription\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        {{ \"launchCloudSubscription\" | i18n }}\n      </a>\n    </div>\n  </ng-container>\n  <ng-container *ngIf=\"!selfHosted\">\n    <div class=\"tw-flex tw-justify-between\">\n      <button\n        bitButton\n        type=\"button\"\n        buttonType=\"secondary\"\n        (click)=\"downloadLicense()\"\n        *ngIf=\"!subscription || !subscription.cancelled\"\n      >\n        {{ \"downloadLicense\" | i18n }}\n      </button>\n      <button\n        bitButton\n        #cancelBtn\n        type=\"button\"\n        buttonType=\"danger\"\n        class=\"tw-ml-auto\"\n        (click)=\"cancelSubscription()\"\n        [appApiAction]=\"cancelPromise\"\n        [disabled]=\"$any(cancelBtn).loading()\"\n        *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\"\n      >\n        {{ \"cancelSubscription\" | i18n }}\n      </button>\n    </div>\n    <h3 bitTypography=\"h3\" class=\"tw-mt-16\">{{ \"storage\" | i18n }}</h3>\n    <p bitTypography=\"body1\">\n      {{ \"subscriptionStorage\" | i18n: sub.maxStorageGb || 0 : sub.storageName || \"0 MB\" }}\n    </p>\n    <bit-progress [barWidth]=\"storagePercentage\" bgColor=\"success\" size=\"default\"></bit-progress>\n    <ng-container *ngIf=\"subscription && !subscription.cancelled && !subscriptionMarkedForCancel\">\n      <div class=\"tw-mt-3\">\n        <div class=\"tw-flex tw-gap-1\">\n          <button bitButton type=\"button\" buttonType=\"secondary\" (click)=\"adjustStorage(true)\">\n            {{ \"addStorage\" | i18n }}\n          </button>\n          <button bitButton type=\"button\" buttonType=\"secondary\" (click)=\"adjustStorage(false)\">\n            {{ \"removeStorage\" | i18n }}\n          </button>\n        </div>\n      </div>\n    </ng-container>\n  </ng-container>\n</ng-container>\n","import { Component, EventEmitter, Output } from \"@angular/core\";\nimport { FormBuilder } from \"@angular/forms\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { TokenService } from \"@bitwarden/common/auth/abstractions/token.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { SyncService } from \"@bitwarden/common/platform/sync\";\nimport { ToastService } from \"@bitwarden/components\";\n\nimport { AbstractSelfHostingLicenseUploaderComponent } from \"../../shared/self-hosting-license-uploader/abstract-self-hosting-license-uploader.component\";\n\n/**\n * Processes license file uploads for individual plans.\n * @remarks Requires self-hosting.\n */\n@Component({\n  selector: \"individual-self-hosting-license-uploader\",\n  templateUrl: \"./self-hosting-license-uploader.component.html\",\n  standalone: false,\n})\nexport class IndividualSelfHostingLicenseUploaderComponent extends AbstractSelfHostingLicenseUploaderComponent {\n  /**\n   * Emitted when a license file has been successfully uploaded & processed.\n   */\n  @Output() onLicenseFileUploaded: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly formBuilder: FormBuilder,\n    protected readonly i18nService: I18nService,\n    protected readonly platformUtilsService: PlatformUtilsService,\n    protected readonly syncService: SyncService,\n    protected readonly toastService: ToastService,\n    protected readonly tokenService: TokenService,\n  ) {\n    super(formBuilder, i18nService, platformUtilsService, toastService, tokenService);\n  }\n\n  protected async submit(): Promise<void> {\n    await super.submit();\n\n    const formData = new FormData();\n    formData.append(\"license\", this.formValue.file);\n\n    await this.apiService.postAccountLicense(formData);\n\n    await this.apiService.refreshIdentityToken();\n    await this.syncService.fullSync(true);\n\n    this.onLicenseFileUploaded.emit();\n  }\n\n  get description(): string {\n    return \"uploadLicenseFilePremium\";\n  }\n\n  get hintFileName(): string {\n    return \"bitwarden_premium_license.json\";\n  }\n}\n","<p bitTypography=\"body1\" class=\"tw-break-words tw-whitespace-normal tw-mb-8\">\n  {{ \"uploadLicenseFileOrg\" | i18n }}\n</p>\n<form [formGroup]=\"form\" [bitSubmit]=\"submit\">\n  <bit-form-field>\n    <bit-label>{{ description | i18n }}</bit-label>\n    <div class=\"tw-my-1\">\n      <button bitButton type=\"button\" buttonType=\"secondary\" (click)=\"fileSelector.click()\">\n        {{ \"chooseFile\" | i18n }}\n      </button>\n      {{ form.value.file ? form.value.file.name : (\"noFileChosen\" | i18n) }}\n    </div>\n    <input\n      #fileSelector\n      bitInput\n      type=\"file\"\n      formControlName=\"file\"\n      (change)=\"onLicenseFileSelectedChanged($event)\"\n      accept=\"application/JSON\"\n      hidden\n      class=\"tw-hidden\"\n    />\n    <bit-hint>{{ \"licenseFileDesc\" | i18n: hintFileName }}</bit-hint>\n  </bit-form-field>\n  <button type=\"submit\" bitButton bitFormButton buttonType=\"primary\">\n    {{ \"submit\" | i18n }}\n  </button>\n</form>\n","import { Component } from \"@angular/core\";\nimport { FormBuilder } from \"@angular/forms\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { OrganizationApiServiceAbstraction } from \"@bitwarden/common/admin-console/abstractions/organization/organization-api.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogRef, DialogService, ToastService } from \"@bitwarden/components\";\n\nimport { UpdateLicenseDialogResult } from \"./update-license-types\";\nimport { UpdateLicenseComponent } from \"./update-license.component\";\n\n@Component({\n  templateUrl: \"update-license-dialog.component.html\",\n  standalone: false,\n})\nexport class UpdateLicenseDialogComponent extends UpdateLicenseComponent {\n  constructor(\n    private dialogRef: DialogRef,\n    apiService: ApiService,\n    i18nService: I18nService,\n    platformUtilsService: PlatformUtilsService,\n    organizationApiService: OrganizationApiServiceAbstraction,\n    formBuilder: FormBuilder,\n    toastService: ToastService,\n  ) {\n    super(\n      apiService,\n      i18nService,\n      platformUtilsService,\n      organizationApiService,\n      formBuilder,\n      toastService,\n    );\n  }\n  async submitLicense() {\n    const result = await this.submit();\n    if (result === UpdateLicenseDialogResult.Updated) {\n      this.dialogRef.close(UpdateLicenseDialogResult.Updated);\n    }\n  }\n\n  submitLicenseDialog = async () => {\n    await this.submitLicense();\n  };\n\n  cancel = async () => {\n    await this.cancel();\n    this.dialogRef.close(UpdateLicenseDialogResult.Cancelled);\n  };\n  static open(dialogService: DialogService) {\n    return dialogService.open<UpdateLicenseDialogResult>(UpdateLicenseDialogComponent);\n  }\n}\n","<form [formGroup]=\"updateLicenseForm\" [bitSubmit]=\"submitLicenseDialog\">\n  <bit-dialog dialogSize=\"default\" [title]=\"'updateLicense' | i18n\">\n    <ng-container bitDialogContent>\n      <bit-form-field>\n        <bit-label>{{ \"licenseFile\" | i18n }}</bit-label>\n        <div>\n          <button bitButton type=\"button\" buttonType=\"secondary\" (click)=\"fileSelector.click()\">\n            {{ \"chooseFile\" | i18n }}\n          </button>\n          {{ licenseFile ? licenseFile.name : (\"noFileChosen\" | i18n) }}\n        </div>\n        <input\n          bitInput\n          #fileSelector\n          type=\"file\"\n          formControlName=\"file\"\n          (change)=\"setSelectedFile($event)\"\n          hidden\n          class=\"tw-hidden\"\n        />\n        <bit-hint>{{ \"licenseFileDesc\" | i18n: \"bitwarden_premium_license.json\" }}</bit-hint>\n      </bit-form-field>\n    </ng-container>\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" buttonType=\"primary\" bitButton bitFormButton>\n        {{ \"submit\" | i18n }}\n      </button>\n      <button\n        bitButton\n        *ngIf=\"showCancel\"\n        bitFormButton\n        buttonType=\"secondary\"\n        type=\"button\"\n        bitDialogClose\n        [bitAction]=\"cancel\"\n      >\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n"],"names":[],"sourceRoot":""}