"use strict";
(self["webpackChunk_bitwarden_web_vault"] = self["webpackChunk_bitwarden_web_vault"] || []).push([["src_app_admin-console_organizations_organization_module_ts"],{

/***/ "../../libs/assets/src/svg/svgs/admin-console.ts":
/*!*******************************************************!*\
  !*** ../../libs/assets/src/svg/svgs/admin-console.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _icon_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../icon-service */ "../../libs/assets/src/svg/icon-service.ts");

const AdminConsoleLogo = (0,_icon_service__WEBPACK_IMPORTED_MODULE_0__.svgIcon) `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 12.180000305175781 348.8800048828125 34.650001525878906" data-asc="0.9267578125" width="348.8800048828125" height="34.650001525878906"><defs/><g fill="#ffffff"><g transform="translate(0, 0)"><path d="M16.41 35.13Q18.90 32.45 20.30 29.08Q21.70 25.71 21.70 21.89Q21.70 18.07 19.70 14.40Q19.70 14.06 20.50 13.40Q21.29 12.74 21.85 12.74Q27.25 13.11 30.30 15.91Q33.35 18.70 33.35 23.05Q33.35 25.73 32.09 28.08Q30.83 30.42 28.78 31.98Q24.34 35.30 18.65 35.30Q17.26 35.30 16.41 35.13M13.23 44.70Q13.23 45.04 12.45 45.69Q11.67 46.34 11.08 46.34L0 46.34Q3.34 32.86 4.76 14.97Q4.76 14.65 5.54 14.03Q6.32 13.40 6.88 13.38Q14.70 12.79 18.07 12.79Q14.58 27.76 13.23 44.70ZM65.99 45.36Q61.23 46.39 55.76 46.39Q54.52 44.70 54.52 42.85Q54.52 40.99 55.62 33.44Q56.71 25.88 56.74 23.39Q56.74 23.07 57.54 22.44Q58.35 21.80 58.89 21.80Q64.11 21.80 68.73 23.19Q68.63 23.97 67.43 29.41Q66.24 34.84 66.24 38.12Q66.24 41.41 67.99 43.16Q67.99 43.51 67.31 44.30Q66.63 45.09 65.99 45.36M54.69 21.46Q51.78 23.61 50.28 27.29Q48.78 30.98 48.78 34.53Q48.78 38.09 49.57 40.91Q50.37 43.73 51.71 44.68Q51.71 45.04 50.93 45.69Q50.15 46.34 49.58 46.34Q43.99 46.34 40.61 43.53Q37.23 40.72 37.23 35.86Q37.23 29.83 41.80 25.73Q43.99 23.75 47.33 22.61Q50.66 21.46 54.69 21.46ZM87.92 21.24Q86.52 22.56 86.52 24.02Q86.52 27.44 91.72 31.10Q94.07 32.76 95.39 33.94Q98.34 36.57 98.34 39.66Q98.34 42.75 95.25 44.64Q92.16 46.53 86.60 46.53Q87.23 45.12 87.23 43.97Q87.23 42.82 86.58 41.74Q85.94 40.65 84.91 39.75Q83.89 38.84 82.64 37.93Q81.40 37.01 80.15 36.06Q78.91 35.11 77.88 34.11Q75.56 31.84 75.56 29.20Q75.56 26.29 77.71 24.46Q81.40 21.36 87.92 21.24M91.70 21.31Q95.14 21.31 97.61 22.67Q100.07 24.02 100.07 25.98Q100.07 29.00 94.41 29.69Q94.46 29.52 94.46 29.15Q94.46 27.29 93.29 25.72Q92.11 24.15 90.01 23.19Q90.01 22.80 90.55 22.12Q91.09 21.44 91.70 21.31M82.32 46.44Q81.10 46.53 80.52 46.53Q76.98 46.53 74.63 45.37Q72.29 44.21 72.29 42.36Q72.29 38.62 77.93 37.65Q77.73 38.70 77.77 39.49Q77.81 40.28 78.31 41.05Q78.81 41.82 79.71 42.43Q81.32 43.51 83.72 44.41Q83.72 44.78 83.26 45.50Q82.81 46.22 82.32 46.44ZM117.09 21.24Q115.70 22.56 115.70 24.02Q115.70 27.44 120.90 31.10Q123.24 32.76 124.56 33.94Q127.51 36.57 127.51 39.66Q127.51 42.75 124.43 44.64Q121.34 46.53 115.77 46.53Q116.41 45.12 116.41 43.97Q116.41 42.82 115.76 41.74Q115.11 40.65 114.09 39.75Q113.06 38.84 111.82 37.93Q110.57 37.01 109.33 36.06Q108.08 35.11 107.06 34.11Q104.74 31.84 104.74 29.20Q104.74 26.29 106.88 24.46Q110.57 21.36 117.09 21.24M120.87 21.31Q124.32 21.31 126.78 22.67Q129.25 24.02 129.25 25.98Q129.25 29.00 123.58 29.69Q123.63 29.52 123.63 29.15Q123.63 27.29 122.46 25.72Q121.29 24.15 119.19 23.19Q119.19 22.80 119.73 22.12Q120.26 21.44 120.87 21.31M111.50 46.44Q110.28 46.53 109.69 46.53Q106.15 46.53 103.81 45.37Q101.46 44.21 101.46 42.36Q101.46 38.62 107.10 37.65Q106.91 38.70 106.95 39.49Q106.98 40.28 107.48 41.05Q107.98 41.82 108.89 42.43Q110.50 43.51 112.89 44.41Q112.89 44.78 112.44 45.50Q111.99 46.22 111.50 46.44ZM149.15 12.18Q147.22 13.82 147.22 16.15Q147.22 18.48 148.50 20.81Q149.78 23.14 151.49 24.78Q153.20 26.42 154.14 27.38Q155.08 28.34 156.26 29.70Q157.45 31.05 158.13 32.13Q159.81 34.74 159.81 36.71Q159.81 38.67 159.00 40.36Q158.18 42.04 156.68 43.42Q155.18 44.80 152.84 45.70Q150.51 46.61 147.71 46.73Q148.49 45.61 148.49 44.37Q148.49 43.14 147.97 41.86Q147.46 40.58 146.41 39.11Q144.73 36.74 142.64 34.47Q140.55 32.20 139.73 31.23Q138.92 30.25 137.89 28.76Q135.89 25.88 135.89 22.97Q135.89 20.07 137.67 17.58Q139.45 15.09 142.49 13.65Q145.53 12.21 149.15 12.18M157.28 26.93Q157.28 24.56 156.42 22.05Q154.74 17.14 150.81 14.14Q150.85 13.70 151.64 13.09Q152.42 12.48 152.93 12.48Q154.71 12.48 157.09 13.18Q159.47 13.89 160.86 14.55Q160.99 15.28 160.99 17.10Q160.99 18.92 160.64 21.64Q160.30 24.37 159.81 25.95Q159.67 26.32 158.78 26.62Q157.89 26.93 157.28 26.93M145.58 44.60Q145.29 46.26 144.68 46.83Q142.11 46.83 138.62 46.17Q135.13 45.51 133.54 44.48Q133.52 43.95 133.52 42.94Q133.52 38.18 134.64 33.91Q134.74 33.52 135.47 32.92Q136.21 32.32 136.79 32.32Q137.35 35.01 138.81 37.72Q140.26 40.43 142.10 42.30Q143.95 44.17 145.58 44.60ZM177.78 46.34L166.67 46.34Q170.12 31.54 171.46 14.70Q171.46 14.38 172.25 13.75Q173.05 13.11 173.61 13.11L184.69 13.11Q182.91 20.63 181.67 29.22Q185.03 29.88 185.99 30.25Q185.99 31.76 185.42 32.47Q182.91 32.67 181.13 33.03Q180.37 38.99 179.91 44.73Q179.91 45.04 179.13 45.69Q178.34 46.34 177.78 46.34M195.92 46.34L184.84 46.34Q188.23 31.81 189.62 14.70Q189.62 14.38 190.41 13.75Q191.19 13.11 191.75 13.11L202.83 13.11Q199.44 27.56 198.05 44.73Q198.05 45.04 197.25 45.69Q196.46 46.34 195.92 46.34ZM233.50 46.34L222.14 46.34Q220.24 31.15 217.33 19.97Q218.75 17.09 219.75 14.70Q219.92 14.33 220.64 13.72Q221.36 13.11 221.88 13.11L229.64 13.11Q230.64 20.48 232.34 29.53Q234.03 38.57 235.64 44.73Q235.64 45.04 234.86 45.69Q234.08 46.34 233.50 46.34M213.99 42.02L214.06 44.73Q214.06 45.04 213.27 45.69Q212.48 46.34 211.91 46.34L204.13 46.34Q207.98 39.79 216.09 22.36Q216.31 23.00 216.31 24.13Q216.31 25.27 215.98 27.42Q215.65 29.57 215.14 32.48Q214.62 35.40 214.38 37.21Q217.90 37.74 219.48 38.40Q219.48 39.87 218.99 40.58Q216.46 40.80 213.99 41.24L213.99 42.02ZM269.26 44.73Q269.26 45.04 268.48 45.69Q267.70 46.34 267.14 46.34L260.84 46.34Q258.08 41.33 253.48 34.94Q248.88 28.54 245.09 24.22Q245.41 21.61 246.07 14.70Q246.14 14.36 246.91 13.73Q247.68 13.11 248.19 13.11L254.57 13.11Q257.81 18.82 261.51 23.93Q265.21 29.03 270.14 35.06Q269.51 40.92 269.26 44.73M268.85 30.79Q267.68 24.76 266.71 21.30Q265.75 17.85 264.11 14.70Q264.11 14.38 264.90 13.75Q265.70 13.11 266.28 13.11L274.05 13.11Q272.41 20.17 271.00 29.15Q271.00 29.49 270.21 30.14Q269.43 30.79 268.85 30.79M246.41 28.98Q247.05 34.11 248.14 37.56Q249.24 41.02 251.20 44.73Q251.20 45.04 250.42 45.69Q249.63 46.34 249.05 46.34L241.28 46.34Q242.92 39.23 244.26 30.59Q244.26 30.27 245.06 29.63Q245.85 28.98 246.41 28.98ZM297.05 46.34L285.67 46.34Q289.26 33.37 290.77 14.70Q290.77 14.38 291.56 13.75Q292.36 13.11 292.90 13.11L303.78 13.11Q300.63 26.37 299.19 44.73Q299.19 45.04 298.41 45.69Q297.63 46.34 297.05 46.34M308.47 28.39Q308.47 25.05 307.41 20.97Q306.35 16.89 305.13 15.06Q305.27 13.94 305.86 13.11L313.45 13.11Q312.67 20.46 311.38 26.78Q311.28 27.15 310.19 27.77Q309.11 28.39 308.47 28.39M278.74 28.37Q278.93 25.51 279.66 20.86Q280.40 16.21 280.76 14.84Q280.93 14.36 281.60 13.73Q282.28 13.11 282.71 13.11L290.14 13.11Q287.65 16.09 286.32 18.60Q284.99 21.12 283.75 23.47Q282.52 25.83 281.86 27.05Q281.71 27.32 280.51 27.84Q279.30 28.37 278.74 28.37ZM330.20 46.83Q333.76 43.85 335.51 38.13Q337.26 32.42 337.26 26.11Q337.26 19.80 335.96 14.70Q335.96 14.36 336.76 13.71Q337.55 13.06 338.11 13.06Q341.65 13.75 344.14 16.02Q348.88 20.34 348.88 28.00Q348.88 33.84 345.95 38.53Q342.70 43.77 337.01 45.75Q333.89 46.83 330.20 46.83M335.06 12.48Q331.47 15.48 329.71 21.17Q327.95 26.86 327.95 33.20Q327.95 39.55 329.30 44.58Q329.30 44.92 328.50 45.58Q327.71 46.24 327.12 46.24Q321.75 45.17 318.99 40.87Q316.36 36.74 316.36 31.32Q316.36 25.49 319.29 20.75Q322.51 15.55 328.22 13.57Q331.35 12.48 335.06 12.48Z"/></g></g></svg>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminConsoleLogo);


/***/ }),

/***/ "../../libs/assets/src/svg/svgs/restricted-view.ts":
/*!*********************************************************!*\
  !*** ../../libs/assets/src/svg/svgs/restricted-view.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RestrictedView: () => (/* binding */ RestrictedView)
/* harmony export */ });
/* harmony import */ var _icon_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../icon-service */ "../../libs/assets/src/svg/icon-service.ts");

const RestrictedView = (0,_icon_service__WEBPACK_IMPORTED_MODULE_0__.svgIcon) `
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="5.52 2.62 110 110">
    <path class="tw-fill-illustration-bg-secondary" d="M25.518 12.621c0-5.523 4.477-10 10-10h50c5.523 0 10 4.477 10 10v2.5h-70v-2.5Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="M85.518 5.121h-50a7.5 7.5 0 0 0-7.5 7.5h65a7.5 7.5 0 0 0-7.5-7.5Zm-50-2.5c-5.523 0-10 4.477-10 10v2.5h70v-2.5c0-5.523-4.477-10-10-10h-50Z" clip-rule="evenodd"/>
    <path class="tw-fill-illustration-bg-primary" d="M15.518 22.621c0-5.523 4.477-10 10-10h70c5.523 0 10 4.477 10 10v2.5h-90v-2.5Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="M95.518 15.121h-70a7.5 7.5 0 0 0-7.5 7.5h85a7.5 7.5 0 0 0-7.5-7.5Zm-70-2.5c-5.523 0-10 4.477-10 10v2.5h90v-2.5c0-5.523-4.477-10-10-10h-70Z" clip-rule="evenodd"/>
    <path class="tw-fill-illustration-bg-tertiary" d="M5.518 32.621c0-5.523 4.477-10 10-10h90c5.523 0 10 4.477 10 10v70c0 5.523-4.477 10-10 10h-90c-5.523 0-10-4.477-10-10v-70Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="M105.518 25.121h-90a7.5 7.5 0 0 0-7.5 7.5v70a7.5 7.5 0 0 0 7.5 7.5h90a7.5 7.5 0 0 0 7.5-7.5v-70a7.5 7.5 0 0 0-7.5-7.5Zm-90-2.5c-5.523 0-10 4.477-10 10v70c0 5.523 4.477 10 10 10h90c5.523 0 10-4.477 10-10v-70c0-5.523-4.477-10-10-10h-90Z" clip-rule="evenodd"/>
    <path class="tw-fill-illustration-tertiary" d="M95.518 67.621c0 19.33-15.67 35-35 35s-35-15.67-35-35 15.67-35 35-35 35 15.67 35 35Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="M60.518 100.121c17.95 0 32.5-14.55 32.5-32.5s-14.55-32.5-32.5-32.5-32.5 14.55-32.5 32.5 14.55 32.5 32.5 32.5Zm0 2.5c19.33 0 35-15.67 35-35s-15.67-35-35-35-35 15.67-35 35 15.67 35 35 35Z" clip-rule="evenodd"/>
    <path class="tw-fill-illustration-bg-tertiary" d="m41.092 59.482-6.328 6.378a2.5 2.5 0 0 0 0 3.522l6.328 6.378a27.362 27.362 0 0 0 19.426 8.111 27.362 27.362 0 0 0 19.425-8.11l6.328-6.38a2.5 2.5 0 0 0 0-3.52l-6.328-6.379a27.362 27.362 0 0 0-19.425-8.11 27.362 27.362 0 0 0-19.426 8.11Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="m42.867 61.243-6.328 6.378L42.867 74a24.862 24.862 0 0 0 17.65 7.371c6.617 0 12.967-2.65 17.652-7.371l6.327-6.379-6.327-6.378a24.862 24.862 0 0 0-17.651-7.372 24.862 24.862 0 0 0-17.651 7.372Zm-8.102 4.617 6.327-6.378a27.362 27.362 0 0 1 19.426-8.11 27.362 27.362 0 0 1 19.425 8.11l6.328 6.378a2.5 2.5 0 0 1 0 3.522l-6.328 6.378a27.362 27.362 0 0 1-19.425 8.111 27.362 27.362 0 0 1-19.426-8.11l-6.328-6.38a2.5 2.5 0 0 1 0-3.52Z" clip-rule="evenodd"/>
    <path class="tw-fill-illustration-bg-primary" d="M71.768 67.621c0 6.213-5.037 11.25-11.25 11.25s-11.25-5.037-11.25-11.25 5.037-11.25 11.25-11.25 11.25 5.037 11.25 11.25Z"/>
    <path class="tw-fill-illustration-bg-secondary" d="M68.018 67.621a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Z"/>
    <path class="tw-fill-illustration-outline" fill-rule="evenodd" d="M42.134 49.237a1.25 1.25 0 0 1 1.768 0l35 35a1.25 1.25 0 1 1-1.768 1.768l-35-35a1.25 1.25 0 0 1 0-1.768Z" clip-rule="evenodd"/>
  </svg>
`;


/***/ }),

/***/ "../../libs/common/src/models/view/event.view.ts":
/*!*******************************************************!*\
  !*** ../../libs/common/src/models/view/event.view.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventView: () => (/* binding */ EventView)
/* harmony export */ });
class EventView {
    constructor(data) {
        this.message = data.message;
        this.humanReadableMessage = data.humanReadableMessage;
        this.appIcon = data.appIcon;
        this.appName = data.appName;
        this.userId = data.userId;
        this.userName = data.userName;
        this.userEmail = data.userEmail;
        this.date = data.date;
        this.ip = data.ip;
        this.type = data.type;
        this.installationId = data.installationId;
        this.systemUser = data.systemUser;
        this.serviceAccountId = data.serviceAccountId;
    }
}


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/bulk-collections-dialog/bulk-collections-dialog.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/bulk-collections-dialog/bulk-collections-dialog.component.ts ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkCollectionsDialogComponent: () => (/* binding */ BulkCollectionsDialogComponent),
/* harmony export */   BulkCollectionsDialogResult: () => (/* binding */ BulkCollectionsDialogResult)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/Subject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/of.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/platform-utils.service */ "../../libs/common/src/platform/abstractions/platform-utils.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @bitwarden/components */ "../../node_modules/@angular/cdk/fesm2022/dialog.mjs");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared */ "./src/app/shared/index.ts");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core */ "./src/app/admin-console/organizations/core/index.ts");
/* harmony import */ var _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shared/components/access-selector */ "./src/app/admin-console/organizations/shared/components/access-selector/index.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/async-actions/form-button.directive */ "../../libs/components/src/async-actions/form-button.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/async-actions/bit-submit.directive */ "../../libs/components/src/async-actions/bit-submit.directive.ts");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/dialog/directives/dialog-close.directive */ "../../libs/components/src/dialog/directives/dialog-close.directive.ts");
/* harmony import */ var _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/dialog/dialog/dialog.component */ "../../libs/components/src/dialog/dialog/dialog.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
/* harmony import */ var _shared_components_access_selector_access_selector_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/components/access-selector/access-selector.component */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.component.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};




























function BulkCollectionsDialogComponent_bit_access_selector_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "bit-access-selector", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "i18n");
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("permissionMode", ctx_r0.PermissionMode.Edit)("items", ctx_r0.accessItems)("columnHeader", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](1, 6, "groupSlashMemberColumnHeader"))("selectorLabelText", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](2, 8, "selectGroupsAndMembers"))("selectorHelpText", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](3, 10, "userPermissionOverrideHelperDesc"))("emptySelectionText", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 12, "noMembersOrGroupsAdded"));
} }
function BulkCollectionsDialogComponent_bit_access_selector_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "bit-access-selector", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](3, "i18n");
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("permissionMode", ctx_r0.PermissionMode.Edit)("items", ctx_r0.accessItems)("columnHeader", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](1, 5, "memberColumnHeader"))("selectorLabelText", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](2, 7, "selectMembers"))("emptySelectionText", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](3, 9, "noMembersAdded"));
} }
// FIXME: update to use a const object instead of a typescript enum
// eslint-disable-next-line @bitwarden/platform/no-enums
var BulkCollectionsDialogResult;
(function (BulkCollectionsDialogResult) {
    BulkCollectionsDialogResult["Saved"] = "saved";
    BulkCollectionsDialogResult["Canceled"] = "canceled";
})(BulkCollectionsDialogResult || (BulkCollectionsDialogResult = {}));
class BulkCollectionsDialogComponent {
    constructor(params, dialogRef, formBuilder, organizationService, accountService, groupService, organizationUserApiService, platformUtilsService, i18nService, collectionAdminService, toastService) {
        this.params = params;
        this.dialogRef = dialogRef;
        this.formBuilder = formBuilder;
        this.organizationService = organizationService;
        this.accountService = accountService;
        this.groupService = groupService;
        this.organizationUserApiService = organizationUserApiService;
        this.platformUtilsService = platformUtilsService;
        this.i18nService = i18nService;
        this.collectionAdminService = collectionAdminService;
        this.toastService = toastService;
        this.PermissionMode = _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.PermissionMode;
        this.formGroup = this.formBuilder.group({
            access: [[]],
        });
        this.loading = true;
        this.accessItems = [];
        this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
        this.submit = () => __awaiter(this, void 0, void 0, function* () {
            const users = this.formGroup.controls.access.value
                .filter((v) => v.type === _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.AccessItemType.Member)
                .map(_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.convertToSelectionView);
            const groups = this.formGroup.controls.access.value
                .filter((v) => v.type === _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.AccessItemType.Group)
                .map(_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.convertToSelectionView);
            yield this.collectionAdminService.bulkAssignAccess(this.organization.id, this.params.collections.map((c) => c.id), users, groups);
            this.toastService.showToast({
                variant: "success",
                title: null,
                message: this.i18nService.t("editedCollections"),
            });
            this.dialogRef.close(BulkCollectionsDialogResult.Saved);
        });
        this.numCollections = this.params.collections.length;
        const organization$ = this.accountService.activeAccount$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.switchMap)((account) => this.organizationService
            .organizations$(account === null || account === void 0 ? void 0 : account.id)
            .pipe((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.getOrganizationById)(this.params.organizationId))));
        const groups$ = organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.switchMap)((organization) => {
            if (!organization.useGroups) {
                return (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.of)([]);
            }
            return this.groupService.getAll(organization.id);
        }));
        (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([
            organization$,
            groups$,
            this.organizationUserApiService.getAllMiniUserDetails(this.params.organizationId),
        ])
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.takeUntil)(this.destroy$))
            .subscribe(([organization, groups, users]) => {
            this.organization = organization;
            this.accessItems = [].concat(groups.map(_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.mapGroupToAccessItemView), users.data.map(_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.mapUserToAccessItemView));
            this.loading = false;
        });
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    static open(dialogService, config) {
        return dialogService.open(BulkCollectionsDialogComponent, config);
    }
}
BulkCollectionsDialogComponent.ɵfac = function BulkCollectionsDialogComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || BulkCollectionsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_16__.DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_17__.DialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_core__WEBPACK_IMPORTED_MODULE_6__.GroupApiService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.OrganizationUserApiService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_4__.PlatformUtilsService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_3__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionAdminService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_19__.ToastService)); };
BulkCollectionsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: BulkCollectionsDialogComponent, selectors: [["app-bulk-collections-dialog"]], decls: 18, vars: 18, consts: [[3, "formGroup", "bitSubmit"], ["dialogSize", "large", 3, "loading"], ["bitDialogTitle", ""], [1, "tw-text-sm", "tw-normal-case", "tw-text-muted"], ["bitDialogContent", ""], ["formControlName", "access", 3, "permissionMode", "items", "columnHeader", "selectorLabelText", "selectorHelpText", "emptySelectionText", 4, "ngIf"], ["formControlName", "access", 3, "permissionMode", "items", "columnHeader", "selectorLabelText", "emptySelectionText", 4, "ngIf"], ["bitDialogFooter", ""], ["type", "submit", "bitButton", "", "bitFormButton", "", "buttonType", "primary"], ["type", "button", "bitButton", "", "bitFormButton", "", "buttonType", "secondary", "bitDialogClose", ""], ["formControlName", "access", 3, "permissionMode", "items", "columnHeader", "selectorLabelText", "selectorHelpText", "emptySelectionText"], ["formControlName", "access", 3, "permissionMode", "items", "columnHeader", "selectorLabelText", "emptySelectionText"]], template: function BulkCollectionsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "form", 0)(1, "bit-dialog", 1)(2, "span", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](5, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](7, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](9, BulkCollectionsDialogComponent_bit_access_selector_9_Template, 5, 14, "bit-access-selector", 5)(10, BulkCollectionsDialogComponent_bit_access_selector_10_Template, 4, 11, "bit-access-selector", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](11, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](12, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](14, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](15, "button", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](17, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("formGroup", ctx.formGroup)("bitSubmit", ctx.submit);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("loading", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 10, "assignCollectionAccess"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate2"](" ", ctx.numCollections, " ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](7, 12, ctx.numCollections == 1 ? "collection" : "collections"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.organization == null ? null : ctx.organization.useGroups);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !(ctx.organization == null ? null : ctx.organization.useGroups));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](14, 14, "save"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](17, 16, "cancel"), " ");
    } }, dependencies: [_shared__WEBPACK_IMPORTED_MODULE_5__.SharedModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_18__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormControlName, _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_21__.BitFormButtonDirective, _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_22__.BitSubmitDirective, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_23__.ButtonComponent, _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_24__.DialogCloseDirective, _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_25__.DialogComponent, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_8__.I18nPipe, _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_7__.AccessSelectorModule, _shared_components_access_selector_access_selector_component__WEBPACK_IMPORTED_MODULE_9__.AccessSelectorComponent], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/bulk-collections-dialog/index.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/bulk-collections-dialog/index.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkCollectionsDialogComponent: () => (/* reexport safe */ _bulk_collections_dialog_component__WEBPACK_IMPORTED_MODULE_0__.BulkCollectionsDialogComponent),
/* harmony export */   BulkCollectionsDialogResult: () => (/* reexport safe */ _bulk_collections_dialog_component__WEBPACK_IMPORTED_MODULE_0__.BulkCollectionsDialogResult)
/* harmony export */ });
/* harmony import */ var _bulk_collections_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bulk-collections-dialog.component */ "./src/app/admin-console/organizations/collections/bulk-collections-dialog/bulk-collections-dialog.component.ts");



/***/ }),

/***/ "./src/app/admin-console/organizations/collections/collection-access-restricted.component.ts":
/*!***************************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/collection-access-restricted.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CollectionAccessRestrictedComponent: () => (/* binding */ CollectionAccessRestrictedComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/assets/svg */ "../../libs/assets/src/svg/svgs/restricted-view.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/button/button.module.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/no-items/no-items.module.ts");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared */ "./src/app/shared/index.ts");
/* harmony import */ var _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/components/collection-dialog */ "./src/app/admin-console/organizations/shared/components/collection-dialog/index.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_no_items_no_items_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../../libs/components/src/no-items/no-items.component */ "../../libs/components/src/no-items/no-items.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");










function CollectionAccessRestrictedComponent_button_4_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "button", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function CollectionAccessRestrictedComponent_button_4_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r1.viewCollectionClicked.emit({ readonly: false, tab: ctx_r1.collectionDialogTabType.Info })); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](3, 1, "editCollection"), " ");
} }
function CollectionAccessRestrictedComponent_button_5_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "button", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function CollectionAccessRestrictedComponent_button_5_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r3); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r1.viewCollectionClicked.emit({ readonly: true, tab: ctx_r1.collectionDialogTabType.Access })); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](3, 1, "viewAccess"), " ");
} }
class CollectionAccessRestrictedComponent {
    constructor() {
        this.icon = _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_4__.RestrictedView;
        this.collectionDialogTabType = _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_1__.CollectionDialogTabType;
        this.canEditCollection = false;
        this.canViewCollectionInfo = false;
        this.viewCollectionClicked = new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
    }
}
CollectionAccessRestrictedComponent.ɵfac = function CollectionAccessRestrictedComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || CollectionAccessRestrictedComponent)(); };
CollectionAccessRestrictedComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: CollectionAccessRestrictedComponent, selectors: [["collection-access-restricted"]], inputs: { canEditCollection: "canEditCollection", canViewCollectionInfo: "canViewCollectionInfo" }, outputs: { viewCollectionClicked: "viewCollectionClicked" }, decls: 6, vars: 6, consts: [[1, "tw-mt-2", "tw-block", 3, "icon"], ["slot", "title", 1, "tw-mt-4", "tw-block"], ["slot", "button", "bitButton", "", "buttonType", "secondary", "type", "button", 3, "click", 4, "ngIf"], ["slot", "button", "bitButton", "", "buttonType", "secondary", "type", "button", 3, "click"], ["aria-hidden", "true", 1, "bwi", "bwi-pencil-square"], ["aria-hidden", "true", 1, "bwi", "bwi-users"]], template: function CollectionAccessRestrictedComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "bit-no-items", 0)(1, "span", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](3, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](4, CollectionAccessRestrictedComponent_button_4_Template, 4, 3, "button", 2)(5, CollectionAccessRestrictedComponent_button_5_Template, 4, 3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](3, 4, "youDoNotHavePermissions"));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.canEditCollection);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !ctx.canEditCollection && ctx.canViewCollectionInfo);
    } }, dependencies: [_shared__WEBPACK_IMPORTED_MODULE_0__.SharedModule, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_6__.ButtonComponent, _libs_components_src_no_items_no_items_component__WEBPACK_IMPORTED_MODULE_7__.NoItemsComponent, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_2__.I18nPipe, _bitwarden_components__WEBPACK_IMPORTED_MODULE_8__.ButtonModule, _bitwarden_components__WEBPACK_IMPORTED_MODULE_9__.NoItemsModule], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault-filter/vault-filter.component.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultFilterComponent: () => (/* binding */ VaultFilterComponent)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction */ "../../libs/common/src/admin-console/abstractions/policy/policy.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_admin_console_models_domain_organization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/models/domain/organization */ "../../libs/common/src/admin-console/models/domain/organization.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/billing/abstractions/billing-api.service.abstraction */ "../../libs/common/src/billing/abstractions/billing-api.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/platform-utils.service */ "../../libs/common/src/platform/abstractions/platform-utils.service.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_cipher_archive_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/cipher-archive.service */ "../../libs/common/src/vault/abstractions/cipher-archive.service.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/cipher.service */ "../../libs/common/src/vault/abstractions/cipher.service.ts");
/* harmony import */ var _bitwarden_common_vault_services_restricted_item_types_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/vault/services/restricted-item-types.service */ "../../libs/common/src/vault/services/restricted-item-types.service.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_components_vault_filter_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/components/vault-filter.component */ "./src/app/vault/individual-vault/vault-filter/components/vault-filter.component.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service */ "./src/app/vault/individual-vault/vault-filter/services/abstractions/vault-filter.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/a11y/a11y-title.directive */ "../../libs/components/src/a11y/a11y-title.directive.ts");
/* harmony import */ var _libs_components_src_input_autofocus_directive__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/input/autofocus.directive */ "../../libs/components/src/input/autofocus.directive.ts");
/* harmony import */ var _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/link/link.directive */ "../../libs/components/src/link/link.directive.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_components_vault_filter_section_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/shared/components/vault-filter-section.component */ "./src/app/vault/individual-vault/vault-filter/shared/components/vault-filter-section.component.ts");
/* harmony import */ var _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/search/search.component */ "../../libs/components/src/search/search.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore

































function VaultFilterComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
function VaultFilterComponent_div_2_ng_container_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](2, "app-filter-section", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const f_r3 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("activeFilter", ctx_r1.activeFilter)("section", f_r3);
} }
function VaultFilterComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div")(1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](6, "i", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](7, "div", 8)(8, "div", 9)(9, "bit-search", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](10, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtwoWayListener"]("ngModelChange", function VaultFilterComponent_div_2_Template_bit_search_ngModelChange_9_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtwoWayBindingSet"](ctx_r1.searchText, $event) || (ctx_r1.searchText = $event); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"]($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("ngModelChange", function VaultFilterComponent_div_2_Template_bit_search_ngModelChange_9_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r1.onSearchTextChanged($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](11, VaultFilterComponent_div_2_ng_container_11_Template, 3, 2, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](3, 5, "filters"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpropertyInterpolate"]("appA11yTitle", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](5, 7, "learnMoreAboutSearchingYourVault"));
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](10, 9, ctx_r1.searchPlaceholder));
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtwoWayProperty"]("ngModel", ctx_r1.searchText);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngForOf", ctx_r1.filtersList);
} }
class VaultFilterComponent extends _vault_individual_vault_vault_filter_components_vault_filter_component__WEBPACK_IMPORTED_MODULE_9__.VaultFilterComponent {
    set organization(value) {
        if (value && value !== this._organization) {
            this._organization = value;
            this.vaultFilterService.setOrganizationFilter(this._organization);
        }
    }
    constructor(vaultFilterService, policyService, i18nService, platformUtilsService, toastService, billingApiService, dialogService, accountService, restrictedItemTypesService, cipherService, cipherArchiveService) {
        super(vaultFilterService, policyService, i18nService, platformUtilsService, toastService, billingApiService, dialogService, accountService, restrictedItemTypesService, cipherService, cipherArchiveService);
        this.vaultFilterService = vaultFilterService;
        this.policyService = policyService;
        this.i18nService = i18nService;
        this.platformUtilsService = platformUtilsService;
        this.toastService = toastService;
        this.billingApiService = billingApiService;
        this.dialogService = dialogService;
        this.accountService = accountService;
        this.restrictedItemTypesService = restrictedItemTypesService;
        this.cipherService = cipherService;
        this.cipherArchiveService = cipherArchiveService;
    }
    ngOnInit() {
        return __awaiter(this, void 0, void 0, function* () {
            this.filters = yield this.buildAllFilters();
            if (!this.activeFilter.selectedCipherTypeNode) {
                this.activeFilter.resetFilter();
                this.activeFilter.selectedCollectionNode =
                    (yield this.getDefaultFilter());
            }
            this.isLoaded = true;
        });
    }
    ngOnChanges(changes) {
        return __awaiter(this, void 0, void 0, function* () {
            if (changes.organization) {
                this.filters = yield this.buildAllFilters();
            }
        });
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    removeCollapsibleCollection() {
        return __awaiter(this, void 0, void 0, function* () {
            const collapsedNodes = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.firstValueFrom)(this.vaultFilterService.collapsedFilterNodes$);
            collapsedNodes.delete("AllCollections");
            const userId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.firstValueFrom)(this.activeUserId$);
            yield this.vaultFilterService.setCollapsedFilterNodes(collapsedNodes, userId);
        });
    }
    addCollectionFilter() {
        return __awaiter(this, void 0, void 0, function* () {
            // Ensure the Collections filter is never collapsed for the org vault
            // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.
            // eslint-disable-next-line @typescript-eslint/no-floating-promises
            this.removeCollapsibleCollection();
            const collectionFilterSection = {
                data$: this.vaultFilterService.buildTypeTree({
                    id: "AllCollections",
                    name: "collections",
                    type: "all",
                    icon: "bwi-collection-shared",
                }, [
                    {
                        id: "AllCollections",
                        name: "Collections",
                        type: "all",
                        icon: "bwi-collection-shared",
                    },
                ]),
                header: {
                    showHeader: false,
                    isSelectable: true,
                },
                action: this.applyCollectionFilter,
            };
            return collectionFilterSection;
        });
    }
    buildAllFilters() {
        return __awaiter(this, void 0, void 0, function* () {
            var _a;
            const builderFilter = {};
            builderFilter.typeFilter = yield this.addTypeFilter(["favorites"], (_a = this._organization) === null || _a === void 0 ? void 0 : _a.id);
            builderFilter.collectionFilter = yield this.addCollectionFilter();
            builderFilter.trashFilter = yield this.addTrashFilter();
            return builderFilter;
        });
    }
    getDefaultFilter() {
        return __awaiter(this, void 0, void 0, function* () {
            var _a;
            return yield (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.firstValueFrom)((_a = this.filters) === null || _a === void 0 ? void 0 : _a.collectionFilter.data$);
        });
    }
}
VaultFilterComponent.ɵfac = function VaultFilterComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_10__.VaultFilterService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.PolicyService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_5__.PlatformUtilsService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_15__.ToastService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_3__.BillingApiServiceAbstraction), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_16__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_vault_services_restricted_item_types_service__WEBPACK_IMPORTED_MODULE_8__.RestrictedItemTypesService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_7__.CipherService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_bitwarden_common_vault_abstractions_cipher_archive_service__WEBPACK_IMPORTED_MODULE_6__.CipherArchiveService)); };
VaultFilterComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: VaultFilterComponent, selectors: [["app-organization-vault-filter"]], inputs: { organization: "organization" }, standalone: false, features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 2, consts: [["data-testid", "filters", 1, "tw-border", "tw-border-solid", "tw-border-secondary-300", "tw-rounded"], ["class", "tw-text-center tw-p-5", 4, "ngIf"], [4, "ngIf"], [1, "tw-text-center", "tw-p-5"], ["aria-hidden", "true", 1, "bwi", "bwi-spinner", "bwi-spin"], ["data-testid", "filters-header", 1, "tw-bg-background-alt", "tw-border-0", "tw-border-b", "tw-border-solid", "tw-border-secondary-100", "tw-rounded-t", "tw-px-5", "tw-py-2.5", "tw-font-semibold", "tw-uppercase"], ["bitLink", "", "href", "https://bitwarden.com/help/searching-vault/", "target", "_blank", "rel", "noreferrer", 1, "tw-float-right", 3, "appA11yTitle"], ["aria-hidden", "true", 1, "bwi", "bwi-question-circle"], ["data-testid", "filters-body", 1, "tw-p-5"], [1, "tw-mb-4"], ["id", "search", "autocomplete", "off", "appAutofocus", "", 3, "ngModelChange", "placeholder", "ngModel"], [4, "ngFor", "ngForOf"], [1, "filter"], [3, "activeFilter", "section"]], template: function VaultFilterComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](1, VaultFilterComponent_div_1_Template, 2, 0, "div", 1)(2, VaultFilterComponent_div_2_Template, 12, 11, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", !ctx.isLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.isLoaded);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgModel, _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_19__.A11yTitleDirective, _libs_components_src_input_autofocus_directive__WEBPACK_IMPORTED_MODULE_20__.AutofocusDirective, _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_21__.AnchorLinkDirective, _vault_individual_vault_vault_filter_shared_components_vault_filter_section_component__WEBPACK_IMPORTED_MODULE_11__.VaultFilterSectionComponent, _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_22__.SearchComponent, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_12__.I18nPipe], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.module.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault-filter/vault-filter.module.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultFilterModule: () => (/* binding */ VaultFilterModule)
/* harmony export */ });
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/search/search.module.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service */ "./src/app/vault/individual-vault/vault-filter/services/abstractions/vault-filter.service.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_vault_filter_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/shared/vault-filter-shared.module */ "./src/app/vault/individual-vault/vault-filter/shared/vault-filter-shared.module.ts");
/* harmony import */ var _vault_filter_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vault-filter.service */ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");





class VaultFilterModule {
}
VaultFilterModule.ɵfac = function VaultFilterModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultFilterModule)(); };
VaultFilterModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineNgModule"]({ type: VaultFilterModule });
VaultFilterModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjector"]({ providers: [
        {
            provide: _vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_0__.VaultFilterService,
            useClass: _vault_filter_service__WEBPACK_IMPORTED_MODULE_2__.VaultFilterService,
        },
    ], imports: [_vault_individual_vault_vault_filter_shared_vault_filter_shared_module__WEBPACK_IMPORTED_MODULE_1__.VaultFilterSharedModule, _bitwarden_components__WEBPACK_IMPORTED_MODULE_4__.SearchModule] });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.service.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault-filter/vault-filter.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultFilterService: () => (/* binding */ VaultFilterService)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/Subject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/ReplaySubject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction */ "../../libs/common/src/admin-console/abstractions/policy/policy.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/config/config.service */ "../../libs/common/src/platform/abstractions/config/config.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/platform/state */ "../../libs/common/src/platform/state/index.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/cipher.service */ "../../libs/common/src/vault/abstractions/cipher.service.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_folder_folder_service_abstraction__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/folder/folder.service.abstraction */ "../../libs/common/src/vault/abstractions/folder/folder.service.abstraction.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_vault_filter_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/services/vault-filter.service */ "./src/app/vault/individual-vault/vault-filter/services/vault-filter.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





















class VaultFilterService extends _vault_individual_vault_vault_filter_services_vault_filter_service__WEBPACK_IMPORTED_MODULE_9__.VaultFilterService {
    constructor(organizationService, folderService, cipherService, policyService, i18nService, stateProvider, collectionService, accountService, configService) {
        super(organizationService, folderService, cipherService, policyService, i18nService, stateProvider, collectionService, accountService, configService);
        this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
        this._collections = new rxjs__WEBPACK_IMPORTED_MODULE_11__.ReplaySubject(1);
        this.filteredCollections$ = this._collections.asObservable();
        this.collectionTree$ = this.filteredCollections$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.map)((collections) => this.buildCollectionTree(collections)));
    }
    reloadCollections(collections) {
        return __awaiter(this, void 0, void 0, function* () {
            this._collections.next(collections);
        });
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
}
VaultFilterService.ɵfac = function VaultFilterService_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultFilterService)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_vault_abstractions_folder_folder_service_abstraction__WEBPACK_IMPORTED_MODULE_8__.FolderService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_7__.CipherService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_2__.PolicyService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_5__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_platform_state__WEBPACK_IMPORTED_MODULE_6__.StateProvider), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_4__.ConfigService)); };
VaultFilterService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjectable"]({ token: VaultFilterService, factory: VaultFilterService.ɵfac });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault-header/vault-header.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault-header/vault-header.component.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultHeaderComponent: () => (/* binding */ VaultHeaderComponent)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/angular/jslib.module */ "../../libs/angular/src/jslib.module.ts");
/* harmony import */ var _bitwarden_common_admin_console_models_domain_organization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/admin-console/models/domain/organization */ "../../libs/common/src/admin-console/models/domain/organization.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_billing_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/billing/enums */ "../../libs/common/src/billing/enums/index.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_vault_enums__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/vault/enums */ "../../libs/common/src/vault/enums/index.ts");
/* harmony import */ var _bitwarden_common_vault_models_domain_tree_node__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/vault/models/domain/tree-node */ "../../libs/common/src/vault/models/domain/tree-node.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/menu/menu.module.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/breadcrumbs/breadcrumbs.module.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/search/search.module.ts");
/* harmony import */ var _bitwarden_vault__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/vault */ "../../libs/vault/src/index.ts");
/* harmony import */ var _layouts_header_header_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layouts/header/header.module */ "./src/app/layouts/header/header.module.ts");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared */ "./src/app/shared/index.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model */ "./src/app/vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model.ts");
/* harmony import */ var _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shared/components/collection-dialog */ "./src/app/admin-console/organizations/shared/components/collection-dialog/index.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _libs_components_src_menu_menu_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/menu/menu.component */ "../../libs/components/src/menu/menu.component.ts");
/* harmony import */ var _libs_components_src_menu_menu_trigger_for_directive__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/menu/menu-trigger-for.directive */ "../../libs/components/src/menu/menu-trigger-for.directive.ts");
/* harmony import */ var _libs_components_src_menu_menu_item_directive__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/menu/menu-item.directive */ "../../libs/components/src/menu/menu-item.directive.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/icon-button/icon-button.component */ "../../libs/components/src/icon-button/icon-button.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
/* harmony import */ var _libs_components_src_breadcrumbs_breadcrumbs_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/breadcrumbs/breadcrumbs.component */ "../../libs/components/src/breadcrumbs/breadcrumbs.component.ts");
/* harmony import */ var _libs_components_src_breadcrumbs_breadcrumb_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/breadcrumbs/breadcrumb.component */ "../../libs/components/src/breadcrumbs/breadcrumb.component.ts");
/* harmony import */ var _layouts_header_web_header_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../layouts/header/web-header.component */ "./src/app/layouts/header/web-header.component.ts");
/* harmony import */ var _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../../../../libs/components/src/search/search.component */ "../../libs/components/src/search/search.component.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore
// FIXME: rename output bindings and then remove this line
/* eslint-disable @angular-eslint/no-output-on-prefix */




































const _c0 = () => [];
const _c1 = a0 => ({ organizationId: a0, collectionId: null });
const _c2 = a0 => ({ collectionId: a0 });
function VaultHeaderComponent_bit_breadcrumbs_1_bit_breadcrumb_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "bit-breadcrumb", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const collection_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("route", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](3, _c0))("queryParams", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction1"](4, _c2, collection_r1.id));
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", collection_r1.name, " ");
} }
function VaultHeaderComponent_bit_breadcrumbs_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "bit-breadcrumbs", 7)(1, "bit-breadcrumb", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](6, "lowercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](8, VaultHeaderComponent_bit_breadcrumbs_1_bit_breadcrumb_8_Template, 2, 6, "bit-breadcrumb", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("route", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](9, _c0))("queryParams", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction1"](10, _c1, ctx_r1.organization.id));
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r1.organization.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](6, 7, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](5, 5, "collections")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r1.collections);
} }
function VaultHeaderComponent_Conditional_3_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function VaultHeaderComponent_Conditional_3_ng_container_5_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r3); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.editCollection(ctx_r1.CollectionDialogTabType.Info, false)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](2, "i", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](4, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](5, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function VaultHeaderComponent_Conditional_3_ng_container_5_Template_button_click_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r3); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.editCollection(ctx_r1.CollectionDialogTabType.Access, false)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](6, "i", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](8, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](4, 2, "editInfo"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](8, 4, "access"), " ");
} }
function VaultHeaderComponent_Conditional_3_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function VaultHeaderComponent_Conditional_3_ng_container_6_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.editCollection(ctx_r1.CollectionDialogTabType.Info, true)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](2, "i", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](4, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](5, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function VaultHeaderComponent_Conditional_3_ng_container_6_Template_button_click_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.editCollection(ctx_r1.CollectionDialogTabType.Access, true)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](6, "i", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](8, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](4, 2, "viewInfo"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](8, 4, "viewAccess"), " ");
} }
function VaultHeaderComponent_Conditional_3_button_7_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function VaultHeaderComponent_Conditional_3_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r5); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.deleteCollection()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](2, "i", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](4, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](4, 1, "delete"), " ");
} }
function VaultHeaderComponent_Conditional_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](3, "bit-menu", null, 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, VaultHeaderComponent_Conditional_3_ng_container_5_Template, 9, 6, "ng-container", 4)(6, VaultHeaderComponent_Conditional_3_ng_container_6_Template, 9, 6, "ng-container", 4)(7, VaultHeaderComponent_Conditional_3_button_7_Template, 5, 3, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const editCollectionMenu_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](4);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("bitMenuTriggerFor", editCollectionMenu_r6)("label", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](2, 5, "editCollection"));
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r1.canEditCollection);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", !ctx_r1.canEditCollection && ctx_r1.canViewCollectionInfo);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r1.canDeleteCollection);
} }
function VaultHeaderComponent_small_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "i", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](3, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](2, 2, "loading"));
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](5, 4, "loading"));
} }
function VaultHeaderComponent_bit_search_5_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "bit-search", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("ngModelChange", function VaultHeaderComponent_bit_search_5_Template_bit_search_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r7); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.onSearchTextChanged($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngModel", ctx_r1.searchText)("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](1, 2, "searchCollection"));
} }
function VaultHeaderComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 21)(1, "vault-new-cipher-menu", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("cipherAdded", function VaultHeaderComponent_div_6_Template_vault_new_cipher_menu_cipherAdded_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r8); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.addCipher($event)); })("collectionAdded", function VaultHeaderComponent_div_6_Template_vault_new_cipher_menu_collectionAdded_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r8); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r1.addCollection()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("canCreateCipher", ctx_r1.canCreateCipher)("canCreateCollection", ctx_r1.canCreateCollection);
} }
class VaultHeaderComponent {
    constructor(i18nService, dialogService, collectionAdminService, router, accountService) {
        this.i18nService = i18nService;
        this.dialogService = dialogService;
        this.collectionAdminService = collectionAdminService;
        this.router = router;
        this.accountService = accountService;
        this.All = _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_12__.All;
        this.Unassigned = _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned;
        /** Emits an event when the new item button is clicked in the header */
        this.onAddCipher = new _angular_core__WEBPACK_IMPORTED_MODULE_16__.EventEmitter();
        /** Emits an event when the new collection button is clicked in the header */
        this.onAddCollection = new _angular_core__WEBPACK_IMPORTED_MODULE_16__.EventEmitter();
        /** Emits an event when the edit collection button is clicked in the header */
        this.onEditCollection = new _angular_core__WEBPACK_IMPORTED_MODULE_16__.EventEmitter();
        /** Emits an event when the delete collection button is clicked in the header */
        this.onDeleteCollection = new _angular_core__WEBPACK_IMPORTED_MODULE_16__.EventEmitter();
        /** Emits an event when the search text changes in the header*/
        this.searchTextChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_16__.EventEmitter();
        this.CollectionDialogTabType = _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_13__.CollectionDialogTabType;
        /** The cipher type enum. */
        this.CipherType = _bitwarden_common_vault_enums__WEBPACK_IMPORTED_MODULE_7__.CipherType;
    }
    get title() {
        var _a, _b;
        const headerType = this.i18nService.t("collections").toLowerCase();
        if (this.collection != null) {
            return this.collection.node.name;
        }
        if (this.filter.collectionId === _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned) {
            return this.i18nService.t("unassigned");
        }
        return ((_a = this.organization) === null || _a === void 0 ? void 0 : _a.name)
            ? `${(_b = this.organization) === null || _b === void 0 ? void 0 : _b.name} ${headerType}`
            : this.i18nService.t("collections");
    }
    get icon() {
        return this.filter.collectionId !== undefined ? "bwi-collection-shared" : "";
    }
    get showBreadcrumbs() {
        return this.filter.collectionId !== undefined && this.filter.collectionId !== _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_12__.All;
    }
    /**
     * A list of collection filters that form a chain from the organization root to currently selected collection.
     * Begins from the organization root and excludes the currently selected collection.
     */
    get collections() {
        if (this.collection == undefined) {
            return [];
        }
        const collections = [this.collection];
        while (collections[collections.length - 1].parent != undefined) {
            collections.push(collections[collections.length - 1].parent);
        }
        return collections
            .slice(1)
            .reverse()
            .map((treeNode) => treeNode.node);
    }
    showFreeOrgUpgradeDialog() {
        const orgUpgradeSimpleDialogOpts = {
            title: this.i18nService.t("upgradeOrganization"),
            content: this.i18nService.t(this.organization.canEditSubscription
                ? "freeOrgMaxCollectionReachedManageBilling"
                : "freeOrgMaxCollectionReachedNoManageBilling", this.organization.maxCollections),
            type: "primary",
        };
        if (this.organization.canEditSubscription) {
            orgUpgradeSimpleDialogOpts.acceptButtonText = this.i18nService.t("upgrade");
        }
        else {
            orgUpgradeSimpleDialogOpts.acceptButtonText = this.i18nService.t("ok");
            orgUpgradeSimpleDialogOpts.cancelButtonText = null; // hide secondary btn
        }
        const simpleDialog = this.dialogService.openSimpleDialogRef(orgUpgradeSimpleDialogOpts);
        // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.firstValueFrom)(simpleDialog.closed).then((result) => {
            if (!result) {
                return;
            }
            if (result && this.organization.canEditSubscription) {
                // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.
                // eslint-disable-next-line @typescript-eslint/no-floating-promises
                this.router.navigate(["/organizations", this.organization.id, "billing", "subscription"], {
                    queryParams: { upgrade: true },
                });
            }
        });
    }
    get canEditCollection() {
        // Only edit collections if not editing "Unassigned"
        if (this.collection === undefined) {
            return false;
        }
        // Otherwise, check if we can edit the specified collection
        return this.collection.node.canEdit(this.organization);
    }
    addCipher(cipherType) {
        this.onAddCipher.emit(cipherType);
    }
    addCollection() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.organization.productTierType === _bitwarden_common_billing_enums__WEBPACK_IMPORTED_MODULE_5__.ProductTierType.Free) {
                const collections = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.firstValueFrom)(this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_4__.getUserId, (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.switchMap)((userId) => this.collectionAdminService.collectionAdminViews$(this.organization.id, userId))));
                if (collections.length === this.organization.maxCollections) {
                    this.showFreeOrgUpgradeDialog();
                    return;
                }
            }
            this.onAddCollection.emit();
        });
    }
    editCollection(tab, readonly) {
        return __awaiter(this, void 0, void 0, function* () {
            this.onEditCollection.emit({ tab, readonly });
        });
    }
    get canDeleteCollection() {
        // Only delete collections if not deleting "Unassigned"
        if (this.collection === undefined) {
            return false;
        }
        // Otherwise, check if we can delete the specified collection
        return this.collection.node.canDelete(this.organization);
    }
    get canViewCollectionInfo() {
        return this.collection.node.canViewCollectionInfo(this.organization);
    }
    get canCreateCollection() {
        var _a;
        return (_a = this.organization) === null || _a === void 0 ? void 0 : _a.canCreateNewCollections;
    }
    get canCreateCipher() {
        var _a, _b;
        if (((_a = this.organization) === null || _a === void 0 ? void 0 : _a.isProviderUser) && !((_b = this.organization) === null || _b === void 0 ? void 0 : _b.isMember)) {
            return false;
        }
        return true;
    }
    deleteCollection() {
        this.onDeleteCollection.emit();
    }
    onSearchTextChanged(t) {
        this.searchText = t;
        this.searchTextChanged.emit(t);
    }
}
VaultHeaderComponent.ɵfac = function VaultHeaderComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultHeaderComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_6__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_19__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionAdminService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_20__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__.AccountService)); };
VaultHeaderComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineComponent"]({ type: VaultHeaderComponent, selectors: [["app-org-vault-header"]], inputs: { loading: "loading", filter: "filter", organization: "organization", collection: "collection", searchText: "searchText" }, outputs: { onAddCipher: "onAddCipher", onAddCollection: "onAddCollection", onEditCollection: "onEditCollection", onDeleteCollection: "onDeleteCollection", searchTextChanged: "searchTextChanged" }, decls: 7, vars: 7, consts: [["editCollectionMenu", ""], [3, "title", "icon"], ["slot", "breadcrumbs", 4, "ngIf"], ["slot", "title-suffix"], [4, "ngIf"], ["class", "tw-grow", 3, "ngModel", "placeholder", "ngModelChange", 4, "ngIf"], ["class", "tw-shrink-0", 4, "ngIf"], ["slot", "breadcrumbs"], ["queryParamsHandling", "merge", 3, "route", "queryParams"], ["icon", "bwi-collection-shared", "queryParamsHandling", "merge", 3, "route", "queryParams", 4, "ngFor", "ngForOf"], ["icon", "bwi-collection-shared", "queryParamsHandling", "merge", 3, "route", "queryParams"], ["bitIconButton", "bwi-angle-down", "size", "small", "type", "button", 3, "bitMenuTriggerFor", "label"], ["type", "button", "bitMenuItem", "", 3, "click", 4, "ngIf"], ["type", "button", "bitMenuItem", "", 3, "click"], ["aria-hidden", "true", 1, "bwi", "bwi-fw", "bwi-pencil-square"], ["aria-hidden", "true", 1, "bwi", "bwi-fw", "bwi-users"], [1, "tw-text-danger"], ["aria-hidden", "true", 1, "bwi", "bwi-fw", "bwi-trash"], ["aria-hidden", "true", 1, "bwi", "bwi-spinner", "bwi-spin", "tw-text-muted", 3, "title"], [1, "tw-sr-only"], [1, "tw-grow", 3, "ngModelChange", "ngModel", "placeholder"], [1, "tw-shrink-0"], [3, "cipherAdded", "collectionAdded", "canCreateCipher", "canCreateCollection"]], template: function VaultHeaderComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "app-header", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, VaultHeaderComponent_bit_breadcrumbs_1_Template, 9, 12, "bit-breadcrumbs", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](3, VaultHeaderComponent_Conditional_3_Template, 8, 7, "ng-container")(4, VaultHeaderComponent_small_4_Template, 6, 6, "small", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, VaultHeaderComponent_bit_search_5_Template, 2, 4, "bit-search", 5)(6, VaultHeaderComponent_div_6_Template, 2, 2, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("title", ctx.title)("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.showBreadcrumbs);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵconditional"](ctx.collection != null && (ctx.canEditCollection || ctx.canDeleteCollection || ctx.canViewCollectionInfo) ? 3 : -1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", (ctx.organization == null ? null : ctx.organization.isProviderUser) && !(ctx.organization == null ? null : ctx.organization.isMember));
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.filter.type !== "trash" && ctx.filter.collectionId !== ctx.Unassigned && ctx.organization);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_21__.CommonModule, _angular_common__WEBPACK_IMPORTED_MODULE_21__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_21__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_21__.LowerCasePipe, _bitwarden_components__WEBPACK_IMPORTED_MODULE_22__.MenuModule, _libs_components_src_menu_menu_component__WEBPACK_IMPORTED_MODULE_23__.MenuComponent, _libs_components_src_menu_menu_trigger_for_directive__WEBPACK_IMPORTED_MODULE_24__.MenuTriggerForDirective, _libs_components_src_menu_menu_item_directive__WEBPACK_IMPORTED_MODULE_25__.MenuItemDirective, _shared__WEBPACK_IMPORTED_MODULE_11__.SharedModule, _angular_forms__WEBPACK_IMPORTED_MODULE_26__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_26__.NgModel, _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_27__.BitIconButtonComponent, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_14__.I18nPipe, _bitwarden_components__WEBPACK_IMPORTED_MODULE_28__.BreadcrumbsModule, _libs_components_src_breadcrumbs_breadcrumbs_component__WEBPACK_IMPORTED_MODULE_29__.BreadcrumbsComponent, _libs_components_src_breadcrumbs_breadcrumb_component__WEBPACK_IMPORTED_MODULE_30__.BreadcrumbComponent, _layouts_header_header_module__WEBPACK_IMPORTED_MODULE_10__.HeaderModule, _layouts_header_web_header_component__WEBPACK_IMPORTED_MODULE_15__.WebHeaderComponent, _bitwarden_components__WEBPACK_IMPORTED_MODULE_31__.SearchModule, _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_32__.SearchComponent, _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_1__.JslibModule,
        _bitwarden_vault__WEBPACK_IMPORTED_MODULE_9__.NewCipherMenuComponent], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault-routing.module.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault-routing.module.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultRoutingModule: () => (/* binding */ VaultRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router_module-DTJgGWLd.mjs");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _guards_org_permissions_guard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../guards/org-permissions.guard */ "./src/app/admin-console/organizations/guards/org-permissions.guard.ts");
/* harmony import */ var _vault_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vault.component */ "./src/app/admin-console/organizations/collections/vault.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");






const routes = [
    {
        data: { titleId: "vaults" },
        path: "",
        canActivate: [(0,_guards_org_permissions_guard__WEBPACK_IMPORTED_MODULE_1__.organizationPermissionsGuard)(_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.canAccessVaultTab)],
        component: _vault_component__WEBPACK_IMPORTED_MODULE_2__.VaultComponent,
    },
];
class VaultRoutingModule {
}
VaultRoutingModule.ɵfac = function VaultRoutingModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultRoutingModule)(); };
VaultRoutingModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineNgModule"]({ type: VaultRoutingModule });
VaultRoutingModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjector"]({ imports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule] });


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault.component.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultComponent: () => (/* binding */ VaultComponent)
/* harmony export */ });
/* harmony import */ var _angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! @angular/core/rxjs-interop */ "../../node_modules/@angular/core/fesm2022/rxjs-interop.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/of.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/Subject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/merge.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/zip.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/filter.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/concatMap.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/startWith.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/take.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/first.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/catchError.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_angular_pipes_search_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/angular/pipes/search.pipe */ "../../libs/angular/src/pipes/search.pipe.ts");
/* harmony import */ var _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @bitwarden/assets/svg */ "../../libs/assets/src/svg/svgs/no-results.ts");
/* harmony import */ var _bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/abstractions/api.service */ "../../libs/common/src/abstractions/api.service.ts");
/* harmony import */ var _bitwarden_common_abstractions_event_event_collection_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/abstractions/event/event-collection.service */ "../../libs/common/src/abstractions/event/event-collection.service.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/billing/abstractions/billing-api.service.abstraction */ "../../libs/common/src/billing/abstractions/billing-api.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_enums__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/enums */ "../../libs/common/src/enums/index.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_broadcaster_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/broadcaster.service */ "../../libs/common/src/platform/abstractions/broadcaster.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/log.service */ "../../libs/common/src/platform/abstractions/log.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_messaging_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/messaging.service */ "../../libs/common/src/platform/abstractions/messaging.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/platform-utils.service */ "../../libs/common/src/platform/abstractions/platform-utils.service.ts");
/* harmony import */ var _bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @bitwarden/common/platform/misc */ "../../libs/common/src/platform/misc/index.ts");
/* harmony import */ var _bitwarden_common_platform_misc_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @bitwarden/common/platform/misc/utils */ "../../libs/common/src/platform/misc/utils.ts");
/* harmony import */ var _bitwarden_common_platform_sync__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @bitwarden/common/platform/sync */ "../../libs/common/src/platform/sync/index.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/cipher.service */ "../../libs/common/src/vault/abstractions/cipher.service.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_search_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/search.service */ "../../libs/common/src/vault/abstractions/search.service.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_totp_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/totp.service */ "../../libs/common/src/vault/abstractions/totp.service.ts");
/* harmony import */ var _bitwarden_common_vault_enums_cipher_reprompt_type__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @bitwarden/common/vault/enums/cipher-reprompt-type */ "../../libs/common/src/vault/enums/cipher-reprompt-type.ts");
/* harmony import */ var _bitwarden_common_vault_service_utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @bitwarden/common/vault/service-utils */ "../../libs/common/src/vault/service-utils.ts");
/* harmony import */ var _bitwarden_common_vault_services_restricted_item_types_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @bitwarden/common/vault/services/restricted-item-types.service */ "../../libs/common/src/vault/services/restricted-item-types.service.ts");
/* harmony import */ var _bitwarden_common_vault_utils_cipher_view_like_utils__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @bitwarden/common/vault/utils/cipher-view-like-utils */ "../../libs/common/src/vault/utils/cipher-view-like-utils.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/banner/banner.module.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/no-items/no-items.module.ts");
/* harmony import */ var _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @bitwarden/vault */ "../../libs/vault/src/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_components__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/components */ "./src/app/billing/organizations/warnings/components/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/services */ "./src/app/billing/organizations/warnings/services/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_vault_components_vault_items_vault_items_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../vault/components/vault-items/vault-items.component */ "./src/app/vault/components/vault-items/vault-items.component.ts");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../shared */ "./src/app/shared/index.ts");
/* harmony import */ var _vault_components_assign_collections__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../vault/components/assign-collections */ "./src/app/vault/components/assign-collections/index.ts");
/* harmony import */ var _vault_components_vault_item_dialog_vault_item_dialog_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../vault/components/vault-item-dialog/vault-item-dialog.component */ "./src/app/vault/components/vault-item-dialog/vault-item-dialog.component.ts");
/* harmony import */ var _vault_components_vault_items_vault_items_module__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../vault/components/vault-items/vault-items.module */ "./src/app/vault/components/vault-items/vault-items.module.ts");
/* harmony import */ var _vault_individual_vault_bulk_action_dialogs_bulk_delete_dialog_bulk_delete_dialog_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../vault/individual-vault/bulk-action-dialogs/bulk-delete-dialog/bulk-delete-dialog.component */ "./src/app/vault/individual-vault/bulk-action-dialogs/bulk-delete-dialog/bulk-delete-dialog.component.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/services/abstractions/vault-filter.service */ "./src/app/vault/individual-vault/vault-filter/services/abstractions/vault-filter.service.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_routed_vault_filter_bridge_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/services/routed-vault-filter-bridge.service */ "./src/app/vault/individual-vault/vault-filter/services/routed-vault-filter-bridge.service.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_services_routed_vault_filter_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/services/routed-vault-filter.service */ "./src/app/vault/individual-vault/vault-filter/services/routed-vault-filter.service.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_models_filter_function__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/shared/models/filter-function */ "./src/app/vault/individual-vault/vault-filter/shared/models/filter-function.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model */ "./src/app/vault/individual-vault/vault-filter/shared/models/routed-vault-filter.model.ts");
/* harmony import */ var _vault_individual_vault_vault_filter_shared_models_vault_filter_model__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../vault/individual-vault/vault-filter/shared/models/vault-filter.model */ "./src/app/vault/individual-vault/vault-filter/shared/models/vault-filter.model.ts");
/* harmony import */ var _vault_org_vault_services_admin_console_cipher_form_config_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../vault/org-vault/services/admin-console-cipher-form-config.service */ "./src/app/vault/org-vault/services/admin-console-cipher-form-config.service.ts");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../core */ "./src/app/admin-console/organizations/core/index.ts");
/* harmony import */ var _manage_entity_events_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../manage/entity-events.component */ "./src/app/admin-console/organizations/manage/entity-events.component.ts");
/* harmony import */ var _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../shared/components/collection-dialog */ "./src/app/admin-console/organizations/shared/components/collection-dialog/index.ts");
/* harmony import */ var _bulk_collections_dialog__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./bulk-collections-dialog */ "./src/app/admin-console/organizations/collections/bulk-collections-dialog/index.ts");
/* harmony import */ var _collection_access_restricted_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./collection-access-restricted.component */ "./src/app/admin-console/organizations/collections/collection-access-restricted.component.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./utils */ "./src/app/admin-console/organizations/collections/utils/index.ts");
/* harmony import */ var _vault_filter_vault_filter_module__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./vault-filter/vault-filter.module */ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.module.ts");
/* harmony import */ var _vault_header_vault_header_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./vault-header/vault-header.component */ "./src/app/admin-console/organizations/collections/vault-header/vault-header.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _vault_filter_vault_filter_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./vault-filter/vault-filter.component */ "./src/app/admin-console/organizations/collections/vault-filter/vault-filter.component.ts");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_callout_callout_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../../../../../../../libs/components/src/callout/callout.component */ "../../libs/components/src/callout/callout.component.ts");
/* harmony import */ var _libs_components_src_no_items_no_items_component__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../../../../../../../libs/components/src/no-items/no-items.component */ "../../libs/components/src/no-items/no-items.component.ts");
/* harmony import */ var _libs_components_src_toggle_group_toggle_group_component__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../../../../../../../libs/components/src/toggle-group/toggle-group.component */ "../../libs/components/src/toggle-group/toggle-group.component.ts");
/* harmony import */ var _libs_components_src_toggle_group_toggle_component__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../../../../../../../libs/components/src/toggle-group/toggle.component */ "../../libs/components/src/toggle-group/toggle.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


























































































const _c0 = ["vaultItems"];
const _c1 = a0 => [a0];
const _c2 = () => [];
function VaultComponent_Conditional_10_Conditional_0_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "app-organization-free-trial-warning", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("clicked", function VaultComponent_Conditional_10_Conditional_0_Template_app_organization_free_trial_warning_clicked_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.navigateToPaymentMethod()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelement"](1, "app-organization-reseller-renewal-warning", 9);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("organization", organization_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("organization", organization_r3);
} }
function VaultComponent_Conditional_10_Conditional_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "app-org-vault-header", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("onAddCipher", function VaultComponent_Conditional_10_Conditional_1_Template_app_org_vault_header_onAddCipher_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.addCipher($event)); })("onAddCollection", function VaultComponent_Conditional_10_Conditional_1_Template_app_org_vault_header_onAddCollection_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.addCollection()); })("onEditCollection", function VaultComponent_Conditional_10_Conditional_1_Template_app_org_vault_header_onEditCollection_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.editCollection(selectedCollection_r5 == null ? null : selectedCollection_r5.node, $event.tab, $event.readonly)); })("onDeleteCollection", function VaultComponent_Conditional_10_Conditional_1_Template_app_org_vault_header_onDeleteCollection_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.deleteCollection(selectedCollection_r5 == null ? null : selectedCollection_r5.node)); })("searchTextChanged", function VaultComponent_Conditional_10_Conditional_1_Template_app_org_vault_header_searchTextChanged_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.filterSearchText($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2);
    const filter_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](4);
    const refreshing_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("filter", filter_r6)("loading", refreshing_r7)("organization", organization_r3)("collection", selectedCollection_r5)("searchText", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](1, 5, ctx_r1.currentSearchText$));
} }
function VaultComponent_Conditional_10_Conditional_5_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "div", 3)(1, "app-organization-vault-filter", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("searchTextChanged", function VaultComponent_Conditional_10_Conditional_5_Template_app_organization_vault_filter_searchTextChanged_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r8); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.filterSearchText($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("organization", organization_r3)("activeFilter", ctx_r1.activeFilter)("searchText", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](2, 3, ctx_r1.currentSearchText$));
} }
function VaultComponent_Conditional_10_Conditional_7_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "bit-toggle-group", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("selectedChange", function VaultComponent_Conditional_10_Conditional_7_Template_bit_toggle_group_selectedChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r9); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.addAccessToggle($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](3, "bit-toggle", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](6, "bit-toggle", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](8, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("selected", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](1, 6, ctx_r1.addAccessStatus$));
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](2, 8, "addAccessFilter"));
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("value", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](5, 10, "all"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("value", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](8, 12, "addAccess"), " ");
} }
function VaultComponent_Conditional_10_Conditional_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "bit-callout", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate1"](" ", ctx_r1.trashCleanupWarning, " ");
} }
function VaultComponent_Conditional_10_Conditional_9_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "app-vault-items", 14, 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](3, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](4, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("onEvent", function VaultComponent_Conditional_10_Conditional_9_Template_app_vault_items_onEvent_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r10); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.onVaultItemsEvent($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](2);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2);
    const filter_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](4);
    const loading_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("ciphers", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](2, 21, ctx_r1.ciphers$))("collections", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](3, 23, ctx_r1.collections$))("allCollections", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](4, 25, ctx_r1.allCollections$))("allOrganizations", organization_r3 ? _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpureFunction1"](31, _c1, organization_r3) : _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpureFunction0"](33, _c2))("allGroups", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](5, 27, ctx_r1.allGroups$))("disabled", loading_r11)("showOwner", false)("showPermissionsColumn", true)("showCollections", filter_r6.type !== undefined)("showGroups", (organization_r3 == null ? null : organization_r3.useGroups) && (filter_r6.type === undefined && filter_r6.collectionId === undefined || filter_r6.collectionId !== undefined))("showPremiumFeatures", organization_r3 == null ? null : organization_r3.useTotp)("showBulkMove", false)("showBulkTrashOptions", filter_r6.type === "trash")("useEvents", organization_r3 == null ? null : organization_r3.canAccessEventLogs)("showAdminActions", true)("showBulkEditCollectionAccess", true)("showBulkAddToCollections", true)("viewingOrgVault", true)("addAccessStatus", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](6, 29, ctx_r1.addAccessStatus$))("addAccessToggle", ctx_r1.showAddAccessToggle)("activeCollection", selectedCollection_r5 == null ? null : selectedCollection_r5.node);
} }
function VaultComponent_Conditional_10_Conditional_12_Conditional_0_Conditional_4_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("click", function VaultComponent_Conditional_10_Conditional_12_Conditional_0_Conditional_4_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r12); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.addCipher()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelement"](1, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](3, 1, "newItem"), " ");
} }
function VaultComponent_Conditional_10_Conditional_12_Conditional_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "bit-no-items")(1, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](4, VaultComponent_Conditional_10_Conditional_12_Conditional_0_Conditional_4_Template, 4, 3, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](3);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2);
    const filter_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](3, 2, "noItemsInList"));
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](filter_r6 && filter_r6.type !== "trash" && filter_r6.collectionId !== ctx_r1.Unassigned && (!selectedCollection_r5 || (selectedCollection_r5.node == null ? null : selectedCollection_r5.node.canEditItems(organization_r3))) ? 4 : -1);
} }
function VaultComponent_Conditional_10_Conditional_12_Conditional_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "collection-access-restricted", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵlistener"]("viewCollectionClicked", function VaultComponent_Conditional_10_Conditional_12_Conditional_1_Template_collection_access_restricted_viewCollectionClicked_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵrestoreView"](_r13); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](3); const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵresetView"](ctx_r1.editCollection(selectedCollection_r5 == null ? null : selectedCollection_r5.node, $event.tab, $event.readonly)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"](3);
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](0);
    const selectedCollection_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵproperty"]("canEditCollection", selectedCollection_r5 == null ? null : selectedCollection_r5.node == null ? null : selectedCollection_r5.node.canEdit(organization_r3))("canViewCollectionInfo", selectedCollection_r5 == null ? null : selectedCollection_r5.node == null ? null : selectedCollection_r5.node.canViewCollectionInfo(organization_r3));
} }
function VaultComponent_Conditional_10_Conditional_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](0, VaultComponent_Conditional_10_Conditional_12_Conditional_0_Template, 5, 4, "bit-no-items")(1, VaultComponent_Conditional_10_Conditional_12_Conditional_1_Template, 1, 2, "collection-access-restricted", 15);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"]();
    const showCollectionAccessRestricted_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](!showCollectionAccessRestricted_r14 ? 0 : 1);
} }
function VaultComponent_Conditional_10_Conditional_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelement"](1, "i", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](3, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](2, 2, "loading"));
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](5, 4, "loading"));
} }
function VaultComponent_Conditional_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](0, VaultComponent_Conditional_10_Conditional_0_Template, 2, 2)(1, VaultComponent_Conditional_10_Conditional_1_Template, 2, 7, "app-org-vault-header", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](4, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](5, VaultComponent_Conditional_10_Conditional_5_Template, 3, 5, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementStart"](6, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](7, VaultComponent_Conditional_10_Conditional_7_Template, 9, 14, "bit-toggle-group", 4)(8, VaultComponent_Conditional_10_Conditional_8_Template, 2, 1, "bit-callout", 5)(9, VaultComponent_Conditional_10_Conditional_9_Template, 7, 34, "app-vault-items", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](11, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](12, VaultComponent_Conditional_10_Conditional_12_Template, 2, 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](13, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](14, VaultComponent_Conditional_10_Conditional_14_Template, 6, 6, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵnextContext"]();
    const filter_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](4);
    const refreshing_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵreadContextLet"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](!refreshing_r7 ? 0 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](filter_r6 ? 1 : -1);
    const hideVaultFilters_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](4, 10, ctx_r1.hideVaultFilter$);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](!hideVaultFilters_r15 ? 5 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵclassMap"](hideVaultFilters_r15 ? "tw-w-full" : "tw-w-3/4");
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](ctx_r1.showAddAccessToggle && ctx_r1.activeFilter.selectedCollectionNode ? 7 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](ctx_r1.activeFilter.isDeleted ? 8 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](filter_r6 ? 9 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](11, 12, ctx_r1.showCollectionAccessRestricted$));
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](!refreshing_r7 && _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](13, 15, ctx_r1.isEmpty$) ? 12 : -1);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](refreshing_r7 ? 14 : -1);
} }
const BroadcasterSubscriptionId = "OrgVaultComponent";
const SearchTextDebounceInterval = 200;
// FIXME: update to use a const object instead of a typescript enum
// eslint-disable-next-line @bitwarden/platform/no-enums
var AddAccessStatusType;
(function (AddAccessStatusType) {
    AddAccessStatusType[AddAccessStatusType["All"] = 0] = "All";
    AddAccessStatusType[AddAccessStatusType["AddAccess"] = 1] = "AddAccess";
})(AddAccessStatusType || (AddAccessStatusType = {}));
class VaultComponent {
    constructor(route, organizationService, vaultFilterService, routedVaultFilterBridgeService, routedVaultFilterService, router, changeDetectorRef, syncService, i18nService, dialogService, messagingService, broadcasterService, ngZone, platformUtilsService, cipherService, passwordRepromptService, collectionAdminService, searchService, searchPipe, groupService, logService, eventCollectionService, totpService, apiService, toastService, cipherFormConfigService, billingApiService, accountService, organizationWarningsService, collectionService, restrictedItemTypesService) {
        this.route = route;
        this.organizationService = organizationService;
        this.vaultFilterService = vaultFilterService;
        this.routedVaultFilterBridgeService = routedVaultFilterBridgeService;
        this.routedVaultFilterService = routedVaultFilterService;
        this.router = router;
        this.changeDetectorRef = changeDetectorRef;
        this.syncService = syncService;
        this.i18nService = i18nService;
        this.dialogService = dialogService;
        this.messagingService = messagingService;
        this.broadcasterService = broadcasterService;
        this.ngZone = ngZone;
        this.platformUtilsService = platformUtilsService;
        this.cipherService = cipherService;
        this.passwordRepromptService = passwordRepromptService;
        this.collectionAdminService = collectionAdminService;
        this.searchService = searchService;
        this.searchPipe = searchPipe;
        this.groupService = groupService;
        this.logService = logService;
        this.eventCollectionService = eventCollectionService;
        this.totpService = totpService;
        this.apiService = apiService;
        this.toastService = toastService;
        this.cipherFormConfigService = cipherFormConfigService;
        this.billingApiService = billingApiService;
        this.accountService = accountService;
        this.organizationWarningsService = organizationWarningsService;
        this.collectionService = collectionService;
        this.restrictedItemTypesService = restrictedItemTypesService;
        this.Unassigned = _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned;
        this.trashCleanupWarning = this.i18nService.t(this.platformUtilsService.isSelfHost()
            ? "trashCleanupWarningSelfHosted"
            : "trashCleanupWarning");
        this.activeFilter = new _vault_individual_vault_vault_filter_shared_models_vault_filter_model__WEBPACK_IMPORTED_MODULE_38__.VaultFilter();
        this.showAddAccessToggle = false;
        this.noItemIcon = _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_51__.NoResults;
        this.processingEvent$ = new rxjs__WEBPACK_IMPORTED_MODULE_52__.BehaviorSubject(false);
        this.isEmpty$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_53__.of)(false);
        this.prevCipherId = null;
        this.searchText$ = new rxjs__WEBPACK_IMPORTED_MODULE_54__.Subject();
        this.refreshingSubject$ = new rxjs__WEBPACK_IMPORTED_MODULE_52__.BehaviorSubject(true);
        this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_54__.Subject();
        this.addAccessStatus$ = new rxjs__WEBPACK_IMPORTED_MODULE_52__.BehaviorSubject(0);
        this.restore = (c) => __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            if (!_bitwarden_common_vault_utils_cipher_view_like_utils__WEBPACK_IMPORTED_MODULE_23__.CipherViewLikeUtils.isDeleted(c)) {
                return false;
            }
            if (!organization.permissions.editAnyCollection &&
                !c.edit &&
                !organization.allowAdminAccessToAllCollectionItems) {
                this.showMissingPermissionsError();
                return false;
            }
            if (!(yield this.repromptCipher([c]))) {
                return false;
            }
            // Allow restore of an Unassigned Item
            try {
                if (c.id == null || c.id === "") {
                    throw new Error("Cipher must have an Id to be restored");
                }
                const activeUserId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId));
                const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
                const asAdmin = organization.canEditAnyCollection || _bitwarden_common_vault_utils_cipher_view_like_utils__WEBPACK_IMPORTED_MODULE_23__.CipherViewLikeUtils.isUnassigned(c);
                yield this.cipherService.restoreWithServer(c.id, activeUserId, asAdmin);
                this.toastService.showToast({
                    variant: "success",
                    message: this.i18nService.t("restoredItem"),
                });
                this.refresh();
                return true;
            }
            catch (e) {
                this.logService.error(e);
                return false;
            }
        });
        this.CollectionDialogTabType = _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogTabType;
        this.userId$ = this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId);
        this.filter$ = this.routedVaultFilterService.filter$;
        this.organizationId$ =
            // FIXME: The RoutedVaultFilterModel uses `organizationId: Unassigned` to represent the individual vault,
            // but that is never used in Admin Console. This function narrows the type so it doesn't pollute our code here,
            // but really we should change to using our own vault filter model that only represents valid states in AC.
            this.filter$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)((filter) => filter.organizationId), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)((filter) => filter !== undefined), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)((value) => value !== _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_58__.distinctUntilChanged)());
        this.currentSearchText$ = this.route.queryParams.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)((queryParams) => queryParams.search));
        this.organization$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.organizationId$, this.userId$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(([orgId, userId]) => this.organizationService.organizations$(userId).pipe((0,_bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_14__.getById)(orgId))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)((organization) => organization != null), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.hideVaultFilter$ = this.organization$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)((organization) => organization.isProviderUser && !organization.isMember));
        this.allCollectionsWithoutUnassigned$ = this.refreshingSubject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)((refreshing) => refreshing), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.organizationId$, this.userId$])), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(([orgId, userId]) => this.collectionAdminService.collectionAdminViews$(orgId, userId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.allCollections$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.organizationId$,
            this.allCollectionsWithoutUnassigned$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([organizationId, allCollections]) => {
            // FIXME: We should not assert that the Unassigned type is a CollectionId.
            // Instead we should consider representing the Unassigned collection as a different object, given that
            // it is not actually a collection.
            const noneCollection = new _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionAdminView({
                name: this.i18nService.t("unassigned"),
                id: _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned,
                organizationId: organizationId,
            });
            return allCollections.concat(noneCollection);
        }));
        this.nestedCollections$ = this.allCollections$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)((collections) => (0,_utils__WEBPACK_IMPORTED_MODULE_45__.getNestedCollectionTree)(collections)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.allGroups$ = this.organizationId$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((organizationId) => this.groupService.getAll(organizationId)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.allCiphers$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.organization$,
            this.userId$,
            this.restrictedItemTypesService.restricted$,
            this.refreshingSubject$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((_a) => __awaiter(this, [_a], void 0, function* ([organization, userId, restricted]) {
            // If user swaps organization reset the addAccessToggle
            if (!this.showAddAccessToggle || organization) {
                this.addAccessToggle(0);
            }
            let ciphers;
            // Restricted providers (who are not members) do not have access org cipher endpoint below
            // Return early to avoid 404 response
            if (!organization.isMember && organization.isProviderUser) {
                return [];
            }
            // If the user can edit all ciphers for the organization then fetch them ALL.
            if (organization.canEditAllCiphers) {
                ciphers = yield this.cipherService.getAllFromApiForOrganization(organization.id);
                ciphers.forEach((c) => (c.edit = true));
            }
            else {
                // Otherwise, only fetch ciphers they have access to (includes unassigned for admins).
                ciphers = yield this.cipherService.getManyFromApiForOrganization(organization.id);
            }
            // Filter out restricted ciphers before indexing
            ciphers = ciphers.filter((cipher) => !this.restrictedItemTypesService.isCipherRestricted(cipher, restricted));
            yield this.searchService.indexCiphers(userId, ciphers, organization.id);
            return ciphers;
        })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.selectedCollection$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.nestedCollections$, this.filter$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)(([collections, filter]) => collections != undefined && filter != undefined), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([collections, filter]) => {
            if (filter.collectionId === undefined ||
                filter.collectionId === _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_37__.All ||
                filter.collectionId === _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned) {
                return;
            }
            return _bitwarden_common_vault_service_utils__WEBPACK_IMPORTED_MODULE_21__.ServiceUtils.getTreeNodeObjectFromList(collections, filter.collectionId);
        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.showCollectionAccessRestricted$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.filter$,
            this.selectedCollection$,
            this.organization$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([filter, collection, organization]) => {
            return ((filter.collectionId === _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned && !organization.canEditUnassignedCiphers) ||
                (!organization.canEditAllCiphers && collection != undefined && !collection.node.assigned));
        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.ciphers$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.allCiphers$,
            this.filter$,
            this.currentSearchText$,
            this.showCollectionAccessRestricted$,
            this.userId$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)(([ciphers, filter]) => ciphers != undefined && filter != undefined), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_62__.concatMap)((_a) => __awaiter(this, [_a], void 0, function* ([ciphers, filter, searchText, showCollectionAccessRestricted, userId]) {
            if (filter.collectionId === undefined && filter.type === undefined) {
                return [];
            }
            if (showCollectionAccessRestricted) {
                // Do not show ciphers for restricted collections
                // Ciphers belonging to multiple collections may still be present in $allCiphers and shouldn't be visible
                return [];
            }
            const filterFunction = (0,_vault_individual_vault_vault_filter_shared_models_filter_function__WEBPACK_IMPORTED_MODULE_36__.createFilterFunction)(filter);
            if (yield this.searchService.isSearchable(userId, searchText)) {
                return yield this.searchService.searchCiphers(userId, searchText, [filterFunction], ciphers);
            }
            return ciphers.filter(filterFunction);
        })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        // Billing Warnings
        this.organization$
            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((organization) => (0,rxjs__WEBPACK_IMPORTED_MODULE_63__.merge)(this.organizationWarningsService.showInactiveSubscriptionDialog$(organization), this.organizationWarningsService.showSubscribeBeforeFreeTrialEndsDialog$(organization))), (0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_64__.takeUntilDestroyed)())
            .subscribe();
        // End Billing Warnings
        this.editableCollections$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.allCollectionsWithoutUnassigned$,
            this.organization$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([collections, organization]) => {
            // Users that can edit all ciphers can implicitly add to / edit within any collection
            if (organization.canEditAllCiphers) {
                return collections;
            }
            return collections.filter((c) => c.assigned);
        }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.collections$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.nestedCollections$,
            this.filter$,
            this.currentSearchText$,
            this.addAccessStatus$,
            this.userId$,
            this.organization$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)(([collections, filter]) => collections != undefined && filter != undefined), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_62__.concatMap)((_a) => __awaiter(this, [_a], void 0, function* ([collections, filter, searchText, addAccessStatus, userId, organization]) {
            var _b;
            if (filter.collectionId === _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Unassigned ||
                (filter.collectionId === undefined && filter.type !== undefined)) {
                return [];
            }
            this.showAddAccessToggle = false;
            let searchableCollectionNodes = [];
            if (filter.collectionId === undefined || filter.collectionId === _vault_individual_vault_vault_filter_shared_models_routed_vault_filter_model__WEBPACK_IMPORTED_MODULE_37__.All) {
                searchableCollectionNodes = collections;
            }
            else {
                const selectedCollection = _bitwarden_common_vault_service_utils__WEBPACK_IMPORTED_MODULE_21__.ServiceUtils.getTreeNodeObjectFromList(collections, filter.collectionId);
                searchableCollectionNodes = (_b = selectedCollection.children) !== null && _b !== void 0 ? _b : [];
            }
            let collectionsToReturn = [];
            if (yield this.searchService.isSearchable(userId, searchText)) {
                // Flatten the tree for searching through all levels
                const flatCollectionTree = (0,_utils__WEBPACK_IMPORTED_MODULE_45__.getFlatCollectionTree)(searchableCollectionNodes);
                collectionsToReturn = this.searchPipe.transform(flatCollectionTree, searchText, (collection) => collection.name, (collection) => collection.id);
            }
            else {
                collectionsToReturn = searchableCollectionNodes.map((treeNode) => treeNode.node);
            }
            // Add access toggle is only shown if allowAdminAccessToAllCollectionItems is false and there are unmanaged collections the user can edit
            this.showAddAccessToggle =
                !organization.allowAdminAccessToAllCollectionItems &&
                    organization.canEditUnmanagedCollections &&
                    collectionsToReturn.some((c) => c.unmanaged);
            if (addAccessStatus === 1 && this.showAddAccessToggle) {
                collectionsToReturn = collectionsToReturn.filter((c) => c.unmanaged);
            }
            return collectionsToReturn;
        })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        const firstLoadComplete$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_66__.zip)([
            this.organization$,
            this.filter$,
            this.allCollections$,
            this.allGroups$,
            this.ciphers$,
            this.collections$,
            this.selectedCollection$,
            this.showCollectionAccessRestricted$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(() => true), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_67__.startWith)(false), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_68__.take)(2), // Only take the emmision from startsWith and the emission from zip.
        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.loading$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([
            this.refreshingSubject$,
            this.processingEvent$,
            firstLoadComplete$,
        ]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([refreshing, processing, firstLoadComplete]) => refreshing || processing || !firstLoadComplete));
    }
    ngOnInit() {
        return __awaiter(this, void 0, void 0, function* () {
            const firstSetup$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.organization$, this.route.queryParams]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_69__.first)(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((_a) => __awaiter(this, [_a], void 0, function* ([organization]) {
                if (!organization.canEditAnyCollection) {
                    yield this.syncService.fullSync(false);
                }
                return;
            })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_70__.catchError)((error) => {
                this.logService.error("Failed during firstSetup$:", error);
                return (0,rxjs__WEBPACK_IMPORTED_MODULE_53__.of)();
            }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_61__.shareReplay)({ refCount: true, bufferSize: 1 }));
            this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message) => {
                // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.
                // eslint-disable-next-line @typescript-eslint/no-floating-promises
                this.ngZone.run(() => __awaiter(this, void 0, void 0, function* () {
                    switch (message.command) {
                        case "syncCompleted":
                            if (message.successfully) {
                                this.refresh();
                                this.changeDetectorRef.detectChanges();
                            }
                            break;
                    }
                }));
            });
            this.routedVaultFilterBridgeService.activeFilter$
                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$))
                .subscribe((activeFilter) => {
                this.activeFilter = activeFilter;
                // watch the active filters. Only show toggle when viewing the collections filter
                if (!this.activeFilter.collectionId) {
                    this.showAddAccessToggle = false;
                }
            });
            this.searchText$
                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_71__.debounceTime)(SearchTextDebounceInterval), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$))
                .subscribe((searchText) => this.router.navigate([], {
                queryParams: { search: _bitwarden_common_platform_misc_utils__WEBPACK_IMPORTED_MODULE_15__.Utils.isNullOrEmpty(searchText) ? null : searchText },
                queryParamsHandling: "merge",
                replaceUrl: true,
            }));
            const allCipherMap$ = this.allCiphers$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)((ciphers) => {
                return Object.fromEntries(ciphers.map((c) => [c.id, c]));
            }));
            // Handle deep linking to a specific cipher (if the route specifies a cipherId)
            firstSetup$
                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.route.queryParams, allCipherMap$])), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_57__.filter)(() => this.vaultItemDialogRef == undefined), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((_a) => __awaiter(this, [_a], void 0, function* ([qParams, allCiphersMap]) {
                const cipherId = getCipherIdFromParams(qParams);
                if (!cipherId) {
                    this.prevCipherId = null;
                    return;
                }
                if (cipherId === this.prevCipherId) {
                    return;
                }
                this.prevCipherId = cipherId;
                const cipher = allCiphersMap[cipherId];
                if (cipher) {
                    let action = qParams.action;
                    if (action == "showFailedToDecrypt") {
                        _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.DecryptionFailureDialogComponent.open(this.dialogService, {
                            cipherIds: [cipherId],
                        });
                        yield this.router.navigate([], {
                            queryParams: { itemId: null, cipherId: null, action: null },
                            queryParamsHandling: "merge",
                            replaceUrl: true,
                        });
                        return;
                    }
                    // Default to "view"
                    if (action == null) {
                        action = "view";
                    }
                    if (action === "view") {
                        yield this.viewCipherById(cipher);
                    }
                    else {
                        yield this.editCipher(cipher, false);
                    }
                }
                else {
                    this.toastService.showToast({
                        variant: "error",
                        message: this.i18nService.t("unknownCipher"),
                    });
                    yield this.router.navigate([], {
                        queryParams: { cipherId: null, itemId: null },
                        queryParamsHandling: "merge",
                    });
                }
            })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$))
                .subscribe();
            // Handle deep linking to a cipher event
            firstSetup$
                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.route.queryParams, this.organization$, this.allCiphers$])), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)((_a) => __awaiter(this, [_a], void 0, function* ([qParams, organization, allCiphers$]) {
                const cipherId = qParams.viewEvents;
                if (!cipherId) {
                    return;
                }
                const cipher = allCiphers$.find((c) => c.id === cipherId);
                if (organization.useEvents && cipher != undefined) {
                    yield this.viewEvents(cipher);
                }
                else {
                    this.toastService.showToast({
                        variant: "error",
                        message: this.i18nService.t("unknownCipher"),
                    });
                    yield this.router.navigate([], {
                        queryParams: { viewEvents: null },
                        queryParamsHandling: "merge",
                    });
                }
            })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$))
                .subscribe();
            // Handle last of initial setup - workaround for some state issues where we need to manually
            // push the collections we've loaded back into the VaultFilterService.
            // FIXME: figure out how we can remove this.
            firstSetup$
                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_60__.switchMap)(() => this.allCollections$), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_65__.takeUntil)(this.destroy$))
                .subscribe((allCollections) => {
                // This is a temporary fix to avoid double fetching collections.
                // TODO: Remove when implementing new VVR menu
                if (this.vaultFilterService.reloadCollections) {
                    this.vaultFilterService.reloadCollections(allCollections);
                }
                this.refreshingSubject$.next(false);
            });
            this.isEmpty$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_59__.combineLatest)([this.ciphers$, this.collections$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_56__.map)(([ciphers, collections]) => collections.length === 0 && (ciphers === null || ciphers === void 0 ? void 0 : ciphers.length) === 0));
        });
    }
    navigateToPaymentMethod() {
        return __awaiter(this, void 0, void 0, function* () {
            const organizationId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organizationId$);
            yield this.router.navigate(["organizations", `${organizationId}`, "billing", "payment-details"], {
                state: { launchPaymentModalAutomatically: true },
            });
        });
    }
    addAccessToggle(e) {
        this.addAccessStatus$.next(e);
    }
    ngOnDestroy() {
        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);
        this.destroy$.next();
        this.destroy$.complete();
    }
    onVaultItemsEvent(event) {
        return __awaiter(this, void 0, void 0, function* () {
            this.processingEvent$.next(true);
            try {
                const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
                switch (event.type) {
                    case "viewAttachments":
                        yield this.editCipherAttachments(event.item);
                        break;
                    case "clone":
                        yield this.cloneCipher(event.item);
                        break;
                    case "restore":
                        if (event.items.length === 1) {
                            yield this.restore(event.items[0]);
                        }
                        else {
                            yield this.bulkRestore(event.items);
                        }
                        break;
                    case "delete": {
                        const ciphers = event.items
                            .filter((i) => i.collection === undefined)
                            .map((i) => i.cipher)
                            .filter((c) => c != null);
                        const collections = event.items
                            .filter((i) => i.cipher === undefined)
                            .map((i) => i.collection)
                            .filter((c) => c != null);
                        if (ciphers.length === 1 && collections.length === 0) {
                            yield this.deleteCipher(ciphers[0]);
                        }
                        else if (ciphers.length === 0 && collections.length === 1) {
                            yield this.deleteCollection(collections[0]);
                        }
                        else {
                            yield this.bulkDelete(ciphers, collections, organization);
                        }
                        break;
                    }
                    case "copyField":
                        yield this.copy(event.item, event.field);
                        break;
                    case "editCollection":
                        yield this.editCollection(event.item, _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogTabType.Info, event.readonly);
                        break;
                    case "viewCollectionAccess":
                        yield this.editCollection(event.item, _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogTabType.Access, event.readonly, event.initialPermission);
                        break;
                    case "bulkEditCollectionAccess":
                        yield this.bulkEditCollectionAccess(event.items, organization);
                        break;
                    case "assignToCollections":
                        yield this.bulkAssignToCollections(event.items);
                        break;
                    case "viewEvents":
                        yield this.viewEvents(event.item);
                        break;
                }
            }
            finally {
                this.processingEvent$.next(false);
            }
        });
    }
    filterSearchText(searchText) {
        this.searchText$.next(searchText);
    }
    editCipherAttachments(cipher) {
        return __awaiter(this, void 0, void 0, function* () {
            if (cipher.reprompt !== 0 && !(yield this.passwordRepromptService.showPasswordPrompt())) {
                this.go({ cipherId: null, itemId: null });
                return;
            }
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            if (organization.maxStorageGb == null || organization.maxStorageGb === 0) {
                this.messagingService.send("upgradeOrganization", { organizationId: cipher.organizationId });
                return;
            }
            const dialogRef = _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.AttachmentsV2Component.open(this.dialogService, {
                cipherId: cipher.id,
                organizationId: cipher.organizationId,
                admin: true,
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(dialogRef.closed);
            if ((result === null || result === void 0 ? void 0 : result.action) === _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.AttachmentDialogResult.Removed ||
                (result === null || result === void 0 ? void 0 : result.action) === _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.AttachmentDialogResult.Uploaded) {
                this.refresh();
            }
        });
    }
    /** Opens the Add/Edit Dialog */
    addCipher(cipherType) {
        return __awaiter(this, void 0, void 0, function* () {
            const cipherFormConfig = yield this.cipherFormConfigService.buildConfig("add", undefined, cipherType);
            const collectionId = this.activeFilter.collectionId;
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            cipherFormConfig.initialValues = {
                organizationId: organization.id,
                collectionIds: collectionId ? [collectionId] : [],
            };
            yield this.openVaultItemDialog("form", cipherFormConfig);
        });
    }
    /**
     * Edit the given cipher or add a new cipher
     * @param cipherView - When set, the cipher to be edited
     * @param cloneCipher - `true` when the cipher should be cloned.
     */
    editCipher(cipher, cloneCipher) {
        return __awaiter(this, void 0, void 0, function* () {
            if (cipher &&
                cipher.reprompt !== 0 &&
                !(yield this.passwordRepromptService.showPasswordPrompt())) {
                // didn't pass password prompt, so don't open add / edit modal
                this.go({ cipherId: null, itemId: null });
                return;
            }
            const cipherFormConfig = yield this.cipherFormConfigService.buildConfig(cloneCipher ? "clone" : "edit", cipher === null || cipher === void 0 ? void 0 : cipher.id);
            yield this.openVaultItemDialog("form", cipherFormConfig, cipher);
        });
    }
    /** Opens the view dialog for the given cipher unless password reprompt fails */
    viewCipherById(cipher) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!cipher) {
                return;
            }
            if (cipher &&
                cipher.reprompt !== 0 &&
                !(yield this.passwordRepromptService.showPasswordPrompt())) {
                // Didn't pass password prompt, so don't open add / edit modal.
                yield this.go({ cipherId: null, itemId: null, action: null });
                return;
            }
            const cipherFormConfig = yield this.cipherFormConfigService.buildConfig("edit", cipher.id, cipher.type);
            yield this.openVaultItemDialog("view", cipherFormConfig, cipher, this.activeFilter.collectionId);
        });
    }
    /**
     * Open the combined view / edit dialog for a cipher.
     */
    openVaultItemDialog(mode, formConfig, cipher, activeCollectionId) {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const disableForm = cipher ? !cipher.edit && !organization.canEditAllCiphers : false;
            // If the form is disabled, force the mode into `view`
            const dialogMode = disableForm ? "view" : mode;
            this.vaultItemDialogRef = _vault_components_vault_item_dialog_vault_item_dialog_component__WEBPACK_IMPORTED_MODULE_30__.VaultItemDialogComponent.open(this.dialogService, {
                mode: dialogMode,
                formConfig,
                disableForm,
                activeCollectionId,
                isAdminConsoleAction: true,
                restore: this.restore,
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(this.vaultItemDialogRef.closed);
            this.vaultItemDialogRef = undefined;
            // If the dialog was closed by deleting the cipher, refresh the vault.
            if (result === _vault_components_vault_item_dialog_vault_item_dialog_component__WEBPACK_IMPORTED_MODULE_30__.VaultItemDialogResult.Deleted || result === _vault_components_vault_item_dialog_vault_item_dialog_component__WEBPACK_IMPORTED_MODULE_30__.VaultItemDialogResult.Saved) {
                this.refresh();
            }
            // When the dialog is closed for a premium upgrade, return early as the user
            // should be navigated to the subscription settings elsewhere
            if (result === _vault_components_vault_item_dialog_vault_item_dialog_component__WEBPACK_IMPORTED_MODULE_30__.VaultItemDialogResult.PremiumUpgrade) {
                return;
            }
            // Clear the query params when the dialog closes
            yield this.go({ cipherId: null, itemId: null, action: null });
        });
    }
    cloneCipher(cipher) {
        return __awaiter(this, void 0, void 0, function* () {
            if (cipher.login.hasFido2Credentials) {
                const confirmed = yield this.dialogService.openSimpleDialog({
                    title: { key: "passkeyNotCopied" },
                    content: { key: "passkeyNotCopiedAlert" },
                    type: "info",
                });
                if (!confirmed) {
                    return false;
                }
            }
            yield this.editCipher(cipher, true);
        });
    }
    bulkRestore(ciphers) {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            if (!organization.permissions.editAnyCollection &&
                ciphers.some((c) => !c.edit && !organization.allowAdminAccessToAllCollectionItems)) {
                this.showMissingPermissionsError();
                return;
            }
            if (!(yield this.repromptCipher(ciphers))) {
                return;
            }
            // assess if there are unassigned ciphers and/or editable ciphers selected in bulk for restore
            const editAccessCiphers = [];
            const unassignedCiphers = [];
            const userId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.userId$);
            // If user has edit all Access no need to check for unassigned ciphers
            if (organization.canEditAllCiphers) {
                ciphers.map((cipher) => {
                    editAccessCiphers.push(cipher.id);
                });
            }
            else {
                ciphers.map((cipher) => {
                    if (cipher.collectionIds.length === 0) {
                        unassignedCiphers.push(cipher.id);
                    }
                    else if (cipher.edit) {
                        editAccessCiphers.push(cipher.id);
                    }
                });
            }
            if (unassignedCiphers.length === 0 && editAccessCiphers.length === 0) {
                this.toastService.showToast({
                    variant: "error",
                    title: this.i18nService.t("errorOccurred"),
                    message: this.i18nService.t("nothingSelected"),
                });
                return;
            }
            if (unassignedCiphers.length > 0 || editAccessCiphers.length > 0) {
                yield this.cipherService.restoreManyWithServer([...unassignedCiphers, ...editAccessCiphers], userId, organization.id);
            }
            this.toastService.showToast({
                variant: "success",
                message: this.i18nService.t("restoredItems"),
            });
            this.refresh();
        });
    }
    deleteCipher(c) {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            if (!c.edit && !organization.canEditAllCiphers) {
                this.showMissingPermissionsError();
                return false;
            }
            if (!(yield this.repromptCipher([c]))) {
                return false;
            }
            const permanent = c.isDeleted;
            const confirmed = yield this.dialogService.openSimpleDialog({
                title: { key: permanent ? "permanentlyDeleteItem" : "deleteItem" },
                content: { key: permanent ? "permanentlyDeleteItemConfirmation" : "deleteItemConfirmation" },
                type: "warning",
            });
            if (!confirmed) {
                return false;
            }
            try {
                const activeUserId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId));
                yield this.deleteCipherWithServer(c.id, activeUserId, permanent, c.isUnassigned);
                this.toastService.showToast({
                    variant: "success",
                    message: this.i18nService.t(permanent ? "permanentlyDeletedItem" : "deletedItem"),
                });
                this.refresh();
                return true;
            }
            catch (e) {
                this.logService.error(e);
                return false;
            }
        });
    }
    deleteCollection(collection) {
        return __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const userId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.userId$);
            if (!collection.canDelete(organization)) {
                this.showMissingPermissionsError();
                return;
            }
            const confirmed = yield this.dialogService.openSimpleDialog({
                title: collection.name,
                content: { key: "deleteCollectionConfirmation" },
                type: "warning",
            });
            if (!confirmed) {
                return;
            }
            try {
                yield this.apiService.deleteCollection(organization.id, collection.id);
                yield this.collectionService.delete([collection.id], userId);
                this.toastService.showToast({
                    variant: "success",
                    message: this.i18nService.t("deletedCollectionId", collection.name),
                });
                // Clear the cipher cache to clear the deleted collection from the cipher state
                yield this.cipherService.clear();
                // Navigate away if we deleted the collection we were viewing
                const selectedCollection = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.selectedCollection$);
                if ((selectedCollection === null || selectedCollection === void 0 ? void 0 : selectedCollection.node.id) === collection.id) {
                    void this.router.navigate([], {
                        queryParams: { collectionId: (_b = (_a = selectedCollection === null || selectedCollection === void 0 ? void 0 : selectedCollection.parent) === null || _a === void 0 ? void 0 : _a.node.id) !== null && _b !== void 0 ? _b : null },
                        queryParamsHandling: "merge",
                        replaceUrl: true,
                    });
                }
                this.refresh();
            }
            catch (e) {
                this.logService.error(e);
            }
        });
    }
    bulkDelete(ciphers, collections, organization) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!(yield this.repromptCipher(ciphers))) {
                return;
            }
            // Allow bulk deleting of Unassigned Items
            const unassignedCiphers = [];
            const assignedCiphers = [];
            ciphers.map((c) => {
                if (c.isUnassigned) {
                    unassignedCiphers.push(c.id);
                }
                else {
                    assignedCiphers.push(c.id);
                }
            });
            if (ciphers.length === 0 && collections.length === 0) {
                this.toastService.showToast({
                    variant: "error",
                    message: this.i18nService.t("nothingSelected"),
                });
                return;
            }
            const org = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const canDeleteCollections = collections == null || collections.every((c) => c.canDelete(organization));
            const canDeleteCiphers = ciphers == null || ciphers.every((c) => c.edit) || org.canEditAllCiphers;
            if (!canDeleteCiphers || !canDeleteCollections) {
                this.showMissingPermissionsError();
                return;
            }
            const filter = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.filter$);
            const dialog = (0,_vault_individual_vault_bulk_action_dialogs_bulk_delete_dialog_bulk_delete_dialog_component__WEBPACK_IMPORTED_MODULE_32__.openBulkDeleteDialog)(this.dialogService, {
                data: {
                    permanent: filter.type === "trash",
                    cipherIds: assignedCiphers,
                    collections: collections,
                    organization,
                    unassignedCiphers,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(dialog.closed);
            if (result === _vault_individual_vault_bulk_action_dialogs_bulk_delete_dialog_bulk_delete_dialog_component__WEBPACK_IMPORTED_MODULE_32__.BulkDeleteDialogResult.Deleted) {
                this.refresh();
            }
        });
    }
    copy(cipher, field) {
        return __awaiter(this, void 0, void 0, function* () {
            let aType;
            let value;
            let typeI18nKey;
            if (field === "username") {
                aType = "Username";
                value = cipher.login.username;
                typeI18nKey = "username";
            }
            else if (field === "password") {
                aType = "Password";
                value = cipher.login.password;
                typeI18nKey = "password";
            }
            else if (field === "totp" && cipher.login.totp != null) {
                aType = "TOTP";
                const totpResponse = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.totpService.getCode$(cipher.login.totp));
                value = totpResponse.code;
                typeI18nKey = "verificationCodeTotp";
            }
            else {
                this.toastService.showToast({
                    variant: "error",
                    message: this.i18nService.t("unexpectedError"),
                });
                return;
            }
            if (this.passwordRepromptService.protectedFields().includes(aType) &&
                !(yield this.repromptCipher([cipher]))) {
                return;
            }
            if (!cipher.viewPassword || value == null) {
                return;
            }
            this.platformUtilsService.copyToClipboard(value, { window: window });
            this.toastService.showToast({
                variant: "info",
                message: this.i18nService.t("valueCopied", this.i18nService.t(typeI18nKey)),
            });
            if (field === "password") {
                yield this.eventCollectionService.collect(_bitwarden_common_enums__WEBPACK_IMPORTED_MODULE_8__.EventType.Cipher_ClientCopiedPassword, cipher.id);
            }
            else if (field === "totp") {
                yield this.eventCollectionService.collect(_bitwarden_common_enums__WEBPACK_IMPORTED_MODULE_8__.EventType.Cipher_ClientCopiedHiddenField, cipher.id);
            }
        });
    }
    addCollection() {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const selectedCollection = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.selectedCollection$);
            const dialog = (0,_shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.openCollectionDialog)(this.dialogService, {
                data: {
                    organizationId: organization.id,
                    parentCollectionId: selectedCollection === null || selectedCollection === void 0 ? void 0 : selectedCollection.node.id,
                    limitNestedCollections: !organization.canEditAnyCollection,
                    isAdminConsoleActive: true,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(dialog.closed);
            if ((result === null || result === void 0 ? void 0 : result.action) === _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogAction.Saved ||
                (result === null || result === void 0 ? void 0 : result.action) === _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogAction.Deleted) {
                this.refresh();
            }
        });
    }
    editCollection(c, tab, readonly, initialPermission) {
        return __awaiter(this, void 0, void 0, function* () {
            var _a;
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const dialog = (0,_shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.openCollectionDialog)(this.dialogService, {
                data: {
                    collectionId: c.id,
                    organizationId: organization.id,
                    initialTab: tab,
                    readonly: readonly,
                    isAddAccessCollection: c.unmanaged,
                    limitNestedCollections: !organization.canEditAnyCollection,
                    isAdminConsoleActive: true,
                    initialPermission,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(dialog.closed);
            if ((result === null || result === void 0 ? void 0 : result.action) === _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogAction.Saved ||
                (result === null || result === void 0 ? void 0 : result.action) === _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogAction.Deleted) {
                this.refresh();
                const selectedCollection = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.selectedCollection$);
                // If we deleted the selected collection, navigate up/away
                if (result.action === _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_42__.CollectionDialogAction.Deleted &&
                    (selectedCollection === null || selectedCollection === void 0 ? void 0 : selectedCollection.node.id) === c.id) {
                    void this.router.navigate([], {
                        queryParams: { collectionId: (_a = selectedCollection.parent.node.id) !== null && _a !== void 0 ? _a : null },
                        queryParamsHandling: "merge",
                        replaceUrl: true,
                    });
                }
            }
        });
    }
    bulkEditCollectionAccess(collections, organization) {
        return __awaiter(this, void 0, void 0, function* () {
            if (collections.length === 0) {
                this.toastService.showToast({
                    variant: "error",
                    message: this.i18nService.t("noCollectionsSelected"),
                });
                return;
            }
            if (collections.some((c) => !c.canEdit(organization))) {
                this.showMissingPermissionsError();
                return;
            }
            const org = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const dialog = _bulk_collections_dialog__WEBPACK_IMPORTED_MODULE_43__.BulkCollectionsDialogComponent.open(this.dialogService, {
                data: {
                    collections,
                    organizationId: org.id,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(dialog.closed);
            if (result === _bulk_collections_dialog__WEBPACK_IMPORTED_MODULE_43__.BulkCollectionsDialogResult.Saved) {
                this.refresh();
            }
        });
    }
    bulkAssignToCollections(items) {
        return __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            if (items.length === 0) {
                this.toastService.showToast({
                    variant: "error",
                    message: this.i18nService.t("nothingSelected"),
                });
                return;
            }
            const availableCollections = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.editableCollections$);
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const dialog = _vault_components_assign_collections__WEBPACK_IMPORTED_MODULE_29__.AssignCollectionsWebComponent.open(this.dialogService, {
                data: {
                    ciphers: items,
                    organizationId: organization.id,
                    availableCollections,
                    activeCollection: (_b = (_a = this.activeFilter) === null || _a === void 0 ? void 0 : _a.selectedCollectionNode) === null || _b === void 0 ? void 0 : _b.node,
                    isSingleCipherAdmin: items.length === 1 && (organization.canEditAllCiphers || items[0].isUnassigned),
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_72__.lastValueFrom)(dialog.closed);
            if (result === _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.CollectionAssignmentResult.Saved) {
                this.refresh();
            }
        });
    }
    viewEvents(cipher) {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            (0,_manage_entity_events_component__WEBPACK_IMPORTED_MODULE_41__.openEntityEventsDialog)(this.dialogService, {
                data: {
                    name: cipher.name,
                    organizationId: organization.id,
                    entityId: cipher.id,
                    showUser: true,
                    entity: "cipher",
                },
            });
        });
    }
    deleteCipherWithServer(id, userId, permanent, isUnassigned) {
        return __awaiter(this, void 0, void 0, function* () {
            const organization = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_55__.firstValueFrom)(this.organization$);
            const asAdmin = organization.canEditAllCiphers || isUnassigned;
            return permanent
                ? this.cipherService.deleteWithServer(id, userId, asAdmin)
                : this.cipherService.softDeleteWithServer(id, userId, asAdmin);
        });
    }
    repromptCipher(ciphers) {
        return __awaiter(this, void 0, void 0, function* () {
            const notProtected = !ciphers.find((cipher) => cipher.reprompt !== _bitwarden_common_vault_enums_cipher_reprompt_type__WEBPACK_IMPORTED_MODULE_20__.CipherRepromptType.None);
            return notProtected || (yield this.passwordRepromptService.showPasswordPrompt());
        });
    }
    refresh() {
        this.refreshingSubject$.next(true);
        if (this.vaultItemsComponent) {
            this.vaultItemsComponent.clearSelection();
        }
    }
    go(queryParams = null) {
        if (queryParams == null) {
            queryParams = {
                type: this.activeFilter.cipherType,
                collectionId: this.activeFilter.collectionId,
                deleted: this.activeFilter.isDeleted || null,
            };
        }
        void this.router.navigate([], {
            relativeTo: this.route,
            queryParams: queryParams,
            queryParamsHandling: "merge",
            replaceUrl: true,
        });
    }
    showMissingPermissionsError() {
        this.toastService.showToast({
            variant: "error",
            message: this.i18nService.t("missingPermissions"),
        });
    }
}
VaultComponent.ɵfac = function VaultComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_73__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_4__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_vault_individual_vault_vault_filter_services_abstractions_vault_filter_service__WEBPACK_IMPORTED_MODULE_33__.VaultFilterService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_vault_individual_vault_vault_filter_services_routed_vault_filter_bridge_service__WEBPACK_IMPORTED_MODULE_34__.RoutedVaultFilterBridgeService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_vault_individual_vault_vault_filter_services_routed_vault_filter_service__WEBPACK_IMPORTED_MODULE_35__.RoutedVaultFilterService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_73__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_50__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_sync__WEBPACK_IMPORTED_MODULE_16__.SyncService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_10__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_74__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_messaging_service__WEBPACK_IMPORTED_MODULE_12__.MessagingService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_broadcaster_service__WEBPACK_IMPORTED_MODULE_9__.BroadcasterService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_50__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_13__.PlatformUtilsService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_vault_abstractions_cipher_service__WEBPACK_IMPORTED_MODULE_17__.CipherService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.PasswordRepromptService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionAdminService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_vault_abstractions_search_service__WEBPACK_IMPORTED_MODULE_18__.SearchService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_angular_pipes_search_pipe__WEBPACK_IMPORTED_MODULE_1__.SearchPipe), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_core__WEBPACK_IMPORTED_MODULE_40__.GroupApiService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_11__.LogService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_abstractions_event_event_collection_service__WEBPACK_IMPORTED_MODULE_3__.EventCollectionService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_vault_abstractions_totp_service__WEBPACK_IMPORTED_MODULE_19__.TotpService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_2__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_75__.ToastService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.CipherFormConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_7__.BillingApiServiceAbstraction), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_5__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_26__.OrganizationWarningsService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionService), _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdirectiveInject"](_bitwarden_common_vault_services_restricted_item_types_service__WEBPACK_IMPORTED_MODULE_22__.RestrictedItemTypesService)); };
VaultComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdefineComponent"]({ type: VaultComponent, selectors: [["app-org-vault"]], viewQuery: function VaultComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵviewQuery"](_c0, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵloadQuery"]()) && (ctx.vaultItemsComponent = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵProvidersFeature"]([
            _vault_individual_vault_vault_filter_services_routed_vault_filter_service__WEBPACK_IMPORTED_MODULE_35__.RoutedVaultFilterService,
            _vault_individual_vault_vault_filter_services_routed_vault_filter_bridge_service__WEBPACK_IMPORTED_MODULE_34__.RoutedVaultFilterBridgeService,
            { provide: _bitwarden_vault__WEBPACK_IMPORTED_MODULE_24__.CipherFormConfigService, useClass: _vault_org_vault_services_admin_console_cipher_form_config_service__WEBPACK_IMPORTED_MODULE_39__.AdminConsoleCipherFormConfigService },
        ])], decls: 11, vars: 16, consts: [["vaultItems", ""], [3, "filter", "loading", "organization", "collection", "searchText"], [1, "tw-flex", "tw-flex-row"], [1, "tw-w-1/4", "tw-mr-5"], [3, "selected"], ["type", "warning"], [3, "ciphers", "collections", "allCollections", "allOrganizations", "allGroups", "disabled", "showOwner", "showPermissionsColumn", "showCollections", "showGroups", "showPremiumFeatures", "showBulkMove", "showBulkTrashOptions", "useEvents", "showAdminActions", "showBulkEditCollectionAccess", "showBulkAddToCollections", "viewingOrgVault", "addAccessStatus", "addAccessToggle", "activeCollection"], [1, "tw-mt-6", "tw-flex", "tw-h-full", "tw-flex-col", "tw-items-center", "tw-justify-start"], [3, "clicked", "organization"], [3, "organization"], [3, "onAddCipher", "onAddCollection", "onEditCollection", "onDeleteCollection", "searchTextChanged", "filter", "loading", "organization", "collection", "searchText"], [3, "searchTextChanged", "organization", "activeFilter", "searchText"], [3, "selectedChange", "selected"], [3, "value"], [3, "onEvent", "ciphers", "collections", "allCollections", "allOrganizations", "allGroups", "disabled", "showOwner", "showPermissionsColumn", "showCollections", "showGroups", "showPremiumFeatures", "showBulkMove", "showBulkTrashOptions", "useEvents", "showAdminActions", "showBulkEditCollectionAccess", "showBulkAddToCollections", "viewingOrgVault", "addAccessStatus", "addAccessToggle", "activeCollection"], [3, "canEditCollection", "canViewCollectionInfo"], ["slot", "title", 1, "tw-mt-4", "tw-block"], ["slot", "button", "bitButton", "", "buttonType", "primary", "type", "button"], ["slot", "button", "bitButton", "", "buttonType", "primary", "type", "button", 3, "click"], ["aria-hidden", "true", 1, "bwi", "bwi-plus"], [3, "viewCollectionClicked", "canEditCollection", "canViewCollectionInfo"], ["aria-hidden", "true", 1, "bwi", "bwi-spinner", "bwi-spin", "tw-text-muted", 3, "title"], [1, "tw-sr-only"]], template: function VaultComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](0);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](1, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](3, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](5, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](7, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵdeclareLet"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipe"](9, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵtemplate"](10, VaultComponent_Conditional_10_Template, 15, 17);
    } if (rf & 2) {
        const organization_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](1, 1, ctx.organization$));
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](3, 4, ctx.selectedCollection$));
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](5, 7, ctx.filter$));
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](7, 10, ctx.refreshingSubject$));
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵpipeBind1"](9, 13, ctx.loading$));
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_50__["ɵɵconditional"](organization_r16 ? 10 : -1);
    } }, dependencies: [_vault_header_vault_header_component__WEBPACK_IMPORTED_MODULE_47__.VaultHeaderComponent,
        _collection_access_restricted_component__WEBPACK_IMPORTED_MODULE_44__.CollectionAccessRestrictedComponent,
        _vault_filter_vault_filter_module__WEBPACK_IMPORTED_MODULE_46__.VaultFilterModule, _vault_filter_vault_filter_component__WEBPACK_IMPORTED_MODULE_48__.VaultFilterComponent, _vault_components_vault_items_vault_items_module__WEBPACK_IMPORTED_MODULE_31__.VaultItemsModule, _bitwarden_web_vault_app_vault_components_vault_items_vault_items_component__WEBPACK_IMPORTED_MODULE_27__.VaultItemsComponent, _shared__WEBPACK_IMPORTED_MODULE_28__.SharedModule, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_76__.ButtonComponent, _libs_components_src_callout_callout_component__WEBPACK_IMPORTED_MODULE_77__.CalloutComponent, _libs_components_src_no_items_no_items_component__WEBPACK_IMPORTED_MODULE_78__.NoItemsComponent, _libs_components_src_toggle_group_toggle_group_component__WEBPACK_IMPORTED_MODULE_79__.ToggleGroupComponent, _libs_components_src_toggle_group_toggle_component__WEBPACK_IMPORTED_MODULE_80__.ToggleComponent, _angular_common__WEBPACK_IMPORTED_MODULE_81__.AsyncPipe, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_49__.I18nPipe, _bitwarden_components__WEBPACK_IMPORTED_MODULE_82__.BannerModule,
        _bitwarden_components__WEBPACK_IMPORTED_MODULE_83__.NoItemsModule,
        _bitwarden_web_vault_app_billing_organizations_warnings_components__WEBPACK_IMPORTED_MODULE_25__.OrganizationFreeTrialWarningComponent,
        _bitwarden_web_vault_app_billing_organizations_warnings_components__WEBPACK_IMPORTED_MODULE_25__.OrganizationResellerRenewalWarningComponent], encapsulation: 2 });
/**
 * Allows backwards compatibility with
 * old links that used the original `cipherId` param
 */
const getCipherIdFromParams = (params) => {
    return params["itemId"] || params["cipherId"];
};


/***/ }),

/***/ "./src/app/admin-console/organizations/collections/vault.module.ts":
/*!*************************************************************************!*\
  !*** ./src/app/admin-console/organizations/collections/vault.module.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VaultModule: () => (/* binding */ VaultModule)
/* harmony export */ });
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _vault_individual_vault_organization_badge_organization_badge_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../vault/individual-vault/organization-badge/organization-badge.module */ "./src/app/vault/individual-vault/organization-badge/organization-badge.module.ts");
/* harmony import */ var _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/components/collection-dialog */ "./src/app/admin-console/organizations/shared/components/collection-dialog/index.ts");
/* harmony import */ var _collection_badge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collection-badge */ "./src/app/admin-console/organizations/collections/collection-badge/index.ts");
/* harmony import */ var _group_badge_group_badge_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./group-badge/group-badge.module */ "./src/app/admin-console/organizations/collections/group-badge/group-badge.module.ts");
/* harmony import */ var _vault_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vault-routing.module */ "./src/app/admin-console/organizations/collections/vault-routing.module.ts");
/* harmony import */ var _vault_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vault.component */ "./src/app/admin-console/organizations/collections/vault.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");








class VaultModule {
}
VaultModule.ɵfac = function VaultModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || VaultModule)(); };
VaultModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: VaultModule });
VaultModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [_vault_routing_module__WEBPACK_IMPORTED_MODULE_5__.VaultRoutingModule,
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_0__.SharedModule,
        _group_badge_group_badge_module__WEBPACK_IMPORTED_MODULE_4__.GroupBadgeModule,
        _collection_badge__WEBPACK_IMPORTED_MODULE_3__.CollectionNameBadgeComponent,
        _vault_individual_vault_organization_badge_organization_badge_module__WEBPACK_IMPORTED_MODULE_1__.OrganizationBadgeModule,
        _shared_components_collection_dialog__WEBPACK_IMPORTED_MODULE_2__.CollectionDialogComponent,
        _vault_component__WEBPACK_IMPORTED_MODULE_6__.VaultComponent] });


/***/ }),

/***/ "./src/app/admin-console/organizations/guards/org-permissions.guard.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/admin-console/organizations/guards/org-permissions.guard.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   organizationPermissionsGuard: () => (/* binding */ organizationPermissionsGuard)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/util/isObservable.js");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/misc */ "../../libs/common/src/platform/misc/index.ts");
/* harmony import */ var _bitwarden_common_vault_abstractions_sync_sync_service_abstraction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/vault/abstractions/sync/sync.service.abstraction */ "../../libs/common/src/vault/abstractions/sync/sync.service.abstraction.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore










/**
 * `CanActivateFn` that asserts the logged in user has permission to access
 * the page being navigated to. Two high-level checks are performed:
 *
 * 1. If the user is not a member of the organization in the URL parameters, they
 *    are redirected to the home screen.
 * 2. If the organization in the URL parameters is disabled and the user is not
 *    an admin, they are redirected to the home screen.
 *
 * In addition to these high level checks the guard accepts a callback
 * function as an argument that will be called to check for more granular
 * permissions. Based on the return from callback one of the following
 * will happen:
 *
 * 1. If the logged in user does not have the required permissions they are
 *    redirected to `/organizations/{id}` or `/` based on admin console access
 *    permissions.
 * 2. If the logged in user does have the required permissions navigation
 *    proceeds as expected.
 */
function organizationPermissionsGuard(permissionsCallback) {
    return (route, state) => __awaiter(this, void 0, void 0, function* () {
        const router = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_angular_router__WEBPACK_IMPORTED_MODULE_7__.Router);
        const organizationService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.OrganizationService);
        const toastService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_bitwarden_components__WEBPACK_IMPORTED_MODULE_8__.ToastService);
        const i18nService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_3__.I18nService);
        const syncService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_bitwarden_common_vault_abstractions_sync_sync_service_abstraction__WEBPACK_IMPORTED_MODULE_5__.SyncService);
        const accountService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_1__.AccountService);
        const environmentInjector = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.EnvironmentInjector);
        // TODO: We need to fix issue once and for all.
        if ((yield syncService.getLastSync()) == null) {
            yield syncService.fullSync(false);
        }
        const org = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.firstValueFrom)(accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_2__.getUserId, (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.switchMap)((userId) => organizationService.organizations$(userId)), (0,_bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_4__.getById)(route.params.organizationId)));
        if (org == null) {
            return router.createUrlTree(["/"]);
        }
        if (!org.isOwner && !org.enabled) {
            toastService.showToast({
                variant: "error",
                title: null,
                message: i18nService.t("organizationIsDisabled"),
            });
            return router.createUrlTree(["/"]);
        }
        if (permissionsCallback == null) {
            // No additional permission checks required, allow navigation
            return true;
        }
        const callbackResult = (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.runInInjectionContext)(environmentInjector, () => permissionsCallback(org));
        const hasPermissions = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.isObservable)(callbackResult)
            ? yield (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.firstValueFrom)(callbackResult) // handles observables
            : yield Promise.resolve(callbackResult); // handles promises and boolean values
        if (hasPermissions !== true && hasPermissions !== false) {
            throw new Error("Permission callback did not resolve to a boolean.");
        }
        if (!hasPermissions) {
            // Handle linkable ciphers for organizations the user only has view access to
            // https://bitwarden.atlassian.net/browse/EC-203
            const cipherId = state.root.queryParamMap.get("itemId") || state.root.queryParamMap.get("cipherId");
            if (cipherId) {
                return router.createUrlTree(["/vault"], {
                    queryParams: {
                        itemId: cipherId,
                    },
                });
            }
            toastService.showToast({
                variant: "error",
                title: null,
                message: i18nService.t("accessDenied"),
            });
            return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.canAccessOrgAdmin)(org)
                ? router.createUrlTree(["/organizations", org.id])
                : router.createUrlTree(["/"]);
        }
        return true;
    });
}


/***/ }),

/***/ "./src/app/admin-console/organizations/guards/org-redirect.guard.ts":
/*!**************************************************************************!*\
  !*** ./src/app/admin-console/organizations/guards/org-redirect.guard.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   organizationRedirectGuard: () => (/* binding */ organizationRedirectGuard)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





/**
 *
 * `CanActivateFn` that returns a URL Tree redirecting to a caller provided
 * sub route of `/organizations/{id}/`. If no sub route is provided the URL
 * tree returned will redirect to `/organizations/{id}` if possible, or `/` if
 * the user does not have permission to access `organizations/{id}`.
 */
function organizationRedirectGuard(customRedirect) {
    return (route, state) => __awaiter(this, void 0, void 0, function* () {
        const router = (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router);
        const organizationService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.OrganizationService);
        const accountService = (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_1__.AccountService);
        const userId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.firstValueFrom)(accountService.activeAccount$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((a) => a === null || a === void 0 ? void 0 : a.id)));
        if (!userId) {
            return router.createUrlTree(["/"]);
        }
        const org = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.firstValueFrom)(organizationService
            .organizations$(userId)
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.map)((organizations) => organizations.find((o) => o.id === route.params.organizationId))));
        if (!org) {
            return router.createUrlTree(["/"]);
        }
        if (customRedirect != null) {
            let redirectPath = customRedirect(org);
            if (typeof redirectPath === "string") {
                redirectPath = [redirectPath];
            }
            return router.createUrlTree([state.url, ...redirectPath]);
        }
        if (org != null && (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_0__.canAccessOrgAdmin)(org)) {
            return router.createUrlTree(["/organizations", org.id]);
        }
        return router.createUrlTree(["/"]);
    });
}


/***/ }),

/***/ "./src/app/admin-console/organizations/layouts/organization-layout.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/layouts/organization-layout.component.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationLayoutComponent: () => (/* binding */ OrganizationLayoutComponent)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router_module-DTJgGWLd.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/withLatestFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/filter.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/angular/jslib.module */ "../../libs/angular/src/jslib.module.ts");
/* harmony import */ var _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @bitwarden/assets/svg */ "../../libs/assets/src/svg/svgs/admin-console.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/policy/policy.service.abstraction */ "../../libs/common/src/admin-console/abstractions/policy/policy.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_provider_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/provider.service */ "../../libs/common/src/admin-console/abstractions/provider.service.ts");
/* harmony import */ var _bitwarden_common_admin_console_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/admin-console/enums */ "../../libs/common/src/admin-console/enums/index.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/platform-utils.service */ "../../libs/common/src/platform/abstractions/platform-utils.service.ts");
/* harmony import */ var _bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/platform/misc */ "../../libs/common/src/platform/misc/index.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/icon/icon.module.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/banner/banner.module.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module */ "./src/app/billing/organizations/warnings/organization-warnings.module.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/services */ "./src/app/billing/organizations/warnings/services/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_warnings_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/warnings/components */ "./src/app/billing/warnings/components/index.ts");
/* harmony import */ var _billing_services_free_families_policy_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../billing/services/free-families-policy.service */ "./src/app/billing/services/free-families-policy.service.ts");
/* harmony import */ var _layouts_org_switcher_org_switcher_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../layouts/org-switcher/org-switcher.component */ "./src/app/layouts/org-switcher/org-switcher.component.ts");
/* harmony import */ var _layouts_web_layout_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../layouts/web-layout.module */ "./src/app/layouts/web-layout.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
/* harmony import */ var _libs_components_src_navigation_nav_group_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../../../libs/components/src/navigation/nav-group.component */ "../../libs/components/src/navigation/nav-group.component.ts");
/* harmony import */ var _libs_components_src_navigation_nav_item_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../../../libs/components/src/navigation/nav-item.component */ "../../libs/components/src/navigation/nav-item.component.ts");
/* harmony import */ var _libs_components_src_navigation_nav_logo_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../../../libs/components/src/navigation/nav-logo.component */ "../../libs/components/src/navigation/nav-logo.component.ts");
/* harmony import */ var _layouts_web_layout_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layouts/web-layout.component */ "./src/app/layouts/web-layout.component.ts");
/* harmony import */ var _layouts_web_side_nav_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layouts/web-side-nav.component */ "./src/app/layouts/web-side-nav.component.ts");
/* harmony import */ var _libs_components_src_banner_banner_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../../../../libs/components/src/banner/banner.component */ "../../libs/components/src/banner/banner.component.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore





































const _c0 = () => ({ exact: true });
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "bit-nav-group", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](2, "bit-nav-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 2, "accessIntelligence"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](3, 4, "riskInsights"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_item_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "collections"));
} }
function OrganizationLayoutComponent_app_side_nav_1_ng_container_7_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](1, "bit-nav-group", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](3, "bit-nav-item", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](4, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](5, "bit-nav-item", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](6, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](2, 4, "members"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](4, 6, "members"))("routerLinkActiveOptions", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpureFunction0"](10, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](6, 8, "sponsoredFamilies"));
} }
function OrganizationLayoutComponent_app_side_nav_1_ng_container_7_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "members"));
} }
function OrganizationLayoutComponent_app_side_nav_1_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](1, OrganizationLayoutComponent_app_side_nav_1_ng_container_7_ng_container_1_Template, 7, 11, "ng-container", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](3, OrganizationLayoutComponent_app_side_nav_1_ng_container_7_ng_template_3_Template, 2, 3, "ng-template", null, 0, _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const regularMembersItem_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵreference"](4);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](2, 2, ctx_r1.showSponsoredFamiliesDropdown$))("ngIfElse", regularMembersItem_r1);
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_item_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "groups"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_bit_nav_item_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "eventLogs"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_bit_nav_item_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "reports"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "bit-nav-group", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](2, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_bit_nav_item_2_Template, 2, 3, "bit-nav-item", 21)(3, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_bit_nav_item_3_Template, 2, 3, "bit-nav-item", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]().ngIf;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 3, ctx_r1.getReportTabLabel(organization_r3)));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canAccessEventLogs || organization_r3.isOwner);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canAccessReports);
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_10_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](1, "bit-nav-item", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](3, "bit-nav-item", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](4, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](2, 2, "paymentDetails"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](4, 4, "billingHistory"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "bit-nav-group", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](2, "bit-nav-item", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](4, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_10_ng_container_4_Template, 5, 6, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 3, "billing"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](3, 5, "subscription"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](5, 7, ctx_r1.showPaymentAndHistory$) && _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](6, 9, ctx_r1.organizationIsUnmanaged$));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "organizationInfo"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "policies"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "twoStepLogin"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "importData"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "exportVault"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "claimedDomains"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "singleSignOn"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "deviceApprovals"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](0, "bit-nav-item", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 1, "scim"));
} }
function OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "bit-nav-group", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](2, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_2_Template, 2, 3, "bit-nav-item", 30)(3, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_3_Template, 2, 3, "bit-nav-item", 31)(4, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_4_Template, 2, 3, "bit-nav-item", 32)(5, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_5_Template, 2, 3, "bit-nav-item", 33)(6, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_6_Template, 2, 3, "bit-nav-item", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](7, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](8, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_8_Template, 2, 3, "bit-nav-item", 35)(9, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_9_Template, 2, 3, "bit-nav-item", 36)(10, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_10_Template, 2, 3, "bit-nav-item", 37)(11, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_bit_nav_item_11_Template, 2, 3, "bit-nav-item", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    const organization_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]().ngIf;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](1, 10, "settings"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.isOwner);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canManagePolicies);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.use2fa && organization_r3.isOwner);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canAccessImport);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](7, 12, ctx_r1.canAccessExport$));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3 == null ? null : organization_r3.canManageDomainVerification);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canManageSso);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canManageDeviceApprovals);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.canManageScim);
} }
function OrganizationLayoutComponent_app_side_nav_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "app-side-nav", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](1, "bit-nav-logo", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](3, "org-switcher", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](4, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](5, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_5_Template, 4, 6, "bit-nav-group", 6)(6, OrganizationLayoutComponent_app_side_nav_1_bit_nav_item_6_Template, 2, 3, "bit-nav-item", 7)(7, OrganizationLayoutComponent_app_side_nav_1_ng_container_7_Template, 5, 4, "ng-container", 2)(8, OrganizationLayoutComponent_app_side_nav_1_bit_nav_item_8_Template, 2, 3, "bit-nav-item", 8)(9, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_9_Template, 4, 5, "bit-nav-group", 9)(10, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_10_Template, 7, 11, "bit-nav-group", 10)(11, OrganizationLayoutComponent_app_side_nav_1_bit_nav_group_11_Template, 12, 14, "bit-nav-group", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    const organization_r3 = ctx.ngIf;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("openIcon", ctx_r1.logo)("label", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](2, 11, "adminConsole"));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("filter", ctx_r1.orgFilter)("hideNewButton", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](4, 13, ctx_r1.hideNewOrgButton$));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r3.useRiskInsights && organization_r3.canAccessReports);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowVaultTab(organization_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowMembersTab(organization_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowGroupsTab(organization_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowReportsTab(organization_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowBillingTab(organization_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", ctx_r1.canShowSettingsTab(organization_r3));
} }
function OrganizationLayoutComponent_ng_container_3_bit_banner_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "bit-banner", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
} if (rf & 2) {
    const organization_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]().ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("showClose", false);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind2"](2, 2, "accessingUsingProvider", organization_r5.providerName), " ");
} }
function OrganizationLayoutComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](1, OrganizationLayoutComponent_ng_container_3_bit_banner_1_Template, 3, 5, "bit-banner", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](2, "app-tax-id-warning", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](3, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵlistener"]("billingAddressUpdated", function OrganizationLayoutComponent_ng_container_3_Template_app_tax_id_warning_billingAddressUpdated_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵrestoreView"](_r4); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵresetView"](ctx_r1.refreshTaxIdWarning()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const organization_r5 = ctx.ngIf;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", organization_r5.isProviderUser);
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("subscriber", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](3, 3, ctx_r1.subscriber$))("getWarning$", ctx_r1.getTaxIdWarning$);
} }
class OrganizationLayoutComponent {
    constructor(route, organizationService, platformUtilsService, policyService, providerService, accountService, freeFamiliesPolicyService, organizationWarningsService) {
        this.route = route;
        this.organizationService = organizationService;
        this.platformUtilsService = platformUtilsService;
        this.policyService = policyService;
        this.providerService = providerService;
        this.accountService = accountService;
        this.freeFamiliesPolicyService = freeFamiliesPolicyService;
        this.organizationWarningsService = organizationWarningsService;
        this.logo = _bitwarden_assets_svg__WEBPACK_IMPORTED_MODULE_19__["default"];
        this.orgFilter = (org) => (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessOrgAdmin)(org);
        this.refreshTaxIdWarning = () => this.organizationWarningsService.refreshTaxIdWarning();
    }
    ngOnInit() {
        return __awaiter(this, void 0, void 0, function* () {
            document.body.classList.remove("layout_frontend");
            this.organization$ = this.route.params.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)((p) => p.organizationId), (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.withLatestFrom)(this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId)), (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.switchMap)(([orgId, userId]) => this.organizationService.organizations$(userId).pipe((0,_bitwarden_common_platform_misc__WEBPACK_IMPORTED_MODULE_8__.getById)(orgId))), (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.filter)((org) => org != null));
            this.showSponsoredFamiliesDropdown$ =
                this.freeFamiliesPolicyService.showSponsoredFamiliesDropdown$(this.organization$);
            this.canAccessExport$ = this.organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)((org) => org.canAccessExport));
            this.showPaymentAndHistory$ = this.organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)((org) => !this.platformUtilsService.isSelfHost() &&
                org.canViewBillingHistory &&
                org.canEditPaymentMethods));
            this.hideNewOrgButton$ = this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId, (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.switchMap)((userId) => this.policyService.policyAppliesToUser$(_bitwarden_common_admin_console_enums__WEBPACK_IMPORTED_MODULE_4__.PolicyType.SingleOrg, userId)));
            const provider$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.combineLatest)([
                this.organization$,
                this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_6__.getUserId),
            ]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.switchMap)(([organization, userId]) => this.providerService.get$(organization.providerId, userId)));
            this.organizationIsUnmanaged$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.combineLatest)([this.organization$, provider$]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)(([organization, provider]) => !organization.hasProvider ||
                !provider ||
                provider.providerStatus !== _bitwarden_common_admin_console_enums__WEBPACK_IMPORTED_MODULE_4__.ProviderStatusType.Billable));
            this.subscriber$ = this.organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)((organization) => ({
                type: "organization",
                data: organization,
            })));
            this.getTaxIdWarning$ = () => this.organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.switchMap)((organization) => this.organizationWarningsService.getTaxIdWarning$(organization)));
        });
    }
    canShowVaultTab(organization) {
        return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessVaultTab)(organization);
    }
    canShowSettingsTab(organization) {
        return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessSettingsTab)(organization);
    }
    canShowMembersTab(organization) {
        return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessMembersTab)(organization);
    }
    canShowGroupsTab(organization) {
        return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessGroupsTab)(organization);
    }
    canShowReportsTab(organization) {
        return (0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessReportingTab)(organization);
    }
    canShowBillingTab(organization) {
        return false; // disable billing tab in Vaultwarden
        return canAccessBillingTab(organization);
    }
    getReportTabLabel(organization) {
        return organization.useEvents ? "reporting" : "reports";
    }
}
OrganizationLayoutComponent.ɵfac = function OrganizationLayoutComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || OrganizationLayoutComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_25__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_7__.PlatformUtilsService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_policy_policy_service_abstraction__WEBPACK_IMPORTED_MODULE_2__.PolicyService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_provider_service__WEBPACK_IMPORTED_MODULE_3__.ProviderService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_5__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_billing_services_free_families_policy_service__WEBPACK_IMPORTED_MODULE_12__.FreeFamiliesPolicyService), _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdirectiveInject"](_bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_10__.OrganizationWarningsService)); };
OrganizationLayoutComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineComponent"]({ type: OrganizationLayoutComponent, selectors: [["app-organization-layout"]], decls: 6, vars: 6, consts: [["regularMembersItem", ""], ["variant", "secondary", 4, "ngIf"], [4, "ngIf"], ["variant", "secondary"], ["route", ".", 3, "openIcon", "label"], [3, "filter", "hideNewButton"], ["icon", "bwi-dashboard", "route", "access-intelligence", 3, "text", 4, "ngIf"], ["icon", "bwi-collection-shared", "route", "vault", 3, "text", 4, "ngIf"], ["icon", "bwi-users", "route", "groups", 3, "text", 4, "ngIf"], ["icon", "bwi-sliders", "route", "reporting", 3, "text", 4, "ngIf"], ["icon", "bwi-billing", "route", "billing", 3, "text", 4, "ngIf"], ["icon", "bwi-cog", "route", "settings", 3, "text", 4, "ngIf"], ["icon", "bwi-dashboard", "route", "access-intelligence", 3, "text"], ["route", "access-intelligence/risk-insights", 3, "text"], ["icon", "bwi-collection-shared", "route", "vault", 3, "text"], [4, "ngIf", "ngIfElse"], ["icon", "bwi-user", "route", "members", 3, "text"], ["route", "members", 3, "text", "routerLinkActiveOptions"], ["route", "members/sponsored-families", 3, "text"], ["icon", "bwi-users", "route", "groups", 3, "text"], ["icon", "bwi-sliders", "route", "reporting", 3, "text"], ["route", "reporting/events", 3, "text", 4, "ngIf"], ["route", "reporting/reports", 3, "text", 4, "ngIf"], ["route", "reporting/events", 3, "text"], ["route", "reporting/reports", 3, "text"], ["icon", "bwi-billing", "route", "billing", 3, "text"], ["route", "billing/subscription", 3, "text"], ["route", "billing/payment-details", 3, "text"], ["route", "billing/history", 3, "text"], ["icon", "bwi-cog", "route", "settings", 3, "text"], ["route", "settings/account", 3, "text", 4, "ngIf"], ["route", "settings/policies", 3, "text", 4, "ngIf"], ["route", "settings/two-factor", 3, "text", 4, "ngIf"], ["route", "settings/tools/import", 3, "text", 4, "ngIf"], ["route", "settings/tools/export", 3, "text", 4, "ngIf"], ["route", "settings/domain-verification", 3, "text", 4, "ngIf"], ["route", "settings/sso", 3, "text", 4, "ngIf"], ["route", "settings/device-approvals", 3, "text", 4, "ngIf"], ["route", "settings/scim", 3, "text", 4, "ngIf"], ["route", "settings/account", 3, "text"], ["route", "settings/policies", 3, "text"], ["route", "settings/two-factor", 3, "text"], ["route", "settings/tools/import", 3, "text"], ["route", "settings/tools/export", 3, "text"], ["route", "settings/domain-verification", 3, "text"], ["route", "settings/sso", 3, "text"], ["route", "settings/device-approvals", 3, "text"], ["route", "settings/scim", 3, "text"], [3, "showClose", 4, "ngIf"], [3, "billingAddressUpdated", "subscriber", "getWarning$"], [3, "showClose"]], template: function OrganizationLayoutComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementStart"](0, "app-layout");
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](1, OrganizationLayoutComponent_app_side_nav_1_Template, 12, 15, "app-side-nav", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](2, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵtemplate"](3, OrganizationLayoutComponent_ng_container_3_Template, 4, 5, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipe"](4, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelement"](5, "router-outlet");
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](2, 2, ctx.organization$));
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵpipeBind1"](4, 4, ctx.organization$));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_26__.CommonModule, _angular_common__WEBPACK_IMPORTED_MODULE_26__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_26__.AsyncPipe, _angular_router__WEBPACK_IMPORTED_MODULE_27__.RouterModule, _angular_router__WEBPACK_IMPORTED_MODULE_25__.RouterOutlet, _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_0__.JslibModule, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_15__.I18nPipe, _layouts_web_layout_module__WEBPACK_IMPORTED_MODULE_14__.WebLayoutModule, _libs_components_src_navigation_nav_group_component__WEBPACK_IMPORTED_MODULE_28__.NavGroupComponent, _libs_components_src_navigation_nav_item_component__WEBPACK_IMPORTED_MODULE_29__.NavItemComponent, _libs_components_src_navigation_nav_logo_component__WEBPACK_IMPORTED_MODULE_30__.NavLogoComponent, _layouts_web_layout_component__WEBPACK_IMPORTED_MODULE_16__.WebLayoutComponent, _layouts_web_side_nav_component__WEBPACK_IMPORTED_MODULE_17__.WebSideNavComponent, _bitwarden_components__WEBPACK_IMPORTED_MODULE_31__.IconModule,
        _layouts_org_switcher_org_switcher_component__WEBPACK_IMPORTED_MODULE_13__.OrgSwitcherComponent,
        _bitwarden_components__WEBPACK_IMPORTED_MODULE_32__.BannerModule, _libs_components_src_banner_banner_component__WEBPACK_IMPORTED_MODULE_33__.BannerComponent, _bitwarden_web_vault_app_billing_warnings_components__WEBPACK_IMPORTED_MODULE_11__.TaxIdWarningComponent,
        _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_9__.OrganizationWarningsModule], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/manage/entity-events.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/admin-console/organizations/manage/entity-events.component.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EntityEventsComponent: () => (/* binding */ EntityEventsComponent),
/* harmony export */   openEntityEventsDialog: () => (/* binding */ openEntityEventsDialog)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_angular_pipes_user_name_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/angular/pipes/user-name.pipe */ "../../libs/angular/src/pipes/user-name.pipe.ts");
/* harmony import */ var _bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/abstractions/api.service */ "../../libs/common/src/abstractions/api.service.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_models_view_event_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/models/view/event.view */ "../../libs/common/src/models/view/event.view.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/log.service */ "../../libs/common/src/platform/abstractions/log.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_validation_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/validation.service */ "../../libs/common/src/platform/abstractions/validation.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/table/table-data-source.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @bitwarden/components */ "../../node_modules/@angular/cdk/fesm2022/dialog.mjs");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core */ "./src/app/core/index.ts");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared */ "./src/app/shared/index.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../../libs/components/src/a11y/a11y-title.directive */ "../../libs/components/src/a11y/a11y-title.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_bit_action_directive__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/bit-action.directive */ "../../libs/components/src/async-actions/bit-action.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/form-button.directive */ "../../libs/components/src/async-actions/form-button.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/bit-submit.directive */ "../../libs/components/src/async-actions/bit-submit.directive.ts");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../../../../libs/components/src/dialog/directives/dialog-close.directive */ "../../libs/components/src/dialog/directives/dialog-close.directive.ts");
/* harmony import */ var _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../../../libs/components/src/dialog/dialog/dialog.component */ "../../libs/components/src/dialog/dialog/dialog.component.ts");
/* harmony import */ var _libs_components_src_form_control_label_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../../../libs/components/src/form-control/label.component */ "../../libs/components/src/form-control/label.component.ts");
/* harmony import */ var _libs_components_src_input_input_directive__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../../../libs/components/src/input/input.directive */ "../../libs/components/src/input/input.directive.ts");
/* harmony import */ var _libs_components_src_form_field_form_field_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../../../libs/components/src/form-field/form-field.component */ "../../libs/components/src/form-field/form-field.component.ts");
/* harmony import */ var _libs_components_src_table_cell_directive__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/cell.directive */ "../../libs/components/src/table/cell.directive.ts");
/* harmony import */ var _libs_components_src_table_row_directive__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/row.directive */ "../../libs/components/src/table/row.directive.ts");
/* harmony import */ var _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/table.component */ "../../libs/components/src/table/table.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};











































function EntityEventsComponent_small_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "small", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](ctx_r0.name);
} }
function EntityEventsComponent_div_27_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](2, 1, "noEventsInList"), " ");
} }
function EntityEventsComponent_bit_table_28_th_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "th", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](2, 1, "member"));
} }
function EntityEventsComponent_bit_table_28_ng_template_14_tr_0_td_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "td", 19)(1, "span", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const r_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpropertyInterpolate"]("appA11yTitle", r_r2.userEmail);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](r_r2.userName);
} }
function EntityEventsComponent_bit_table_28_ng_template_14_tr_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "tr", 24)(1, "td", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](3, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "td", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](8, EntityEventsComponent_bit_table_28_ng_template_14_tr_0_td_8_Template, 3, 2, "td", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](9, "td", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const r_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind2"](3, 11, r_r2.date, "medium"));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵclassMapInterpolate1"]("tw-text-muted bwi bwi-lg ", r_r2.appIcon, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpropertyInterpolate2"]("title", "", r_r2.appName, ", ", r_r2.ip, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate2"]("", r_r2.appName, ", ", r_r2.ip, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r0.showUser);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("innerHTML", r_r2.message, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵsanitizeHtml"]);
} }
function EntityEventsComponent_bit_table_28_ng_template_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](0, EntityEventsComponent_bit_table_28_ng_template_14_tr_0_Template, 10, 14, "tr", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](1, "async");
} if (rf & 2) {
    const rows$_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](1, 1, rows$_r3));
} }
function EntityEventsComponent_bit_table_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "bit-table", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](1, 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](2, "tr")(3, "th", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "th", 19)(7, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](9, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](10, EntityEventsComponent_bit_table_28_th_10_Template, 3, 3, "th", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](11, "th", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](13, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](14, EntityEventsComponent_bit_table_28_ng_template_14_Template, 2, 3, "ng-template", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("dataSource", ctx_r0.dataSource);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](5, 5, "timestamp"));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](9, 7, "client"));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r0.showUser);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](13, 9, "event"));
} }
function EntityEventsComponent_button_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("bitAction", ctx_r0.loadMoreEvents);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](2, 2, "loadMore"), " ");
} }
class EntityEventsComponent {
    get name() {
        return this.params.name;
    }
    get showUser() {
        var _a;
        return (_a = this.params.showUser) !== null && _a !== void 0 ? _a : false;
    }
    constructor(params, apiService, i18nService, eventService, userNamePipe, logService, organizationUserApiService, formBuilder, validationService, toastService, router, activeRoute, accountService, organizationService) {
        this.params = params;
        this.apiService = apiService;
        this.i18nService = i18nService;
        this.eventService = eventService;
        this.userNamePipe = userNamePipe;
        this.logService = logService;
        this.organizationUserApiService = organizationUserApiService;
        this.formBuilder = formBuilder;
        this.validationService = validationService;
        this.toastService = toastService;
        this.router = router;
        this.activeRoute = activeRoute;
        this.accountService = accountService;
        this.organizationService = organizationService;
        this.loading = true;
        this.dataSource = new _bitwarden_components__WEBPACK_IMPORTED_MODULE_13__.TableDataSource();
        this.filterFormGroup = this.formBuilder.group({
            start: [""],
            end: [""],
        });
        this.orgUsersUserIdMap = new Map();
        this.orgUsersIdMap = new Map();
        this.loadMoreEvents = () => __awaiter(this, void 0, void 0, function* () {
            yield this.loadEvents(false);
        });
        this.refreshEvents = () => __awaiter(this, void 0, void 0, function* () {
            yield this.loadEvents(true);
        });
    }
    ngOnInit() {
        return __awaiter(this, void 0, void 0, function* () {
            const defaultDates = this.eventService.getDefaultDateFilters();
            this.filterFormGroup.setValue({
                start: defaultDates[0],
                end: defaultDates[1],
            });
            yield this.load();
        });
    }
    ngOnDestroy() {
        return __awaiter(this, void 0, void 0, function* () {
            yield (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.firstValueFrom)(this.activeRoute.queryParams.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.switchMap)((params) => __awaiter(this, void 0, void 0, function* () {
                yield this.router.navigate([], {
                    queryParams: Object.assign(Object.assign({}, params), { viewEvents: null }),
                });
            }))));
        });
    }
    load() {
        return __awaiter(this, void 0, void 0, function* () {
            try {
                if (this.showUser) {
                    const response = yield this.organizationUserApiService.getAllMiniUserDetails(this.params.organizationId);
                    response.data.forEach((u) => {
                        const name = this.userNamePipe.transform(u);
                        this.orgUsersIdMap.set(u.id, { name: name, email: u.email });
                        this.orgUsersUserIdMap.set(u.userId, { name: name, email: u.email });
                    });
                }
                yield this.loadEvents(true);
            }
            catch (e) {
                this.logService.error(e);
                this.validationService.showError(e);
            }
            this.loading = false;
        });
    }
    loadEvents(clearExisting) {
        return __awaiter(this, void 0, void 0, function* () {
            let dates = null;
            try {
                dates = this.eventService.formatDateFilters(this.filterFormGroup.value.start, this.filterFormGroup.value.end);
                // FIXME: Remove when updating file. Eslint update
                // eslint-disable-next-line @typescript-eslint/no-unused-vars
            }
            catch (e) {
                this.toastService.showToast({
                    variant: "error",
                    title: this.i18nService.t("errorOccurred"),
                    message: this.i18nService.t("invalidDateRange"),
                });
                return;
            }
            let response;
            if (this.params.entity === "user" && this.params.providerId) {
                response = yield this.apiService.getEventsProviderUser(this.params.providerId, this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            else if (this.params.entity === "user") {
                response = yield this.apiService.getEventsOrganizationUser(this.params.organizationId, this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            else if (this.params.entity === "secret") {
                response = yield this.apiService.getEventsSecret(this.params.organizationId, this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            else if (this.params.entity === "service-account") {
                response = yield this.apiService.getEventsServiceAccount(this.params.organizationId, this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            else if (this.params.entity === "project") {
                response = yield this.apiService.getEventsProject(this.params.organizationId, this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            else {
                response = yield this.apiService.getEventsCipher(this.params.entityId, dates[0], dates[1], clearExisting ? null : this.continuationToken);
            }
            this.continuationToken = response.continuationToken;
            const events = yield Promise.all(response.data.map((r) => __awaiter(this, void 0, void 0, function* () {
                const userId = r.actingUserId == null ? r.userId : r.actingUserId;
                const eventInfo = yield this.eventService.getEventInfo(r);
                const user = this.showUser && userId != null && this.orgUsersUserIdMap.has(userId)
                    ? this.orgUsersUserIdMap.get(userId)
                    : null;
                return new _bitwarden_common_models_view_event_view__WEBPACK_IMPORTED_MODULE_5__.EventView({
                    message: eventInfo.message,
                    humanReadableMessage: eventInfo.humanReadableMessage,
                    appIcon: eventInfo.appIcon,
                    appName: eventInfo.appName,
                    userId: userId,
                    userName: user != null ? user.name : this.showUser ? this.i18nService.t("unknown") : null,
                    userEmail: user != null ? user.email : this.showUser ? "" : null,
                    date: r.date,
                    ip: r.ipAddress,
                    type: r.type,
                    installationId: r.installationId,
                    systemUser: r.systemUser,
                    serviceAccountId: r.serviceAccountId,
                });
            })));
            if (!clearExisting && this.dataSource.data != null && this.dataSource.data.length > 0) {
                this.dataSource.data = this.dataSource.data.concat(events);
            }
            else {
                this.dataSource.data = events;
            }
        });
    }
}
EntityEventsComponent.ɵfac = function EntityEventsComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || EntityEventsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_16__.DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_2__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_6__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_core__WEBPACK_IMPORTED_MODULE_9__.EventService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_angular_pipes_user_name_pipe__WEBPACK_IMPORTED_MODULE_1__.UserNamePipe), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_7__.LogService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.OrganizationUserApiService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_validation_service__WEBPACK_IMPORTED_MODULE_8__.ValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_18__.ToastService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_19__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_19__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_4__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_3__.OrganizationService)); };
EntityEventsComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EntityEventsComponent, selectors: [["ng-component"]], decls: 34, vars: 28, consts: [["dialogSize", "large", 3, "loading"], ["bitDialogTitle", ""], ["class", "tw-text-muted", 4, "ngIf"], ["bitDialogContent", ""], [3, "formGroup", "bitSubmit"], [1, "tw-flex", "tw-items-center", "tw-space-x-2"], ["bitInput", "", "type", "datetime-local", "id", "start", "formControlName", "start", 3, "placeholder"], [1, "tw-mx-2"], ["bitInput", "", "type", "datetime-local", "id", "end", "formControlName", "end", 3, "placeholder"], ["type", "submit", "bitButton", "", "buttonType", "primary", "bitFormButton", ""], ["aria-hidden", "true", 1, "bwi", "bwi-refresh", "bwi-fw"], [4, "ngIf"], [3, "dataSource", 4, "ngIf"], ["bitButton", "", "buttonType", "secondary", "block", "", "type", "button", 3, "bitAction", 4, "ngIf"], ["bitDialogFooter", ""], ["bitButton", "", "buttonType", "secondary", "type", "button", "bitDialogClose", ""], [1, "tw-text-muted"], [3, "dataSource"], ["header", ""], ["bitCell", ""], [1, "tw-sr-only"], ["bitCell", "", 4, "ngIf"], ["body", ""], ["bitRow", "", 4, "ngFor", "ngForOf"], ["bitRow", ""], ["aria-hidden", "true", 3, "title"], ["bitCell", "", 3, "innerHTML"], [3, "appA11yTitle"], ["bitButton", "", "buttonType", "secondary", "block", "", "type", "button", 3, "bitAction"]], template: function EntityEventsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "bit-dialog", 0)(1, "span", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](3, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](4, EntityEventsComponent_small_4_Template, 2, 1, "small", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](5, "div", 3)(6, "form", 4)(7, "div", 5)(8, "bit-form-field")(9, "bit-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](11, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](12, "input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](13, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](14, "span", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](15, "-");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](16, "bit-form-field")(17, "bit-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](19, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](20, "input", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](21, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](22, "button", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](23, "i", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](24);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](25, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](26, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](27, EntityEventsComponent_div_27_Template, 3, 3, "div", 11)(28, EntityEventsComponent_bit_table_28_Template, 15, 11, "bit-table", 12)(29, EntityEventsComponent_button_29_Template, 3, 4, "button", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](30, 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](31, "button", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](32);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](33, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("loading", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](3, 14, "eventLogs"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.filterFormGroup)("bitSubmit", ctx.refreshEvents);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](11, 16, "from"));
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](13, 18, "startDate"));
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](19, 20, "to"));
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](21, 22, "endDate"));
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](25, 24, "refresh"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx.dataSource.data || !ctx.dataSource.data.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.dataSource == null ? null : ctx.dataSource.data == null ? null : ctx.dataSource.data.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.continuationToken);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](33, 26, "close"), " ");
    } }, dependencies: [_shared__WEBPACK_IMPORTED_MODULE_10__.SharedModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormControlName, _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_21__.A11yTitleDirective, _libs_components_src_async_actions_bit_action_directive__WEBPACK_IMPORTED_MODULE_22__.BitActionDirective, _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_23__.BitFormButtonDirective, _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_24__.BitSubmitDirective, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_25__.ButtonComponent, _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_26__.DialogCloseDirective, _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_27__.DialogComponent, _libs_components_src_form_control_label_component__WEBPACK_IMPORTED_MODULE_28__.BitLabel, _libs_components_src_input_input_directive__WEBPACK_IMPORTED_MODULE_29__.BitInputDirective, _libs_components_src_form_field_form_field_component__WEBPACK_IMPORTED_MODULE_30__.BitFormFieldComponent, _libs_components_src_table_cell_directive__WEBPACK_IMPORTED_MODULE_31__.CellDirective, _libs_components_src_table_row_directive__WEBPACK_IMPORTED_MODULE_32__.RowDirective, _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_33__.TableBodyDirective, _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_33__.TableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_20__.AsyncPipe, _angular_common__WEBPACK_IMPORTED_MODULE_20__.DatePipe, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_11__.I18nPipe], encapsulation: 2 });
/**
 * Strongly typed helper to open a EntityEventsComponent as a dialog
 * @param dialogService Instance of the dialog service that will be used to open the dialog
 * @param config Configuration for the dialog
 */
const openEntityEventsDialog = (dialogService, config) => {
    return dialogService.open(EntityEventsComponent, config);
};


/***/ }),

/***/ "./src/app/admin-console/organizations/manage/group-add-edit.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/admin-console/organizations/manage/group-add-edit.component.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GroupAddEditComponent: () => (/* binding */ GroupAddEditComponent),
/* harmony export */   GroupAddEditDialogResultType: () => (/* binding */ GroupAddEditDialogResultType),
/* harmony export */   GroupAddEditTabType: () => (/* binding */ GroupAddEditTabType),
/* harmony export */   openGroupAddEditDialog: () => (/* binding */ openGroupAddEditDialog)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/from.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/Subject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/of.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/concatMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/catchError.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/abstractions/api.service */ "../../libs/common/src/abstractions/api.service.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_models_response_error_response__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/models/response/error.response */ "../../libs/common/src/models/response/error.response.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/config/config.service */ "../../libs/common/src/platform/abstractions/config/config.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/log.service */ "../../libs/common/src/platform/abstractions/log.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/platform-utils.service */ "../../libs/common/src/platform/abstractions/platform-utils.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @bitwarden/components */ "../../node_modules/@angular/cdk/fesm2022/dialog.mjs");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core */ "./src/app/admin-console/organizations/core/index.ts");
/* harmony import */ var _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shared/components/access-selector */ "./src/app/admin-console/organizations/shared/components/access-selector/index.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_components_src_input_autofocus_directive__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../../../libs/components/src/input/autofocus.directive */ "../../libs/components/src/input/autofocus.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_bit_action_directive__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/bit-action.directive */ "../../libs/components/src/async-actions/bit-action.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/form-button.directive */ "../../libs/components/src/async-actions/form-button.directive.ts");
/* harmony import */ var _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../../../../libs/components/src/async-actions/bit-submit.directive */ "../../libs/components/src/async-actions/bit-submit.directive.ts");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../../../../libs/components/src/dialog/directives/dialog-close.directive */ "../../libs/components/src/dialog/directives/dialog-close.directive.ts");
/* harmony import */ var _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../../../../libs/components/src/dialog/dialog/dialog.component */ "../../libs/components/src/dialog/dialog/dialog.component.ts");
/* harmony import */ var _libs_components_src_form_control_label_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../../../../libs/components/src/form-control/label.component */ "../../libs/components/src/form-control/label.component.ts");
/* harmony import */ var _libs_components_src_form_control_hint_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../../../../libs/components/src/form-control/hint.component */ "../../libs/components/src/form-control/hint.component.ts");
/* harmony import */ var _libs_components_src_input_input_directive__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../../../../libs/components/src/input/input.directive */ "../../libs/components/src/input/input.directive.ts");
/* harmony import */ var _libs_components_src_form_field_form_field_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../../../../libs/components/src/form-field/form-field.component */ "../../libs/components/src/form-field/form-field.component.ts");
/* harmony import */ var _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../../../../libs/components/src/icon-button/icon-button.component */ "../../libs/components/src/icon-button/icon-button.component.ts");
/* harmony import */ var _libs_components_src_tabs_tab_group_tab_group_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../../../../libs/components/src/tabs/tab-group/tab-group.component */ "../../libs/components/src/tabs/tab-group/tab-group.component.ts");
/* harmony import */ var _libs_components_src_tabs_tab_group_tab_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../../../../../libs/components/src/tabs/tab-group/tab.component */ "../../libs/components/src/tabs/tab-group/tab.component.ts");
/* harmony import */ var _shared_components_access_selector_access_selector_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../shared/components/access-selector/access-selector.component */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.component.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore













































function GroupAddEditComponent_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](ctx_r0.group == null ? null : ctx_r0.group.name);
} }
function GroupAddEditComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](1, "i", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](3, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](2, 2, "loading"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](5, 4, "loading"));
} }
function GroupAddEditComponent_bit_tab_group_7_bit_form_field_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "bit-form-field")(1, "bit-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](3, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](4, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](5, "bit-hint");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](7, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](3, 2, "externalId"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](7, 4, "externalIdDesc"));
} }
function GroupAddEditComponent_bit_tab_group_7_span_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](2, 1, "restrictedGroupAccessDesc"), " ");
} }
function GroupAddEditComponent_bit_tab_group_7_span_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](2, 1, "restrictedCollectionAssignmentDesc"), " ");
} }
function GroupAddEditComponent_bit_tab_group_7_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "bit-tab-group", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtwoWayListener"]("selectedIndexChange", function GroupAddEditComponent_bit_tab_group_7_Template_bit_tab_group_selectedIndexChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r2); const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtwoWayBindingSet"](ctx_r0.tabIndex, $event) || (ctx_r0.tabIndex = $event); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"]($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "bit-tab", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](3, "bit-form-field")(4, "bit-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](6, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](7, "input", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](8, "bit-hint");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](10, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](11, GroupAddEditComponent_bit_tab_group_7_bit_form_field_11_Template, 8, 6, "bit-form-field", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "bit-tab", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](13, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](16, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](17, GroupAddEditComponent_bit_tab_group_7_span_17_Template, 3, 3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](18, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](19, "bit-access-selector", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](20, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](21, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](22, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](23, "bit-tab", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](24, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](25, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](27, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](28, GroupAddEditComponent_bit_tab_group_7_span_28_Template, 3, 3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](29, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](30, "bit-access-selector", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](31, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](32, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](33, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtwoWayProperty"]("selectedIndex", ctx_r0.tabIndex);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpropertyInterpolate"]("label", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](2, 22, "groupInfo"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](6, 24, "name"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind2"](10, 26, "characterMaximum", 100));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx_r0.isExternalIdVisible);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpropertyInterpolate"]("label", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](13, 29, "members"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](16, 31, "editGroupMembersDesc"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](18, 33, ctx_r0.cannotAddSelfToGroup$));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("items", ctx_r0.members)("showMemberRoles", true)("permissionMode", ctx_r0.PermissionMode.Hidden)("columnHeader", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](20, 35, "member"))("selectorLabelText", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](21, 37, "selectMembers"))("emptySelectionText", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](22, 39, "noMembersAdded"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpropertyInterpolate"]("label", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](24, 41, "collections"));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](27, 43, "editGroupCollectionsDesc"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", !_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](29, 45, ctx_r0.canAssignAccessToAnyCollection$));
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("items", ctx_r0.collections)("permissionMode", ctx_r0.PermissionMode.Edit)("columnHeader", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](31, 47, "collection"))("selectorLabelText", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](32, 49, "selectCollections"))("emptySelectionText", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](33, 51, "noCollectionsAdded"));
} }
/**
 * Indices for the available tabs in the dialog
 */
// FIXME: update to use a const object instead of a typescript enum
// eslint-disable-next-line @bitwarden/platform/no-enums
var GroupAddEditTabType;
(function (GroupAddEditTabType) {
    GroupAddEditTabType[GroupAddEditTabType["Info"] = 0] = "Info";
    GroupAddEditTabType[GroupAddEditTabType["Members"] = 1] = "Members";
    GroupAddEditTabType[GroupAddEditTabType["Collections"] = 2] = "Collections";
})(GroupAddEditTabType || (GroupAddEditTabType = {}));
// FIXME: update to use a const object instead of a typescript enum
// eslint-disable-next-line @bitwarden/platform/no-enums
var GroupAddEditDialogResultType;
(function (GroupAddEditDialogResultType) {
    GroupAddEditDialogResultType["Saved"] = "saved";
    GroupAddEditDialogResultType["Canceled"] = "canceled";
    GroupAddEditDialogResultType["Deleted"] = "deleted";
})(GroupAddEditDialogResultType || (GroupAddEditDialogResultType = {}));
/**
 * Strongly typed helper to open a groupAddEditDialog
 * @param dialogService Instance of the dialog service that will be used to open the dialog
 * @param config Configuration for the dialog
 */
const openGroupAddEditDialog = (dialogService, config) => {
    return dialogService.open(GroupAddEditComponent, config);
};
class GroupAddEditComponent {
    get groupId() {
        return this.params.groupId;
    }
    get organizationId() {
        return this.params.organizationId;
    }
    get isExternalIdVisible() {
        var _a;
        return !!((_a = this.groupForm.get("externalId")) === null || _a === void 0 ? void 0 : _a.value);
    }
    get editMode() {
        return this.groupId != null;
    }
    get orgMembers$() {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_15__.from)(this.organizationUserApiService.getAllMiniUserDetails(this.organizationId)).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((response) => response.data.map((m) => {
            var _a;
            return ({
                id: m.id,
                type: _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.AccessItemType.Member,
                email: m.email,
                role: m.type,
                listName: ((_a = m.name) === null || _a === void 0 ? void 0 : _a.length) > 0 ? `${m.name} (${m.email})` : m.email,
                labelName: m.name || m.email,
                status: m.status,
                userId: m.userId,
            });
        })));
    }
    constructor(params, dialogRef, apiService, organizationUserApiService, groupService, i18nService, platformUtilsService, logService, formBuilder, changeDetectorRef, dialogService, organizationService, accountService, collectionAdminService, toastService, configService) {
        var _a;
        this.params = params;
        this.dialogRef = dialogRef;
        this.apiService = apiService;
        this.organizationUserApiService = organizationUserApiService;
        this.groupService = groupService;
        this.i18nService = i18nService;
        this.platformUtilsService = platformUtilsService;
        this.logService = logService;
        this.formBuilder = formBuilder;
        this.changeDetectorRef = changeDetectorRef;
        this.dialogService = dialogService;
        this.organizationService = organizationService;
        this.accountService = accountService;
        this.collectionAdminService = collectionAdminService;
        this.toastService = toastService;
        this.configService = configService;
        this.organization$ = this.accountService.activeAccount$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_17__.switchMap)((account) => this.organizationService
            .organizations$(account === null || account === void 0 ? void 0 : account.id)
            .pipe((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_2__.getOrganizationById)(this.organizationId))
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.shareReplay)({ refCount: true }))));
        this.PermissionMode = _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.PermissionMode;
        this.ResultType = GroupAddEditDialogResultType;
        this.loading = true;
        this.collections = [];
        this.members = [];
        this.groupForm = this.formBuilder.group({
            name: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_19__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_19__.Validators.maxLength(100)]],
            externalId: this.formBuilder.control({ value: "", disabled: true }),
            members: [[]],
            collections: [[]],
        });
        this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_20__.Subject();
        this.orgCollections$ = this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_4__.getUserId, (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.switchMap)((userId) => this.collectionAdminService.collectionAdminViews$(this.organizationId, userId)), (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.groupDetails$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.of)(this.editMode).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.concatMap)((editMode) => {
            if (!editMode) {
                return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.of)(undefined);
            }
            return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.combineLatest)([
                this.groupService.get(this.organizationId, this.groupId),
                this.apiService.getGroupUsers(this.organizationId, this.groupId),
            ]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.map)(([groupView, users]) => {
                return Object.assign(Object.assign({}, groupView), { members: users });
            }), (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.catchError)((e) => {
                if (e instanceof _bitwarden_common_models_response_error_response__WEBPACK_IMPORTED_MODULE_5__.ErrorResponse) {
                    this.logService.error(e.message);
                }
                else {
                    this.logService.error(e.toString());
                }
                return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.of)(undefined);
            }));
        }), (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.shareReplay)({ refCount: true, bufferSize: 1 }));
        this.allowAdminAccessToAllCollectionItems$ = this.organization$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((organization) => {
            return organization.allowAdminAccessToAllCollectionItems;
        }));
        this.canAssignAccessToAnyCollection$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.combineLatest)([
            this.organization$,
            this.allowAdminAccessToAllCollectionItems$,
        ]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.map)(([org, allowAdminAccessToAllCollectionItems]) => org.canEditAnyCollection ||
            // Manage Groups custom permission cannot edit any collection but they can assign access from this dialog
            // if permitted by collection management settings
            (org.permissions.manageGroups && allowAdminAccessToAllCollectionItems)));
        this.cannotAddSelfToGroup$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.combineLatest)([
            this.allowAdminAccessToAllCollectionItems$,
            this.groupDetails$,
        ]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.map)(([allowAdminAccess, groupDetails]) => !allowAdminAccess && groupDetails != null));
        this.submit = () => __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            this.groupForm.markAllAsTouched();
            if (this.groupForm.invalid) {
                if (this.tabIndex !== GroupAddEditTabType.Info) {
                    this.toastService.showToast({
                        variant: "error",
                        title: null,
                        message: this.i18nService.t("fieldOnTabRequiresAttention", this.i18nService.t("groupInfo")),
                    });
                }
                return;
            }
            const formValue = this.groupForm.value;
            const groupView = {
                id: this.groupId,
                organizationId: this.organizationId,
                name: formValue.name,
                members: (_b = (_a = formValue.members) === null || _a === void 0 ? void 0 : _a.map((m) => m.id)) !== null && _b !== void 0 ? _b : [],
                collections: formValue.collections.map((c) => (0,_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.convertToSelectionView)(c)),
                externalId: formValue.externalId,
            };
            yield this.groupService.save(groupView);
            this.toastService.showToast({
                variant: "success",
                title: null,
                message: this.i18nService.t(this.editMode ? "editedGroupId" : "createdGroupId", formValue.name),
            });
            this.dialogRef.close(GroupAddEditDialogResultType.Saved);
        });
        this.delete = () => __awaiter(this, void 0, void 0, function* () {
            if (!this.editMode) {
                return;
            }
            const confirmed = yield this.dialogService.openSimpleDialog({
                title: this.group.name,
                content: { key: "deleteGroupConfirmation" },
                type: "warning",
            });
            if (!confirmed) {
                return false;
            }
            yield this.groupService.delete(this.organizationId, this.groupId);
            this.toastService.showToast({
                variant: "success",
                title: null,
                message: this.i18nService.t("deletedGroupId", this.group.name),
            });
            this.dialogRef.close(GroupAddEditDialogResultType.Deleted);
        });
        this.tabIndex = (_a = params.initialTab) !== null && _a !== void 0 ? _a : GroupAddEditTabType.Info;
    }
    ngOnInit() {
        this.loading = true;
        this.title = this.i18nService.t(this.editMode ? "editGroup" : "newGroup");
        (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.combineLatest)([
            this.orgCollections$,
            this.orgMembers$,
            this.groupDetails$,
            this.cannotAddSelfToGroup$,
            this.accountService.activeAccount$,
            this.organization$,
        ])
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_25__.takeUntil)(this.destroy$))
            .subscribe(([collections, members, group, restrictGroupAccess, activeAccount, organization]) => {
            var _a;
            this.members = members;
            this.group = group;
            this.collections = mapToAccessItemViews(collections, organization, group);
            if (this.group != undefined) {
                // Must detect changes so that AccessSelector @Inputs() are aware of the latest
                // collections/members set above, otherwise no selected values will be patched below
                this.changeDetectorRef.detectChanges();
                this.groupForm.patchValue({
                    name: this.group.name,
                    externalId: this.group.externalId,
                    members: this.group.members.map((m) => ({
                        id: m,
                        type: _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.AccessItemType.Member,
                    })),
                    collections: mapToAccessSelections(group, this.collections),
                });
            }
            // If the current user is not already in the group and cannot add themselves, remove them from the list
            if (restrictGroupAccess) {
                // organizationUserId may be null if accessing via a provider
                const organizationUserId = (_a = this.members.find((m) => m.userId === activeAccount.id)) === null || _a === void 0 ? void 0 : _a.id;
                const isAlreadyInGroup = this.groupForm.value.members.some((m) => m.id === organizationUserId);
                if (organizationUserId != null && !isAlreadyInGroup) {
                    this.members = this.members.filter((m) => m.id !== organizationUserId);
                }
            }
            this.loading = false;
        });
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
}
GroupAddEditComponent.ɵfac = function GroupAddEditComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || GroupAddEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_26__.DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_27__.DialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_1__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.OrganizationUserApiService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_core__WEBPACK_IMPORTED_MODULE_10__.InternalGroupApiService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_7__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_platform_utils_service__WEBPACK_IMPORTED_MODULE_9__.PlatformUtilsService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_8__.LogService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_19__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_14__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_27__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_2__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_3__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionAdminService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_28__.ToastService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_6__.ConfigService)); };
GroupAddEditComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: GroupAddEditComponent, selectors: [["app-group-add-edit"]], standalone: false, decls: 17, vars: 18, consts: [[3, "formGroup", "bitSubmit"], ["dialogSize", "large", 3, "disablePadding"], ["bitDialogTitle", ""], ["class", "tw-text-sm tw-normal-case tw-text-muted", 4, "ngIf"], ["bitDialogContent", ""], [4, "ngIf"], [3, "selectedIndex", "selectedIndexChange", 4, "ngIf"], ["bitDialogFooter", ""], ["bitButton", "", "buttonType", "primary", "bitFormButton", "", "type", "submit"], ["bitButton", "", "buttonType", "secondary", "type", "button", 3, "bitDialogClose"], ["type", "button", "buttonType", "danger", "bitIconButton", "bwi-trash", "bitFormButton", "", 1, "tw-ml-auto", 3, "bitAction", "label"], [1, "tw-text-sm", "tw-normal-case", "tw-text-muted"], ["aria-hidden", "true", 1, "bwi", "bwi-spinner", "bwi-spin", "tw-text-muted", 3, "title"], [1, "tw-sr-only"], [3, "selectedIndexChange", "selectedIndex"], [3, "label"], ["bitInput", "", "appAutofocus", "", "type", "text", "formControlName", "name"], ["formControlName", "members", 3, "items", "showMemberRoles", "permissionMode", "columnHeader", "selectorLabelText", "emptySelectionText"], ["formControlName", "collections", 3, "items", "permissionMode", "columnHeader", "selectorLabelText", "emptySelectionText"], ["bitInput", "", "type", "text", "formControlName", "externalId"]], template: function GroupAddEditComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "form", 0)(1, "bit-dialog", 1)(2, "span", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](4, GroupAddEditComponent_span_4_Template, 2, 1, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](6, GroupAddEditComponent_div_6_Template, 6, 6, "div", 5)(7, GroupAddEditComponent_bit_tab_group_7_Template, 34, 53, "bit-tab-group", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementContainerStart"](8, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](9, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](11, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "button", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](14, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipe"](16, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.groupForm)("bitSubmit", ctx.submit);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("disablePadding", !ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", ctx.title, " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.editMode);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", !ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](11, 12, "save"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("bitDialogClose", ctx.ResultType.Canceled);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](14, 14, "cancel"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("bitAction", ctx.delete)("label", _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵpipeBind1"](16, 16, "delete"));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_29__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_19__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_19__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_19__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_19__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_19__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_19__.FormControlName, _libs_components_src_input_autofocus_directive__WEBPACK_IMPORTED_MODULE_30__.AutofocusDirective, _libs_components_src_async_actions_bit_action_directive__WEBPACK_IMPORTED_MODULE_31__.BitActionDirective, _libs_components_src_async_actions_form_button_directive__WEBPACK_IMPORTED_MODULE_32__.BitFormButtonDirective, _libs_components_src_async_actions_bit_submit_directive__WEBPACK_IMPORTED_MODULE_33__.BitSubmitDirective, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_34__.ButtonComponent, _libs_components_src_dialog_directives_dialog_close_directive__WEBPACK_IMPORTED_MODULE_35__.DialogCloseDirective, _libs_components_src_dialog_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_36__.DialogComponent, _libs_components_src_form_control_label_component__WEBPACK_IMPORTED_MODULE_37__.BitLabel, _libs_components_src_form_control_hint_component__WEBPACK_IMPORTED_MODULE_38__.BitHintComponent, _libs_components_src_input_input_directive__WEBPACK_IMPORTED_MODULE_39__.BitInputDirective, _libs_components_src_form_field_form_field_component__WEBPACK_IMPORTED_MODULE_40__.BitFormFieldComponent, _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_41__.BitIconButtonComponent, _libs_components_src_tabs_tab_group_tab_group_component__WEBPACK_IMPORTED_MODULE_42__.TabGroupComponent, _libs_components_src_tabs_tab_group_tab_component__WEBPACK_IMPORTED_MODULE_43__.TabComponent, _shared_components_access_selector_access_selector_component__WEBPACK_IMPORTED_MODULE_12__.AccessSelectorComponent, _angular_common__WEBPACK_IMPORTED_MODULE_29__.AsyncPipe, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_13__.I18nPipe], encapsulation: 2 });
/**
 * Maps the group's current collection access to AccessItemValues to populate the access-selector's FormControl
 */
function mapToAccessSelections(group, items) {
    return (group.collections
        // The FormControl value only represents editable collection access - exclude readonly access selections
        .filter((selection) => !items.find((item) => item.id == selection.id).readonly)
        .map((gc) => ({
        id: gc.id,
        type: _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.AccessItemType.Collection,
        permission: (0,_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.convertToPermission)(gc),
    })));
}
/**
 * Maps the organization's collections to AccessItemViews to populate the access-selector's multi-select
 */
function mapToAccessItemViews(collections, organization, group) {
    return (collections
        .map((c) => {
        var _a;
        const accessSelection = (_a = group === null || group === void 0 ? void 0 : group.collections.find((access) => access.id == c.id)) !== null && _a !== void 0 ? _a : undefined;
        return {
            id: c.id,
            type: _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.AccessItemType.Collection,
            labelName: c.name,
            listName: c.name,
            readonly: !c.canEditGroupAccess(organization),
            readonlyPermission: accessSelection ? (0,_shared_components_access_selector__WEBPACK_IMPORTED_MODULE_11__.convertToPermission)(accessSelection) : undefined,
        };
    })
        // Remove any collection views that are not already assigned and that we don't have permissions to assign access to
        .filter((item) => !item.readonly || (group === null || group === void 0 ? void 0 : group.collections.some((access) => access.id == item.id))));
}


/***/ }),

/***/ "./src/app/admin-console/organizations/manage/groups.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/admin-console/organizations/manage/groups.component.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GroupsComponent: () => (/* binding */ GroupsComponent)
/* harmony export */ });
/* harmony import */ var _angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/core/rxjs-interop */ "../../node_modules/@angular/core/fesm2022/rxjs-interop.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/tap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/from.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/concatMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/dist/esm5/internal/operators/first.js");
/* harmony import */ var _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/admin-console/common */ "../../libs/admin-console/src/common/index.ts");
/* harmony import */ var _bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/abstractions/api.service */ "../../libs/common/src/abstractions/api.service.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/log.service */ "../../libs/common/src/platform/abstractions/log.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/table/table-data-source.ts");
/* harmony import */ var _bitwarden_key_management__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/key-management */ "../../libs/key-management/src/index.ts");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core */ "./src/app/admin-console/organizations/core/index.ts");
/* harmony import */ var _group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./group-add-edit.component */ "./src/app/admin-console/organizations/manage/group-add-edit.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/toast/toast.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _libs_components_src_badge_list_badge_list_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../../../libs/components/src/badge-list/badge-list.component */ "../../libs/components/src/badge-list/badge-list.component.ts");
/* harmony import */ var _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../../../../libs/components/src/button/button.component */ "../../libs/components/src/button/button.component.ts");
/* harmony import */ var _libs_components_src_checkbox_checkbox_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../../../../libs/components/src/checkbox/checkbox.component */ "../../libs/components/src/checkbox/checkbox.component.ts");
/* harmony import */ var _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../../../libs/components/src/icon-button/icon-button.component */ "../../libs/components/src/icon-button/icon-button.component.ts");
/* harmony import */ var _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../../../../libs/components/src/link/link.directive */ "../../libs/components/src/link/link.directive.ts");
/* harmony import */ var _libs_components_src_menu_menu_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../../../../libs/components/src/menu/menu.component */ "../../libs/components/src/menu/menu.component.ts");
/* harmony import */ var _libs_components_src_menu_menu_trigger_for_directive__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../../../../libs/components/src/menu/menu-trigger-for.directive */ "../../libs/components/src/menu/menu-trigger-for.directive.ts");
/* harmony import */ var _libs_components_src_menu_menu_item_directive__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../../../../libs/components/src/menu/menu-item.directive */ "../../libs/components/src/menu/menu-item.directive.ts");
/* harmony import */ var _libs_components_src_table_cell_directive__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/cell.directive */ "../../libs/components/src/table/cell.directive.ts");
/* harmony import */ var _libs_components_src_table_row_directive__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/row.directive */ "../../libs/components/src/table/row.directive.ts");
/* harmony import */ var _libs_components_src_table_sortable_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/sortable.component */ "../../libs/components/src/table/sortable.component.ts");
/* harmony import */ var _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../../../../libs/components/src/table/table.component */ "../../libs/components/src/table/table.component.ts");
/* harmony import */ var _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../../../../libs/components/src/search/search.component */ "../../libs/components/src/search/search.component.ts");
/* harmony import */ var _layouts_header_web_header_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layouts/header/web-header.component */ "./src/app/layouts/header/web-header.component.ts");
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @angular/cdk/scrolling */ "../../node_modules/@angular/cdk/fesm2022/scrolling.mjs");
/* harmony import */ var _libs_components_src_layout_scroll_layout_directive__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../../../../../libs/components/src/layout/scroll-layout.directive */ "../../libs/components/src/layout/scroll-layout.directive.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};












































function GroupsComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](5, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](2, 2, "loading"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](5, 4, "loading"));
} }
function GroupsComponent_ng_container_8_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](2, 1, "noGroupsInList"));
} }
function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "tr", 24)(1, "td", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_td_click_1_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.check(g_r4)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "input", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtwoWayListener"]("ngModelChange", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_input_ngModelChange_2_listener($event) { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtwoWayBindingSet"](g_r4.checked, $event) || (g_r4.checked = $event); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"]($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "td", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_td_click_3_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.edit(g_r4)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "td", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_td_click_6_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.edit(g_r4, ctx_r1.ModalTabType.Collections)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](7, "bit-badge-list", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "td", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](9, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](10, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](11, "bit-menu", null, 1)(13, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_button_click_13_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.edit(g_r4)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](14, "i", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](16, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](17, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_button_click_17_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.edit(g_r4, ctx_r1.ModalTabType.Members)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](18, "i", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](20, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](21, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_button_click_21_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.edit(g_r4, ctx_r1.ModalTabType.Collections)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](22, "i", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](23);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](24, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](25, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template_button_click_25_listener() { const g_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.delete(g_r4)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](26, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](27, "i", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](29, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const g_r4 = ctx.$implicit;
    const rowMenu_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](12);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngClass", ctx_r1.rowHeightClass);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtwoWayProperty"]("ngModel", g_r4.checked);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", g_r4.details.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("items", g_r4.collectionNames)("maxItems", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpropertyInterpolate"]("label", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](10, 11, "options"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("bitMenuTriggerFor", rowMenu_r5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](16, 13, "editInfo"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](20, 15, "members"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](24, 17, "collections"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](29, 19, "delete"), "");
} }
function GroupsComponent_ng_container_8_bit_table_3_ng_template_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, GroupsComponent_ng_container_8_bit_table_3_ng_template_24_tr_0_Template, 30, 21, "tr", 23);
} if (rf & 2) {
    const rows$_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("cdkVirtualForOf", rows$_r6);
} }
function GroupsComponent_ng_container_8_bit_table_3_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "bit-table", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](1, 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "tr")(3, "th", 12)(4, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("change", function GroupsComponent_ng_container_8_bit_table_3_Template_input_change_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.toggleAllVisible($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "th", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](10, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](11, "th", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](13, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](14, "th", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](15, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](16, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](17, "bit-menu", null, 0)(19, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_ng_container_8_bit_table_3_Template_button_click_19_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r1.deleteAllSelected()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](20, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](21, "i", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](23, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](24, GroupsComponent_ng_container_8_bit_table_3_ng_template_24_Template, 1, 1, "ng-template", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const headerMenu_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](18);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("dataSource", ctx_r1.dataSource);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 7, "all"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](10, 9, "name"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](13, 11, "collections"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpropertyInterpolate"]("label", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](16, 13, "options"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("bitMenuTriggerFor", headerMenu_r7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](23, 15, "delete"), "");
} }
function GroupsComponent_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, GroupsComponent_ng_container_8_p_1_Template, 3, 3, "p", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "cdk-virtual-scroll-viewport", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, GroupsComponent_ng_container_8_bit_table_3_Template, 25, 17, "bit-table", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r1.dataSource.filteredData.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("itemSize", ctx_r1.rowHeight);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r1.dataSource.filteredData.length);
} }
/**
 * Custom filter predicate that filters the groups table by id and name only.
 * This is required because the default implementation searches by all properties, which can unintentionally match
 * with members' names (who are assigned to the group) or collection names (which the group has access to).
 */
const groupsFilter = (filter) => {
    filter !== null && filter !== void 0 ? filter : (filter = "");
    const transformedFilter = filter.trim().toLowerCase();
    return (data) => {
        const group = data.details;
        return (group.id.toLowerCase().indexOf(transformedFilter) != -1 ||
            group.name.toLowerCase().indexOf(transformedFilter) != -1);
    };
};
class GroupsComponent {
    constructor(apiService, groupService, route, i18nService, dialogService, logService, collectionService, toastService, keyService, accountService) {
        this.apiService = apiService;
        this.groupService = groupService;
        this.route = route;
        this.i18nService = i18nService;
        this.dialogService = dialogService;
        this.logService = logService;
        this.collectionService = collectionService;
        this.toastService = toastService;
        this.keyService = keyService;
        this.accountService = accountService;
        this.loading = true;
        this.dataSource = new _bitwarden_components__WEBPACK_IMPORTED_MODULE_12__.TableDataSource();
        this.searchControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormControl("");
        // Fixed sizes used for cdkVirtualScroll
        this.rowHeight = 50;
        this.rowHeightClass = `tw-h-[50px]`;
        this.ModalTabType = _group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__.GroupAddEditTabType;
        this.refreshGroups$ = new rxjs__WEBPACK_IMPORTED_MODULE_14__.BehaviorSubject(null);
        this.route.params
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.tap)((params) => (this.organizationId = params.organizationId)), (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.switchMap)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.combineLatest)([
            // collectionMap
            (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.from)(this.apiService.getCollections(this.organizationId)).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_19__.concatMap)((response) => this.toCollectionMap(response))),
            // groups
            this.refreshGroups$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.switchMap)(() => this.groupService.getAllDetails(this.organizationId))),
        ])), (0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)(([collectionMap, groups]) => {
            return groups.map((g) => {
                var _a;
                return ({
                    id: g.id,
                    name: g.name,
                    details: g,
                    checked: false,
                    collectionNames: g.collections
                        .map((c) => { var _a; return (_a = collectionMap[c.id]) === null || _a === void 0 ? void 0 : _a.name; })
                        .sort((_a = this.i18nService.collator) === null || _a === void 0 ? void 0 : _a.compare),
                });
            });
        }), (0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_21__.takeUntilDestroyed)())
            .subscribe((groups) => {
            this.dataSource.data = groups;
            this.loading = false;
        });
        // Connect the search input to the table dataSource filter input
        this.searchControl.valueChanges
            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.debounceTime)(200), (0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_21__.takeUntilDestroyed)())
            .subscribe((v) => (this.dataSource.filter = groupsFilter(v)));
        this.route.queryParams.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.first)(), (0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_21__.takeUntilDestroyed)()).subscribe((qParams) => {
            this.searchControl.setValue(qParams.search);
        });
    }
    edit(group_1) {
        return __awaiter(this, arguments, void 0, function* (group, startingTabIndex = _group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__.GroupAddEditTabType.Info) {
            const dialogRef = (0,_group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__.openGroupAddEditDialog)(this.dialogService, {
                data: {
                    initialTab: startingTabIndex,
                    organizationId: this.organizationId,
                    groupId: group != null ? group.details.id : null,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.lastValueFrom)(dialogRef.closed);
            if (result == _group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__.GroupAddEditDialogResultType.Saved) {
                this.refreshGroups$.next();
            }
            else if (result == _group_add_edit_component__WEBPACK_IMPORTED_MODULE_8__.GroupAddEditDialogResultType.Deleted) {
                this.removeGroup(group);
            }
        });
    }
    add() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.edit(null);
        });
    }
    delete(groupRow) {
        return __awaiter(this, void 0, void 0, function* () {
            const confirmed = yield this.dialogService.openSimpleDialog({
                title: groupRow.details.name,
                content: { key: "deleteGroupConfirmation" },
                type: "warning",
            });
            if (!confirmed) {
                return false;
            }
            try {
                yield this.groupService.delete(this.organizationId, groupRow.details.id);
                this.toastService.showToast({
                    variant: "success",
                    title: null,
                    message: this.i18nService.t("deletedGroupId", groupRow.details.name),
                });
                this.removeGroup(groupRow);
            }
            catch (e) {
                this.logService.error(e);
            }
        });
    }
    deleteAllSelected() {
        return __awaiter(this, void 0, void 0, function* () {
            const groupsToDelete = this.dataSource.data.filter((g) => g.checked);
            if (groupsToDelete.length == 0) {
                return;
            }
            const deleteMessage = groupsToDelete.map((g) => g.details.name).join(", ");
            const confirmed = yield this.dialogService.openSimpleDialog({
                title: {
                    key: "deleteMultipleGroupsConfirmation",
                    placeholders: [groupsToDelete.length.toString()],
                },
                content: deleteMessage,
                type: "warning",
            });
            if (!confirmed) {
                return false;
            }
            try {
                yield this.groupService.deleteMany(this.organizationId, groupsToDelete.map((g) => g.details.id));
                this.toastService.showToast({
                    variant: "success",
                    title: null,
                    message: this.i18nService.t("deletedManyGroups", groupsToDelete.length.toString()),
                });
                groupsToDelete.forEach((g) => this.removeGroup(g));
            }
            catch (e) {
                this.logService.error(e);
            }
        });
    }
    check(groupRow) {
        groupRow.checked = !groupRow.checked;
    }
    toggleAllVisible(event) {
        this.dataSource.filteredData.forEach((g) => (g.checked = event.target.checked));
    }
    removeGroup(groupRow) {
        // Assign a new array to dataSource.data to trigger the setters and update the table
        this.dataSource.data = this.dataSource.data.filter((g) => g !== groupRow);
    }
    toCollectionMap(response) {
        const collections = response.data.map((r) => _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.Collection.fromCollectionData(new _bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionData(r)));
        return this.accountService.activeAccount$.pipe(_bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_3__.getUserId, (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.switchMap)((userId) => this.keyService.orgKeys$(userId)), (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.switchMap)((orgKeys) => this.collectionService.decryptMany$(collections, orgKeys)), (0,rxjs__WEBPACK_IMPORTED_MODULE_20__.map)((collections) => {
            const collectionMap = {};
            collections.forEach((c) => (collectionMap[c.id] = c));
            return collectionMap;
        }));
    }
}
GroupsComponent.ɵfac = function GroupsComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || GroupsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_common_abstractions_api_service__WEBPACK_IMPORTED_MODULE_1__.ApiService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_core__WEBPACK_IMPORTED_MODULE_7__.InternalGroupApiService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_25__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_26__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_log_service__WEBPACK_IMPORTED_MODULE_5__.LogService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_admin_console_common__WEBPACK_IMPORTED_MODULE_0__.CollectionService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_27__.ToastService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_key_management__WEBPACK_IMPORTED_MODULE_6__.KeyService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__.AccountService)); };
GroupsComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: GroupsComponent, selectors: [["ng-component"]], standalone: false, decls: 9, vars: 9, consts: [["headerMenu", ""], ["rowMenu", ""], [1, "tw-w-80", 3, "placeholder", "formControl"], ["bitButton", "", "type", "button", "buttonType", "primary", 3, "click"], ["aria-hidden", "true", 1, "bwi", "bwi-plus", "bwi-fw"], [4, "ngIf"], ["aria-hidden", "true", 1, "bwi", "bwi-spinner", "bwi-spin", "tw-text-muted", 3, "title"], [1, "tw-sr-only"], ["bitScrollLayout", "", 1, "tw-pb-8", 3, "itemSize"], [3, "dataSource", 4, "ngIf"], [3, "dataSource"], ["header", ""], ["bitCell", "", 1, "tw-w-20"], ["type", "checkbox", "bitCheckbox", "", "id", "selectAll", 1, "tw-mr-2", 3, "change"], ["for", "selectAll", 1, "tw-mb-0", "!tw-font-bold", "!tw-text-muted"], ["bitCell", "", "bitSortable", "name", "default", ""], ["bitCell", ""], ["bitCell", "", 1, "tw-w-10"], ["type", "button", "bitIconButton", "bwi-ellipsis-v", "size", "small", 3, "bitMenuTriggerFor", "label"], ["type", "button", "bitMenuItem", "", 3, "click"], [1, "tw-text-danger"], ["aria-hidden", "true", 1, "bwi", "bwi-trash"], ["body", ""], ["bitRow", "", 3, "ngClass", 4, "cdkVirtualFor", "cdkVirtualForOf"], ["bitRow", "", 3, "ngClass"], ["bitCell", "", 1, "tw-cursor-pointer", 3, "click"], ["type", "checkbox", "bitCheckbox", "", 3, "ngModelChange", "ngModel"], ["bitCell", "", 1, "tw-cursor-pointer", "tw-font-bold", 3, "click"], ["type", "button", "bitLink", ""], ["variant", "secondary", 3, "items", "maxItems"], ["aria-hidden", "true", 1, "bwi", "bwi-pencil-square"], ["aria-hidden", "true", 1, "bwi", "bwi-user"], ["aria-hidden", "true", 1, "bwi", "bwi-collection-shared"]], template: function GroupsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-header");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "bit-search", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function GroupsComponent_Template_button_click_3_listener() { return ctx.add(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](4, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](6, "i18n");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](7, GroupsComponent_ng_container_7_Template, 6, 6, "ng-container", 5)(8, GroupsComponent_ng_container_8_Template, 4, 3, "ng-container", 5);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](2, 5, "searchGroups"))("formControl", ctx.searchControl);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](6, 7, "newGroup"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx.loading);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_28__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_28__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgModel, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormControlDirective, _libs_components_src_badge_list_badge_list_component__WEBPACK_IMPORTED_MODULE_29__.BadgeListComponent, _libs_components_src_button_button_component__WEBPACK_IMPORTED_MODULE_30__.ButtonComponent, _libs_components_src_checkbox_checkbox_component__WEBPACK_IMPORTED_MODULE_31__.CheckboxComponent, _libs_components_src_icon_button_icon_button_component__WEBPACK_IMPORTED_MODULE_32__.BitIconButtonComponent, _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_33__.ButtonLinkDirective, _libs_components_src_menu_menu_component__WEBPACK_IMPORTED_MODULE_34__.MenuComponent, _libs_components_src_menu_menu_trigger_for_directive__WEBPACK_IMPORTED_MODULE_35__.MenuTriggerForDirective, _libs_components_src_menu_menu_item_directive__WEBPACK_IMPORTED_MODULE_36__.MenuItemDirective, _libs_components_src_table_cell_directive__WEBPACK_IMPORTED_MODULE_37__.CellDirective, _libs_components_src_table_row_directive__WEBPACK_IMPORTED_MODULE_38__.RowDirective, _libs_components_src_table_sortable_component__WEBPACK_IMPORTED_MODULE_39__.SortableComponent, _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_40__.TableBodyDirective, _libs_components_src_table_table_component__WEBPACK_IMPORTED_MODULE_40__.TableComponent, _libs_components_src_search_search_component__WEBPACK_IMPORTED_MODULE_41__.SearchComponent, _layouts_header_web_header_component__WEBPACK_IMPORTED_MODULE_9__.WebHeaderComponent, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_42__.CdkFixedSizeVirtualScroll, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_42__.CdkVirtualForOf, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_42__.CdkVirtualScrollViewport, _libs_components_src_layout_scroll_layout_directive__WEBPACK_IMPORTED_MODULE_43__.ScrollLayoutDirective, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_10__.I18nPipe], encapsulation: 2 });


/***/ }),

/***/ "./src/app/admin-console/organizations/organization-routing.module.ts":
/*!****************************************************************************!*\
  !*** ./src/app/admin-console/organizations/organization-routing.module.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationsRoutingModule: () => (/* binding */ OrganizationsRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router_module-DTJgGWLd.mjs");
/* harmony import */ var _bitwarden_angular_auth_guards__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/angular/auth/guards */ "../../libs/angular/src/auth/guards/index.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _auth_guards_deep_link_deep_link_guard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../auth/guards/deep-link/deep-link.guard */ "./src/app/auth/guards/deep-link/deep-link.guard.ts");
/* harmony import */ var _collections_vault_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collections/vault.module */ "./src/app/admin-console/organizations/collections/vault.module.ts");
/* harmony import */ var _guards_org_permissions_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./guards/org-permissions.guard */ "./src/app/admin-console/organizations/guards/org-permissions.guard.ts");
/* harmony import */ var _guards_org_redirect_guard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./guards/org-redirect.guard */ "./src/app/admin-console/organizations/guards/org-redirect.guard.ts");
/* harmony import */ var _layouts_organization_layout_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layouts/organization-layout.component */ "./src/app/admin-console/organizations/layouts/organization-layout.component.ts");
/* harmony import */ var _manage_groups_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./manage/groups.component */ "./src/app/admin-console/organizations/manage/groups.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");











const routes = [
    {
        path: ":organizationId",
        component: _layouts_organization_layout_component__WEBPACK_IMPORTED_MODULE_6__.OrganizationLayoutComponent,
        canActivate: [(0,_auth_guards_deep_link_deep_link_guard__WEBPACK_IMPORTED_MODULE_2__.deepLinkGuard)(), _bitwarden_angular_auth_guards__WEBPACK_IMPORTED_MODULE_0__.authGuard, (0,_guards_org_permissions_guard__WEBPACK_IMPORTED_MODULE_4__.organizationPermissionsGuard)(_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessOrgAdmin)],
        children: [
            {
                path: "",
                pathMatch: "full",
                canActivate: [(0,_guards_org_redirect_guard__WEBPACK_IMPORTED_MODULE_5__.organizationRedirectGuard)(getOrganizationRoute)],
                children: [], // This is required to make the auto redirect work, },
            },
            {
                path: "vault",
                loadChildren: () => _collections_vault_module__WEBPACK_IMPORTED_MODULE_3__.VaultModule,
            },
            {
                path: "settings",
                loadChildren: () => __webpack_require__.e(/*! import() */ "src_app_admin-console_organizations_settings_organization-settings_module_ts").then(__webpack_require__.bind(__webpack_require__, /*! ./settings/organization-settings.module */ "./src/app/admin-console/organizations/settings/organization-settings.module.ts")).then((m) => m.OrganizationSettingsModule),
            },
            {
                path: "members",
                loadChildren: () => __webpack_require__.e(/*! import() */ "src_app_admin-console_organizations_members_index_ts").then(__webpack_require__.bind(__webpack_require__, /*! ./members */ "./src/app/admin-console/organizations/members/index.ts")).then((m) => m.MembersModule),
            },
            {
                component: _manage_groups_component__WEBPACK_IMPORTED_MODULE_7__.GroupsComponent,
                path: "groups",
                canActivate: [(0,_guards_org_permissions_guard__WEBPACK_IMPORTED_MODULE_4__.organizationPermissionsGuard)(_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessGroupsTab)],
                data: {
                    titleId: "groups",
                },
            },
            {
                path: "reporting",
                loadChildren: () => __webpack_require__.e(/*! import() */ "src_app_admin-console_organizations_reporting_organization-reporting_module_ts").then(__webpack_require__.bind(__webpack_require__, /*! ../organizations/reporting/organization-reporting.module */ "./src/app/admin-console/organizations/reporting/organization-reporting.module.ts")).then((m) => m.OrganizationReportingModule),
            },
            {
                path: "billing",
                loadChildren: () => Promise.all(/*! import() */[__webpack_require__.e("src_app_billing_shared_adjust-storage-dialog_adjust-storage-dialog_component_ts-src_app_billi-7fb93c"), __webpack_require__.e("src_app_billing_organizations_organization-billing_module_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../billing/organizations/organization-billing.module */ "./src/app/billing/organizations/organization-billing.module.ts")).then((m) => m.OrganizationBillingModule),
            },
        ],
    },
];
function getOrganizationRoute(organization) {
    if ((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessVaultTab)(organization)) {
        return "vault";
    }
    if ((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessMembersTab)(organization)) {
        return "members";
    }
    if ((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessGroupsTab)(organization)) {
        return "groups";
    }
    if ((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessReportingTab)(organization)) {
        return "reporting";
    }
    if ((0,_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.canAccessSettingsTab)(organization)) {
        return "settings";
    }
    return undefined;
}
class OrganizationsRoutingModule {
}
OrganizationsRoutingModule.ɵfac = function OrganizationsRoutingModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || OrganizationsRoutingModule)(); };
OrganizationsRoutingModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineNgModule"]({ type: OrganizationsRoutingModule });
OrganizationsRoutingModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineInjector"]({ imports: [_angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule] });


/***/ }),

/***/ "./src/app/admin-console/organizations/organization.module.ts":
/*!********************************************************************!*\
  !*** ./src/app/admin-console/organizations/organization.module.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrganizationModule: () => (/* binding */ OrganizationModule)
/* harmony export */ });
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/cdk/scrolling */ "../../node_modules/@angular/cdk/fesm2022/scrolling.mjs");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module */ "./src/app/billing/organizations/warnings/organization-warnings.module.ts");
/* harmony import */ var _layouts_header_header_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layouts/header/header.module */ "./src/app/layouts/header/header.module.ts");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core */ "./src/app/admin-console/organizations/core/index.ts");
/* harmony import */ var _organization_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./organization-routing.module */ "./src/app/admin-console/organizations/organization-routing.module.ts");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared */ "./src/app/admin-console/organizations/shared/index.ts");
/* harmony import */ var _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared/components/access-selector */ "./src/app/admin-console/organizations/shared/components/access-selector/index.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");








class OrganizationModule {
}
OrganizationModule.ɵfac = function OrganizationModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || OrganizationModule)(); };
OrganizationModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineNgModule"]({ type: OrganizationModule });
OrganizationModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineInjector"]({ imports: [_shared__WEBPACK_IMPORTED_MODULE_4__.SharedOrganizationModule,
        _shared_components_access_selector__WEBPACK_IMPORTED_MODULE_5__.AccessSelectorModule,
        _core__WEBPACK_IMPORTED_MODULE_2__.CoreOrganizationModule,
        _organization_routing_module__WEBPACK_IMPORTED_MODULE_3__.OrganizationsRoutingModule,
        _layouts_header_header_module__WEBPACK_IMPORTED_MODULE_1__.HeaderModule,
        _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__.ScrollingModule,
        _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_0__.OrganizationWarningsModule] });


/***/ }),

/***/ "./src/app/admin-console/organizations/shared/components/access-selector/index.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/admin-console/organizations/shared/components/access-selector/index.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccessItemType: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.AccessItemType),
/* harmony export */   AccessSelectorComponent: () => (/* reexport safe */ _access_selector_component__WEBPACK_IMPORTED_MODULE_0__.AccessSelectorComponent),
/* harmony export */   AccessSelectorModule: () => (/* reexport safe */ _access_selector_module__WEBPACK_IMPORTED_MODULE_1__.AccessSelectorModule),
/* harmony export */   CollectionPermission: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.CollectionPermission),
/* harmony export */   PermissionMode: () => (/* reexport safe */ _access_selector_component__WEBPACK_IMPORTED_MODULE_0__.PermissionMode),
/* harmony export */   convertToPermission: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.convertToPermission),
/* harmony export */   convertToSelectionView: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.convertToSelectionView),
/* harmony export */   getPermissionList: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.getPermissionList),
/* harmony export */   mapGroupToAccessItemView: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.mapGroupToAccessItemView),
/* harmony export */   mapUserToAccessItemView: () => (/* reexport safe */ _access_selector_models__WEBPACK_IMPORTED_MODULE_2__.mapUserToAccessItemView)
/* harmony export */ });
/* harmony import */ var _access_selector_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./access-selector.component */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.component.ts");
/* harmony import */ var _access_selector_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./access-selector.module */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.module.ts");
/* harmony import */ var _access_selector_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./access-selector.models */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.models.ts");





/***/ }),

/***/ "./src/app/admin-console/organizations/shared/index.ts":
/*!*************************************************************!*\
  !*** ./src/app/admin-console/organizations/shared/index.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SharedOrganizationModule: () => (/* reexport safe */ _shared_organization_module__WEBPACK_IMPORTED_MODULE_0__.SharedOrganizationModule)
/* harmony export */ });
/* harmony import */ var _shared_organization_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared-organization.module */ "./src/app/admin-console/organizations/shared/shared-organization.module.ts");



/***/ }),

/***/ "./src/app/admin-console/organizations/shared/shared-organization.module.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/admin-console/organizations/shared/shared-organization.module.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SharedOrganizationModule: () => (/* binding */ SharedOrganizationModule)
/* harmony export */ });
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/search/search.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _components_access_selector_access_selector_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/access-selector/access-selector.module */ "./src/app/admin-console/organizations/shared/components/access-selector/access-selector.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");




class SharedOrganizationModule {
}
SharedOrganizationModule.ɵfac = function SharedOrganizationModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || SharedOrganizationModule)(); };
SharedOrganizationModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({ type: SharedOrganizationModule });
SharedOrganizationModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({ imports: [_shared_shared_module__WEBPACK_IMPORTED_MODULE_0__.SharedModule, _components_access_selector_access_selector_module__WEBPACK_IMPORTED_MODULE_1__.AccessSelectorModule, _bitwarden_components__WEBPACK_IMPORTED_MODULE_3__.SearchModule, _shared_shared_module__WEBPACK_IMPORTED_MODULE_0__.SharedModule, _components_access_selector_access_selector_module__WEBPACK_IMPORTED_MODULE_1__.AccessSelectorModule, _bitwarden_components__WEBPACK_IMPORTED_MODULE_3__.SearchModule] });


/***/ }),

/***/ "./src/app/billing/warnings/components/index.ts":
/*!******************************************************!*\
  !*** ./src/app/billing/warnings/components/index.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaxIdWarningComponent: () => (/* reexport safe */ _tax_id_warning_component__WEBPACK_IMPORTED_MODULE_0__.TaxIdWarningComponent)
/* harmony export */ });
/* harmony import */ var _tax_id_warning_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tax-id-warning.component */ "./src/app/billing/warnings/components/tax-id-warning.component.ts");



/***/ }),

/***/ "./src/app/billing/warnings/components/tax-id-warning.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/billing/warnings/components/tax-id-warning.component.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaxIdWarningComponent: () => (/* binding */ TaxIdWarningComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/filter.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/auth/services/account.service */ "../../libs/common/src/auth/services/account.service.ts");
/* harmony import */ var _bitwarden_common_enums_feature_flag_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/enums/feature-flag.enum */ "../../libs/common/src/enums/feature-flag.enum.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/config/config.service */ "../../libs/common/src/platform/abstractions/config/config.service.ts");
/* harmony import */ var _bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/common/platform/abstractions/i18n.service */ "../../libs/common/src/platform/abstractions/i18n.service.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/banner/banner.module.ts");
/* harmony import */ var _bitwarden_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/state */ "../../libs/state/src/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_clients__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/clients */ "./src/app/billing/clients/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_payment_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/payment/components */ "./src/app/billing/payment/components/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/warnings/types */ "./src/app/billing/warnings/types/index.ts");
/* harmony import */ var _bitwarden_web_vault_app_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bitwarden/web-vault/app/shared */ "./src/app/shared/index.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _libs_components_src_banner_banner_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../../../libs/components/src/banner/banner.component */ "../../libs/components/src/banner/banner.component.ts");
/* harmony import */ var _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../../libs/components/src/link/link.directive */ "../../libs/components/src/link/link.directive.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};























function TaxIdWarningComponent_Conditional_0_Conditional_2_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "bit-banner", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClose", function TaxIdWarningComponent_Conditional_0_Conditional_2_Template_bit_banner_onClose_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r1.trackDismissal()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](2, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function TaxIdWarningComponent_Conditional_0_Conditional_2_Template_a_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r1.editBillingAddress()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    const view_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreadContextLet"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", view_r3.message, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", view_r3.callToAction, " ");
} }
function TaxIdWarningComponent_Conditional_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdeclareLet"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, TaxIdWarningComponent_Conditional_0_Conditional_2_Template, 4, 2, "bit-banner", 0);
} if (rf & 2) {
    const view_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵstoreLet"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](1, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]().view$));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵconditional"](view_r4 ? 2 : -1);
} }
const DISMISSALS_COUNT_KEY = new _bitwarden_state__WEBPACK_IMPORTED_MODULE_5__.UserKeyDefinition(_bitwarden_state__WEBPACK_IMPORTED_MODULE_5__.BILLING_DISK, "taxIdWarningDismissalCounts", {
    deserializer: (dismissalCounts) => dismissalCounts,
    clearOn: [],
});
const DISMISSED_THIS_SESSION_KEY = new _bitwarden_state__WEBPACK_IMPORTED_MODULE_5__.UserKeyDefinition(_bitwarden_state__WEBPACK_IMPORTED_MODULE_5__.BILLING_DISK, "taxIdWarningDismissedThisSession", {
    deserializer: (dismissedThisSession) => dismissedThisSession,
    clearOn: ["logout"],
});
const shouldShowWarning = (warning, dismissals) => {
    const dismissalsForType = dismissals[warning];
    if (dismissalsForType.dismissedThisSession) {
        return false;
    }
    return dismissalsForType.count < 3;
};
class TaxIdWarningComponent {
    constructor(accountService, configService, dialogService, i18nService, subscriberBillingClient, stateProvider) {
        this.accountService = accountService;
        this.configService = configService;
        this.dialogService = dialogService;
        this.i18nService = i18nService;
        this.subscriberBillingClient = subscriberBillingClient;
        this.stateProvider = stateProvider;
        this.billingAddressUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_10__.EventEmitter();
        this.enableTaxIdWarning$ = this.configService.getFeatureFlag$(_bitwarden_common_enums_feature_flag_enum__WEBPACK_IMPORTED_MODULE_2__.FeatureFlag.PM22415_TaxIDWarnings);
        this.userId$ = this.accountService.activeAccount$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.filter)((account) => account !== null), _bitwarden_common_auth_services_account_service__WEBPACK_IMPORTED_MODULE_1__.getUserId);
        this.dismissals$ = this.userId$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.switchMap)((userId) => (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([
            this.stateProvider.getUser(userId, DISMISSALS_COUNT_KEY).state$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_14__.map)((dismissalCounts) => {
                var _a, _b;
                if (!dismissalCounts) {
                    return {
                        [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]: 0,
                        [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]: 0,
                    };
                }
                return {
                    [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]: (_a = dismissalCounts[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]) !== null && _a !== void 0 ? _a : 0,
                    [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]: (_b = dismissalCounts[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]) !== null && _b !== void 0 ? _b : 0,
                };
            })),
            this.stateProvider.getUser(userId, DISMISSED_THIS_SESSION_KEY).state$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_14__.map)((dismissedThisSession) => {
                var _a, _b;
                if (!dismissedThisSession) {
                    return {
                        [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]: false,
                        [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]: false,
                    };
                }
                return {
                    [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]: (_a = dismissedThisSession[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]) !== null && _a !== void 0 ? _a : false,
                    [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]: (_b = dismissedThisSession[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]) !== null && _b !== void 0 ? _b : false,
                };
            })),
        ])), (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.map)(([dismissalCounts, dismissedThisSession]) => ({
            [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing]: {
                count: dismissalCounts[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing],
                dismissedThisSession: dismissedThisSession[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing],
            },
            [_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification]: {
                count: dismissalCounts[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification],
                dismissedThisSession: dismissedThisSession[_bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification],
            },
        })));
        this.getWarningSubject = new rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(null);
        this.warning$ = this.getWarningSubject.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.switchMap)(() => this.getWarning$()));
        this.view$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.combineLatest)([this.warning$, this.dismissals$]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_14__.map)(([warning, dismissals]) => {
            if (!warning || warning === _bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.PendingVerification) {
                return null;
            }
            if (!shouldShowWarning(warning, dismissals)) {
                return null;
            }
            switch (warning) {
                case _bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.Missing: {
                    return {
                        message: this.i18nService.t("missingTaxIdWarning"),
                        callToAction: this.i18nService.t("addTaxId"),
                    };
                }
                case _bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.FailedVerification: {
                    return {
                        message: this.i18nService.t("unverifiedTaxIdWarning"),
                        callToAction: this.i18nService.t("editTaxId"),
                    };
                }
            }
        }));
        this.editBillingAddress = () => __awaiter(this, void 0, void 0, function* () {
            var _a;
            const billingAddress = yield this.subscriberBillingClient.getBillingAddress(this.subscriber);
            const warning = (_a = (yield (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.firstValueFrom)(this.warning$))) !== null && _a !== void 0 ? _a : undefined;
            const dialogRef = _bitwarden_web_vault_app_billing_payment_components__WEBPACK_IMPORTED_MODULE_7__.EditBillingAddressDialogComponent.open(this.dialogService, {
                data: {
                    subscriber: this.subscriber,
                    billingAddress,
                    taxIdWarning: warning,
                },
            });
            const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(dialogRef.closed);
            if ((result === null || result === void 0 ? void 0 : result.type) === "success") {
                this.billingAddressUpdated.emit();
            }
        });
        this.trackDismissal = () => __awaiter(this, void 0, void 0, function* () {
            const warning = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.firstValueFrom)(this.warning$);
            if (!warning || warning === _bitwarden_web_vault_app_billing_warnings_types__WEBPACK_IMPORTED_MODULE_8__.TaxIdWarningTypes.PendingVerification) {
                return;
            }
            const userId = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.firstValueFrom)(this.userId$);
            const updateDismissalCounts = this.stateProvider
                .getUser(userId, DISMISSALS_COUNT_KEY)
                .update((dismissalCounts) => {
                if (!dismissalCounts) {
                    return {
                        [warning]: 1,
                    };
                }
                const dismissalsByType = dismissalCounts[warning];
                if (!dismissalsByType) {
                    return Object.assign(Object.assign({}, dismissalCounts), { [warning]: 1 });
                }
                return Object.assign(Object.assign({}, dismissalCounts), { [warning]: dismissalsByType + 1 });
            });
            const updateDismissedThisSession = this.stateProvider
                .getUser(userId, DISMISSED_THIS_SESSION_KEY)
                .update((dismissedThisSession) => {
                if (!dismissedThisSession) {
                    return {
                        [warning]: true,
                    };
                }
                const dismissedThisSessionByType = dismissedThisSession[warning];
                if (!dismissedThisSessionByType) {
                    return Object.assign({}, dismissedThisSession);
                }
                return Object.assign(Object.assign({}, dismissedThisSession), { [warning]: dismissedThisSessionByType });
            });
            yield Promise.all([updateDismissalCounts, updateDismissedThisSession]);
        });
    }
    ngOnInit() {
        this.getWarningSubject.next(this.getWarning$);
    }
}
TaxIdWarningComponent.ɵfac = function TaxIdWarningComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || TaxIdWarningComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_0__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_config_config_service__WEBPACK_IMPORTED_MODULE_3__.ConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_18__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_common_platform_abstractions_i18n_service__WEBPACK_IMPORTED_MODULE_4__.I18nService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_web_vault_app_billing_clients__WEBPACK_IMPORTED_MODULE_6__.SubscriberBillingClient), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_bitwarden_state__WEBPACK_IMPORTED_MODULE_5__.StateProvider)); };
TaxIdWarningComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: TaxIdWarningComponent, selectors: [["app-tax-id-warning"]], inputs: { subscriber: "subscriber", getWarning$: "getWarning$" }, outputs: { billingAddressUpdated: "billingAddressUpdated" }, decls: 2, vars: 3, consts: [["id", "tax-id-warning-banner", "bannerType", "warning"], ["id", "tax-id-warning-banner", "bannerType", "warning", 3, "onClose"], ["bitLink", "", "linkType", "secondary", "rel", "noreferrer noopener", 1, "tw-cursor-pointer", 3, "click"]], template: function TaxIdWarningComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, TaxIdWarningComponent_Conditional_0_Template, 3, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](1, "async");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵconditional"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](1, 1, ctx.enableTaxIdWarning$) ? 0 : -1);
    } }, dependencies: [_bitwarden_components__WEBPACK_IMPORTED_MODULE_19__.BannerModule, _libs_components_src_banner_banner_component__WEBPACK_IMPORTED_MODULE_20__.BannerComponent, _bitwarden_web_vault_app_shared__WEBPACK_IMPORTED_MODULE_9__.SharedModule, _libs_components_src_link_link_directive__WEBPACK_IMPORTED_MODULE_21__.AnchorLinkDirective, _angular_common__WEBPACK_IMPORTED_MODULE_22__.AsyncPipe], encapsulation: 2 });


/***/ }),

/***/ "./src/app/layouts/org-switcher/org-switcher.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/layouts/org-switcher/org-switcher.component.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OrgSwitcherComponent: () => (/* binding */ OrgSwitcherComponent)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");
/* harmony import */ var _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bitwarden/angular/jslib.module */ "../../libs/angular/src/jslib.module.ts");
/* harmony import */ var _bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction */ "../../libs/common/src/admin-console/abstractions/organization/organization.service.abstraction.ts");
/* harmony import */ var _bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bitwarden/common/auth/abstractions/account.service */ "../../libs/common/src/auth/abstractions/account.service.ts");
/* harmony import */ var _bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bitwarden/common/billing/abstractions/billing-api.service.abstraction */ "../../libs/common/src/billing/abstractions/billing-api.service.abstraction.ts");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/navigation/navigation.module.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/organization-warnings.module */ "./src/app/billing/organizations/warnings/organization-warnings.module.ts");
/* harmony import */ var _bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bitwarden/web-vault/app/billing/organizations/warnings/services */ "./src/app/billing/organizations/warnings/services/index.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs");
/* harmony import */ var _bitwarden_components__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @bitwarden/components */ "../../libs/components/src/dialog/dialog.service.ts");
/* harmony import */ var _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../libs/components/src/a11y/a11y-title.directive */ "../../libs/components/src/a11y/a11y-title.directive.ts");
/* harmony import */ var _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../libs/angular/src/platform/pipes/i18n.pipe */ "../../libs/angular/src/platform/pipes/i18n.pipe.ts");
/* harmony import */ var _libs_components_src_navigation_nav_divider_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../libs/components/src/navigation/nav-divider.component */ "../../libs/components/src/navigation/nav-divider.component.ts");
/* harmony import */ var _libs_components_src_navigation_nav_group_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../libs/components/src/navigation/nav-group.component */ "../../libs/components/src/navigation/nav-group.component.ts");
/* harmony import */ var _libs_components_src_navigation_nav_item_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../libs/components/src/navigation/nav-item.component */ "../../libs/components/src/navigation/nav-item.component.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
// FIXME: Update this file to be type safe and remove this and next line
// @ts-strict-ignore
























const _c0 = (a0, a1) => [a0, a1];
const _c1 = a0 => ["../", a0];
const _c2 = () => ({ exact: true });
function OrgSwitcherComponent_bit_nav_group_0_i_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](2, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("appA11yTitle", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 2, "organizationIsDisabled"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](2, 4, "organizationIsDisabled"));
} }
function OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_i_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](2, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("appA11yTitle", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 2, "organizationIsDisabled"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](2, 4, "organizationIsDisabled"));
} }
function OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "bit-nav-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("mainContentClicked", function OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_Template_bit_nav_item_mainContentClicked_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r3); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.toggle()); })("click", function OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_Template_bit_nav_item_click_0_listener() { const org_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r3).$implicit; const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.showInactiveSubscriptionDialog(org_r4)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_i_2_Template, 3, 6, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const org_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("text", org_r4.name)("ariaLabel", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction2"](7, _c0, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 5, "organization"), org_r4.name).join(" "))("route", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](10, _c1, org_r4.id))("routerLinkActiveOptions", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](12, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", org_r4.enabled == false);
} }
function OrgSwitcherComponent_bit_nav_group_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, OrgSwitcherComponent_bit_nav_group_0_ng_container_3_bit_nav_item_1_Template, 3, 13, "bit-nav-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const organizations_r5 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", organizations_r5);
} }
function OrgSwitcherComponent_bit_nav_group_0_bit_nav_item_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "bit-nav-item", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "i18n");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("text", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 1, "newOrganization"));
} }
function OrgSwitcherComponent_bit_nav_group_0_Template(rf, ctx) { if (rf & 1) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "bit-nav-group", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "i18n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtwoWayListener"]("openChange", function OrgSwitcherComponent_bit_nav_group_0_Template_bit_nav_group_openChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r1); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtwoWayBindingSet"](ctx_r1.open, $event) || (ctx_r1.open = $event); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"]($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, OrgSwitcherComponent_bit_nav_group_0_i_2_Template, 3, 6, "i", 2)(3, OrgSwitcherComponent_bit_nav_group_0_ng_container_3_Template, 2, 1, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](4, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](5, OrgSwitcherComponent_bit_nav_group_0_bit_nav_item_5_Template, 2, 3, "bit-nav-item", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](6, "bit-nav-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const activeOrganization_r6 = ctx.ngIf;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("text", activeOrganization_r6.name)("ariaLabel", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction2"](12, _c0, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 8, "organization"), activeOrganization_r6.name).join(" "))("route", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](15, _c1, activeOrganization_r6.id))("routerLinkActiveOptions", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](17, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtwoWayProperty"]("open", ctx_r1.open);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !activeOrganization_r6.enabled);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](4, 10, ctx_r1.organizations$));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx_r1.hideNewButton);
} }
class OrgSwitcherComponent {
    constructor(route, dialogService, organizationService, billingApiService, accountService, organizationWarningsService) {
        this.route = route;
        this.dialogService = dialogService;
        this.organizationService = organizationService;
        this.billingApiService = billingApiService;
        this.accountService = accountService;
        this.organizationWarningsService = organizationWarningsService;
        this.organizations$ = this.accountService.activeAccount$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.switchMap)((account) => this.organizationService
            .organizations$(account === null || account === void 0 ? void 0 : account.id)
            .pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.map)((orgs) => orgs.filter((org) => this.filter(org)).sort((a, b) => a.name.localeCompare(b.name))))));
        this.activeOrganization$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.combineLatest)([
            this.route.paramMap,
            this.organizations$,
        ]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.map)(([params, orgs]) => orgs.find((org) => org.id === params.get("organizationId"))));
        /**
         * Filter function for displayed organizations in the `org-switcher`
         * @example
         * const smFilter = (org: Organization) => org.canAccessSecretsManager
         * // <org-switcher [filter]="smFilter">
         */
        this.filter = () => true;
        /**
         * Is `true` if the expanded content is visible
         */
        this.open = false;
        this.openChange = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        /**
         * Visibility of the New Organization button
         */
        this.hideNewButton = false;
        this.showInactiveSubscriptionDialog = (organization) => __awaiter(this, void 0, void 0, function* () {
            return yield (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.firstValueFrom)(this.organizationWarningsService.showInactiveSubscriptionDialog$(organization));
        });
    }
    toggle(event) {
        event === null || event === void 0 ? void 0 : event.stopPropagation();
        this.open = !this.open;
        this.openChange.emit(this.open);
    }
}
OrgSwitcherComponent.ɵfac = function OrgSwitcherComponent_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || OrgSwitcherComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_12__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_bitwarden_components__WEBPACK_IMPORTED_MODULE_13__.DialogService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_bitwarden_common_admin_console_abstractions_organization_organization_service_abstraction__WEBPACK_IMPORTED_MODULE_1__.OrganizationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_bitwarden_common_billing_abstractions_billing_api_service_abstraction__WEBPACK_IMPORTED_MODULE_3__.BillingApiServiceAbstraction), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_bitwarden_common_auth_abstractions_account_service__WEBPACK_IMPORTED_MODULE_2__.AccountService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_bitwarden_web_vault_app_billing_organizations_warnings_services__WEBPACK_IMPORTED_MODULE_5__.OrganizationWarningsService)); };
OrgSwitcherComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: OrgSwitcherComponent, selectors: [["org-switcher"]], inputs: { filter: "filter", open: "open", hideNewButton: "hideNewButton" }, outputs: { openChange: "openChange" }, decls: 2, vars: 3, consts: [["icon", "bwi-business", 3, "text", "ariaLabel", "route", "routerLinkActiveOptions", "open", "openChange", 4, "ngIf"], ["icon", "bwi-business", 3, "openChange", "text", "ariaLabel", "route", "routerLinkActiveOptions", "open"], ["slot", "end", "class", "bwi bwi-exclamation-triangle tw-my-auto", 3, "appA11yTitle", 4, "ngIf"], [4, "ngIf"], ["icon", "bwi-plus", "route", "/create-organization", 3, "text", 4, "ngIf"], ["slot", "end", 1, "bwi", "bwi-exclamation-triangle", "tw-my-auto", 3, "appA11yTitle"], [3, "text", "ariaLabel", "route", "routerLinkActiveOptions", "mainContentClicked", "click", 4, "ngFor", "ngForOf"], [3, "mainContentClicked", "click", "text", "ariaLabel", "route", "routerLinkActiveOptions"], ["slot", "end", "class", "bwi bwi-exclamation-triangle", 3, "appA11yTitle", 4, "ngIf"], ["slot", "end", 1, "bwi", "bwi-exclamation-triangle", 3, "appA11yTitle"], ["icon", "bwi-plus", "route", "/create-organization", 3, "text"]], template: function OrgSwitcherComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, OrgSwitcherComponent_bit_nav_group_0_Template, 7, 18, "bit-nav-group", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](1, "async");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](1, 1, ctx.activeOrganization$));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, _angular_common__WEBPACK_IMPORTED_MODULE_14__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_14__.AsyncPipe, _bitwarden_angular_jslib_module__WEBPACK_IMPORTED_MODULE_0__.JslibModule, _libs_components_src_a11y_a11y_title_directive__WEBPACK_IMPORTED_MODULE_15__.A11yTitleDirective, _libs_angular_src_platform_pipes_i18n_pipe__WEBPACK_IMPORTED_MODULE_6__.I18nPipe, _bitwarden_components__WEBPACK_IMPORTED_MODULE_16__.NavigationModule, _libs_components_src_navigation_nav_divider_component__WEBPACK_IMPORTED_MODULE_17__.NavDividerComponent, _libs_components_src_navigation_nav_group_component__WEBPACK_IMPORTED_MODULE_18__.NavGroupComponent, _libs_components_src_navigation_nav_item_component__WEBPACK_IMPORTED_MODULE_19__.NavItemComponent, _bitwarden_web_vault_app_billing_organizations_warnings_organization_warnings_module__WEBPACK_IMPORTED_MODULE_4__.OrganizationWarningsModule], encapsulation: 2 });


/***/ })

}]);
//# sourceMappingURL=src_app_admin-console_organizations_organization_module_ts.a1fcef56111ca4997dab.js.map