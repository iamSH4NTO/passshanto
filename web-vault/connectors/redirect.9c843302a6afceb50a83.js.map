{"version":3,"file":"connectors/redirect.9c843302a6afceb50a83.js","mappings":";;;;AAAA,0HAA0H;AAC1H,yFAAyF;AACzF,wIAAwI;AACxI,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;IACnC,mIAAmI;IACnI,MAAM,UAAU,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAEjD,4CAA4C;IAC5C,MAAM,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,uBAAuB;IAEtE,IAAI,CAAC,QAAQ,EAAE,CAAC;QACd,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;IAC1E,CAAC;IAED,MAAM,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,MAAM,QAAQ,EAAE,CAAC;IACzD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;AAChC,CAAC,CAAC,CAAC","sources":["webpack://@bitwarden/web-vault/./src/connectors/redirect.ts"],"sourcesContent":["// This redirect connector is used to redirect users to the correct URL after they have been sent here from an email link.\n// The fragment contains the information needed to redirect the user to the correct page.\n// This is required because android app links couldn't properly handle the angular hash based route we originally had in the email link.\nwindow.addEventListener(\"load\", () => {\n  // ex: https://vault.bitwarden.com/redirect-connector.html#finish-signup?token=fakeToken&email=example%40example.com&fromEmail=true\n  const currentUrl = new URL(window.location.href);\n\n  // Get the fragment (everything after the #)\n  const fragment = currentUrl.hash.substring(1); // Remove the leading #\n\n  if (!fragment) {\n    throw new Error(\"No fragment found in URL. Cannot determine redirect.\");\n  }\n\n  const newUrl = `${window.location.origin}/#/${fragment}`;\n  window.location.href = newUrl;\n});\n"],"names":[],"sourceRoot":""}